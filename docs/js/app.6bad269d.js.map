{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4039","webpack:///./src/components/TRP.vue?078c","webpack:///./src/components/TRP.vue?3322","webpack:///./src/components/TRP.vue?2409","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/components/TRP.vue","webpack:///./src/components/TRP.vue?d898","webpack:///./src/assets/vendor/semantic/dist/semantic.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","_m","_v","_l","keys","viewModel","prop","idx","_s","label","toUpperCase","unit","val","staticStyle","class","locked","on","$event","directives","rawName","expression","modifiers","domProps","MGR","target","M","reset","component","components","TRP","Vue","config","productionTip","render","h","App","$mount","b","sw","computed","massInKG","Number","parseFloat","set","console","log","newValue","massInGrams","$nextTick","$","slider","balance","methods","mRounded","bal","init","mounted","document","undefined","isFunction","obj","nodeType","site","fn","parameters","returnedValue","time","Date","getTime","performance","query","arguments","methodInvoked","queryArguments","settings","isPlainObject","extend","namespace","error","moduleNamespace","$document","$module","element","instance","initialize","instantiate","verbose","normalize","fix","requestAnimationFrame","debug","disable","group","groupEnd","groupCollapsed","markTimeline","consoleClear","clear","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","moduleExists","enabled","enabledModules","each","index","disabled","disabledModules","change","setting","modifyExisting","$existingModules","newSettings","enable","cache","info","warn","destroy","removeData","internal","Function","message","currentTime","executionTime","previousTime","clearTimeout","timer","display","title","totalTime","table","invoke","passedArguments","context","maxDepth","found","response","split","depth","camelCaseValue","charAt","method","Array","isArray","siteNamespace","namespaceStub","sections","section","utilities","expr","createPseudo","dataName","elem","match","jQuery","Math","self","form","$allModules","moduleSelector","selector","legacyParameters","$field","$group","$message","$submit","validation","metadata","className","regExp","eventNamespace","formErrors","keyHeldDown","submitting","dirty","history","bindEvents","defaults","autoCheckRequired","autoCheck","removeEvents","refresh","find","field","prompt","submit","attachEvents","action","event","preventDefault","validate","blur","keyboardShortcuts","keydown","el","$input","type","inputEvent","changeEvent","preventLeaving","beforeUnload","e","triggerHandler","determine","isDirty","onDirty","onClean","$element","parent","$fieldGroup","closest","$prompt","$calendar","uiCalendar","defaultValue","isCheckbox","is","uiCheckbox","isDropdown","uiDropdown","can","useElement","isCalendar","isErrored","hasClass","removeClass","remove","dropdown","calendar","isValid","allValid","fieldName","formIsDirty","$el","filter","checkbox","checkboxDirty","fieldDirty","clean","stopImmediatePropagation","bracketedRule","rule","bracket","shorthandFields","fields","fieldKeys","firstRule","shorthandRules","rules","empty","blank","String","trim","valid","initialValue","currentValue","boolRegex","isBoolValue","test","regex","RegExp","justDirty","justClean","off","which","isInput","input","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","validationRules","revalidate","delay","returnValue","text","leavingMessage","ancillaryValue","ruleName","replace","createElement","oninput","onpropertychange","fieldsFromShorthand","fullFields","$label","ancillary","identifier","unspecifiedRule","requiresValue","search","requiresName","eq","unspecifiedField","isLegacySettings","oldSyntax","string","$fields","add","fieldValidation","groupField","results","values","isRadio","radio","isMultiple","indexOf","isChecked","date","dateHandling","formatter","datetime","month","year","dirtyFields","has","noElement","newValidation","_index","grep","item","errors","children","promptExists","addClass","inline","templates","appendTo","html","transition","duration","fadeIn","fadeOut","success","$parent","isEmptyObject","$multipleField","fieldExists","trigger","asClean","asDirty","$elGroup","isRequired","required","isDisabled","hasEmptyRule","attr","ignoreCallbacks","onSuccess","onFailure","showErrors","$dependsField","depends","fieldValid","fieldErrors","optional","invalidFields","onValid","concat","onInvalid","ruleFunction","shouldTrim","noRule","silent","htmlID","decimal","email","flags","integer","number","url","checked","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","pressed","labelClasses","Intl","DateTimeFormat","format","day","hour","minute","second","regExpParts","range","min","max","parts","intRegExp","toLowerCase","notValue","contains","containsExactly","requiredLength","matchingValue","matchingElement","toString","cardNumber","cardTypes","unionPay","cards","visa","pattern","amex","mastercard","discover","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","inArray","multiple","producedValue","sum","parseInt","accordion","observer","$title","$content","content","events","observeChanges","MutationObserver","mutations","observe","childList","subtree","click","toggle","$activeTitle","$activeContent","next","isAnimating","animating","isActive","active","isOpen","isOpening","collapsible","close","open","onOpening","onChanging","exclusive","closeOthers","stop","animateChildren","animation","queue","useFailSafe","skipInlineHidden","onComplete","animate","opacity","resetOpacity","slideDown","easing","onOpen","onChange","isClosing","onClosing","slideUp","onClose","$openTitles","$nestedTitles","$openContents","$parentTitles","parents","prev","$activeAccordion","activeSelector","activeContent","closeNested","css","removeAttr","easeOutQuad","x","timeGapTable","isTouch","parser","timeGap","minTimeGap","$container","popup","$activator","activator","isTouchDown","focusDateUsedForRange","setup","unbind","minDate","maxDate","first","$activatorParent","domPositionFunction","append","onVisible","onHidden","focus","onShow","focusDate","startMode","options","popupOptions","hoverable","closable","onHide","touchReadonly","initialDate","formatInput","row","cell","pageGrid","today","helper","dateInRange","isYear","isMonth","isDay","isHour","isMinute","isTimeOnly","multiMonth","monthOffset","getMinutes","getHours","getDate","startMonth","getMonth","getFullYear","columns","showWeekNumbers","rows","pages","container","tooltipPosition","grid","pageColumn","column","firstMonthDayColumn","getDay","firstDayOfWeek","constantHeight","requiredCells","ceil","yearChange","monthChange","dayChange","prevNextDay","prevDate","nextDate","prevLast","nextFirst","tempMode","textColumns","thead","headerDate","headerText","link","header","newMode","disableYear","disableMonth","toggleClass","disabledCell","isDateInRange","prevIcon","nextIcon","weekNo","weekCell","dayColumnHeader","tbody","weekOfYear","cellDate","cellText","monthsShort","adjacent","selectAdjacentDays","isEnabled","disabledDate","findDayAsObject","disabledDates","eventDate","eventDates","eventClass","dateEqual","isToday","adjacentCell","activeCell","todayCell","cellOptions","todayRow","todayButton","update","updateRange","startDate","endDate","rangeDate","focused","inRange","focusCell","isTodayButton","rangeCell","mousedown","mouseup","mouseover","inputChange","inputFocus","inputBlur","buttons","stopPropagation","onSelect","forceSet","selectDate","bigIncrement","increment","newFocusDate","mergeDateTime","weekYear","weekMonth","weekDay","ms1d","ms7d","DC3","UTC","AWN","floor","Wyr","getUTCFullYear","sanitiseDate","inputDate","startModule","calendarModule","startCalendar","endModule","endCalendar","validModes","disableMinute","createEvent","updateInput","fireChange","onBeforeChange","dataKeyValue","refreshCalendar","updateFocus","oldFocusDate","yearDelta","monthDelta","changed","oldValue","equal","complete","canceled","changeDate","disabledDaysOfWeek","some","sdate","idate","enabledDates","dates","dateObject","isNaN","dateDiff","date1","date2","isYearOrMonth","isHourOrMinute","monthFirst","ampm","centuryBreak","currentCentury","position","lastResort","prefer","hideOnScroll","days","months","now","am","pm","yearHeader","monthHeader","dayHeader","hourHeader","minuteHeader","decadeYear","separator","forCalendar","k","textDate","word","monthString","isAm","isDateOnly","words","dateWords","numbers","dateNumbers","substring","initialLoad","shortcutPressed","tabbable","hide","show","reference","indeterminate","check","uncheck","hidden","notFound","preventDefaultOnInputTarget","should","$target","space","left","up","right","down","radios","rIndex","rLen","checkIndex","beforeUnchecked","beforeChecked","enableEnterKey","allowCheck","onChecked","allowUncheck","unchecked","onUnchecked","allowIndeterminate","onIndeterminate","determinate","allowDeterminate","onDeterminate","onEnable","onEnabled","onDisable","onDisabled","otherRadios","beforeIndeterminate","beforeDeterminate","fireOnInit","readOnly","uncheckable","uncheckOthers","inputElement","initEvent","dispatchEvent","prevAll","detach","insertAfter","$radios","dimmer","$dimmer","$dimmable","clickEvent","documentElement","preinitialize","dimmerName","dimmable","variation","page","pageDimmer","addContent","template","dimmed","useCSS","useFlex","legacy","displayType","onStart","width","height","fadeTo","color","colorArray","isRGB","isRGBA","join","displayLoader","loaderText","loaderVariation","loader","hasTouch","elementIndex","selectActionActive","pageLostFocus","willRefocus","elementNamespace","id","selectObserver","menuObserver","$context","$text","$search","$sizer","sizer","$icon","icon","$clear","clearIcon","$combo","$menu","menu","$item","$divider","hideDividers","divider","activated","itemActivated","internalChange","iconClicked","alreadySetup","ignoreDiacritics","noNormalize","layout","refreshData","save","restore","selected","visible","disconnect","select","mutation","random","substr","userChoice","$userChoices","$userChoice","userValues","addition","variables","addResult","hideAdditions","userLabels","minCharacters","firstUnfiltered","selectedItem","unselectable","nextAvailable","$selected","$nextAvailable","nextAll","$prevAvailable","hasNext","api","apiSettings","urlData","returnedObject","selection","clearable","clearItem","insertBefore","searchSelection","allowTab","selectValues","preserveHTML","missingMultiple","prependTo","$firstModules","$lastModules","refreshSelectors","refreshItems","clearData","defaultText","placeholderText","preventFocus","remote","queryRemote","maxSelections","allResultsFiltered","allFiltered","intent","focusSearch","preventBlur","animatingOutward","focusedOnSearch","hideOthers","hideMenu","hideSubMenus","$subMenus","keyboardEvents","inputEvents","mouseEvents","menuSearch","mouseenter","mouseleave","touch","searchTerm","afterFiltered","filterActive","activeItem","onNoResults","allowAdditions","noResults","userSuggestion","htmlEntities","useLabels","useAPI","filterRemoteData","filterItems","preSelected","delimiter","filtered","noAPI","errorDuration","throttle","onError","serverError","remoteValues","diacritics","escapedTerm","regExpFlags","ignoreSearchCase","beginsWithRegExp","$choice","unfilterable","choiceText","fullTextSearch","exactSearch","fuzzySearch","choiceValue","filteredItem","lastDivider","nextUntil","term","termLength","queryLength","characterIndex","nextCharacterIndex","queryCharacter","charCodeAt","skipHandler","blurSearch","forceSelection","$currentlySelected","$activeItem","$selectedItem","hasSelected","selectInput","deQuote","showOnFocus","activeElement","activeLabel","$labels","$activeLabels","$nextActive","$prevActive","$range","prevUntil","shiftKey","onLabelSelect","activeLabels","toggleBehavior","bubbledLabelClick","bubbledIconClick","eventOnElement","eventInModule","selectMutation","$addedNode","addedNodes","$removedNode","removedNodes","$changedNodes","isUserAddition","isMessage","$subMenu","$otherMenus","siblings","hasSubMenu","isBubbledEvent","itemTimer","skipRefocus","tagName","allowCategorySelection","userAddition","scrollPosition","selectAction","pressedKey","isShortcutKey","inObject","$activeLabel","labelIndex","labelCount","hasActiveLabel","hasMultipleActive","isFirstLabel","isLastLabel","isSearch","isFocusedOnSearch","isFocused","caretAtStart","caretPosition","isSelectedSearch","leftArrow","siblingLabel","end","last","rightArrow","deleteKey","backspace","$nextItem","isSubMenuItem","$visibleItems","addBack","$parentMenu","inVisibleMenu","hasSelectedItem","selectedIsSelectable","delimiterPressed","isAdditionWithoutMenu","upArrow","selectOnKeydown","single","downArrow","pageUp","scrollPage","pageDown","selectedLetter","fromCharCode","inDocument","inModule","inVisibleDOM","body","notOnLabel","notInMenu","nothing","activate","hideAndClear","combo","placeholder","searchWidth","selectionCount","count","upward","uniqueArray","array","returnEndPos","rangeLength","selectionEnd","selectionStart","createRange","moveStart","isEmptyMultiselect","read","remoteData","clone","menuIcon","oldGroup","$option","headerDivider","sortSelect","sort","a","localeCompare","itemWithAdditions","$items","$userItems","hasUserItems","strict","shouldSearch","optionText","optionValue","map","v","ignoreCase","preventChangeTrigger","labels","saveRemoteData","noselection","Storage","sessionStorage","getItem","noStorage","setItem","clearValue","direction","isWithinRange","$nextSelectedItem","$currentItem","menuHeight","outerHeight","currentScroll","scrollTop","itemHeight","itemsPerPage","newScroll","$selectableItem","isSearchMultiple","searchValue","hasSearchValue","valueIsSet","glyphWidth","loading","partialSearch","forceScroll","hasActive","offset","itemOffset","menuOffset","menuScroll","abovePage","belowPage","edgeTolerance","top","searchText","letter","alreadySelectedLetter","firstLetter","$nextValue","openDownward","leftward","openRightward","$currentMenu","escapedValue","hasInput","stringValue","allowReselection","extendSelect","exactly","selectedText","selectedValue","isFiltered","isUserValue","shouldAnimate","$next","onLabelCreate","hasOption","$addition","$existingItem","alreadyHasValue","hasUserSuggestion","hasCount","hasMaxCount","hasTerm","addedValue","addedText","onAdd","removedValue","removedText","$removedItem","arrayValue","onRemove","$removedLabel","userValue","onLabelRemove","items","$normalResults","valueIgnoringCase","valueMatchingCase","hasValue","existingValue","animatingInward","$selectedMenu","needle","selectChanged","verticallyScrollableContext","overflowY","horizontallyScrollableContext","overflowX","calculations","canOpenDownward","onScreen","above","below","canOpenRightward","isOffscreenRight","scrollLeft","outerWidth","start","noTransition","multipleValues","isUnparsable","hasQuotes","quote","badChars","shouldEscape","escapedChar","chr","keepOnScreen","$selectedLabels","image","imageClass","iconClass","delete","groupIcon","option","itemType","maybeText","maybeDisabled","groupName","choice","embed","sources","$embed","autoplay","createAndShow","createPlaceholder","generate","createEmbed","onCreate","changeEmbed","source","showPlaceholder","onReset","onDisplay","onPlaceholderDisplay","matchedSource","domain","encode","urlString","encodeURIComponent","iframe","noURL","extraParameters","onEmbed","video","hd","brandedUI","youtube","autohide","hq","jsapi","modestbranding","vimeo","byline","portrait","src","onPause","onPlay","onStop","modal","$window","$body","$allModals","$otherModals","$focusedElement","initialMouseDownInModal","initialMouseDownInScrollbar","elementEventNamespace","$close","ignoreRepeatedEvents","initialBodyMargin","tempBodyMargin","allowMultiple","innerDimmer","centered","refreshModals","defaultSettings","dimmerSettings","detachable","undetached","prepend","scrolling","cacheSizes","modalOffset","screenHeight","$toggle","approve","deny","resize","scrollLock","addEventListener","preventScroll","passive","removeEventListener","onApprove","onDeny","isRtl","rtl","scrollbarWidth","clientX","isInModal","isInDOM","front","hideAll","clickaway","debounce","keyboard","escapeKey","dimmerStyles","showModal","hideModal","showDimmer","bodyMargin","others","autofocus","keepDimmed","hideOthersToo","$previousModal","hideDimmer","$visibleModals","hideOk","reverse","$activeElement","inCurrentModal","leftBodyScrollbar","bodyMarginRightPixel","bodyScrollbarWidth","innerWidth","clientWidth","restoreFocus","bodyFixed","inverted","blurring","bodyStyle","scrollHeight","modalWidth","modalHeight","pageHeight","contextHeight","topOffset","firefox","safari","edge","ie","fit","verticalCenter","paddingHeight","padding","startPosition","isIE","isIE11","ActiveXObject","modernBrowser","isRTL","isSafari","HTMLElement","ApplePaySession","isEdge","setImmediate","isFirefox","InstallTrigger","$inputs","$autofocus","marginTop","marginLeft","canFit","nag","dismiss","displayTime","storageMethod","storage","persist","storageOptions","expires","path","localStorage","cookie","noCookieStorage","storedValue","removeItem","removeCookie","bottom","fixed","speed","$popup","$offsetParent","documentObserver","$scrollContext","scrollContext","$boundary","boundary","searchDepth","triedPositions","openedWithTouch","createID","exists","preserve","documentChanged","offsetParent","movePopup","reposition","removePopup","hideTimer","showTimer","addTouchEvents","touchstart","forEach","node","hideGracefully","inPopup","conditions","popupVisible","supports","svg","SVGGraphicsElement","popupOffset","screen","$popupOffsetParent","targetElement","isWindow","targetOffset","parentOffset","screenPosition","scroll","margin","setFluidWidth","fluid","getComputedStyle","getPropertyValue","startEvent","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","isStatic","isBody","positions","nextPosition","verticalPosition","horizontalPosition","opposite","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","distanceAway","positioning","centerArrow","arrowPixelsFromEdge","maxSearchDepth","invalidPosition","forcePosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","closeOnScroll","touchClose","basic","distance","jitter","progress","$bars","bar","$progresses","nums","reduce","derivePrecision","total","precisionPower","precision","ratio","pow","forceArray","transitionEvent","clearInterval","interval","state","nextValue","keepState","percent","progressPoll","transitionEnd","failSafeTimer","failSafeDelay","incrementValue","startValue","randomValue","normalizedValue","decrement","decrementValue","templateText","index_","displayPercent","bars","updateInterval","numericValue","transitions","style","$bar","barWidth","totalWidth","minDisplay","round","toNextValue","warning","firstNonZeroIndex","lastNonZeroIndex","valuesSum","barCounts","percents","allZero","_","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","hasTotal","totalPecent","isMultpleValues","sumTotal","sumExceedsTotal","tooHigh","tooLow","autoPrecision","roundedPercents","limitValues","labelInterval","animationCallback","setInterval","framerate","barLabel","autoSuccess","$progress","showActivity","onLabelUpdate","onActive","onWarning","totalValue","percentCompletes","percentComplete","nonNumeric","variable","alphabet","SINGLE_STEP","BIG_STEP","NO_STEP","SINGLE_BACKSTEP","BIG_BACKSTEP","currentRange","$currThumb","$thumb","$secondThumb","$track","$trackFill","documentEventID","secondPos","initialPosition","interpretLabel","isHover","gapRatio","testOutTouch","slidingEvents","labeled","customLabel","autoLabel","showLabelTicks","ticked","$children","numChildren","$child","attrValue","labelPosition","step","len","numLabels","labelText","globalKeyboardEvents","touchEvents","autoAdjustLabels","windowEvents","activateFocus","move","eventPos","newPos","pos","preventCrossover","thumbVal","secondThumbVal","closestThumb","valueFromEvent","smooth","thumbSmoothVal","smoothValueFromEvent","abs","onMove","keyMovement","takeStep","multiplier","backStep","hover","_event","resync","currValue","currentThumbValue","reversed","vertical","trackOffset","trackLength","trackLeft","trackStartPos","trackEndPos","trackStartMargin","trackEndMargin","decimalPlaces","quotient","remainder","labelType","labelTypes","thumbValue","notrange","pageMultiplier","thumbPosition","gapCounter","labelDistance","pagePos","thumbPos","thumbDelta","secondThumbPos","secondThumbDelta","closestThumbPos","positionFromValue","positionFromRatio","adjustedPos","touchEvent","changedTouches","originalEvent","touches","touchY","pageY","touchX","pageX","clickY","clickX","startPos","endPos","difference","handleNewValuePosition","rangeValue","$targetThumb","trackPosValue","thumbPosValue","thumbPosPercent","trackStartPosPercent","trackEndPosPercent","startMargin","endMargin","posDir","startMarginMod","goto","rating","cssVars","interactive","initialRating","maxRating","$activeIcon","currentRating","canClear","clearRating","ratingIndex","$partialActiveIcon","filledPercentage","partiallyActive","filledCustomPropName","onRate","noMaximum","$searchButton","searchButton","$results","$result","category","disabledBubbled","resultsDismissed","searchFields","refreshResults","automatic","handleKeyboard","searchDelay","searchOnFocus","minimumCharacters","showResults","cancel","hideResults","hideDelay","resultsClicked","inMessage","$link","href","location","ensureVisible","elTop","elBottom","resultsScrollTop","resultsHeight","newIndex","$category","$activeResult","currentIndex","resultSize","hasActiveResult","buttonPressed","buttonFocus","parse","displayMessage","onAbort","searchFullText","oldSearchSyntax","firstResult","addResults","inject","local","onSearchQuery","searchHTML","maxResults","categoryResults","generateResults","write","exactResults","fuzzyResults","searchExp","matchRegExp","beginsWith","notResult","notFuzzyResult","notExactResults","merge","numCharacters","resultIndex","categoryIndex","letterID","resultID","$selectedResult","onResultsAdd","selectFirstResult","$firstResult","onResultsOpen","onResultsClose","isProperObject","isProperArray","noTemplate","showNoResults","noResultsHeader","onResults","displayField","logging","noEndpoint","categories","categoryName","description","price","actionText","actionURL","standard","shape","$activeSide","$nextSide","$sides","sides","$side","side","nextIndex","defaultSide","repaint","offsetWidth","propertyObject","beforeChange","currentStageSize","stageSize","$clone","newWidth","newHeight","nextSide","flip","to","stage","allowRepeats","transform","over","back","translateZ","translateY","translate","z","translateX","box","origin","behind","sidebar","$html","$head","$style","$sidebars","$pusher","pusher","delaySetup","ios","clickedInPusher","clickedContext","containScroll","offsetHeight","inlineCSS","refreshSidebars","omitted","wrapAll","movedSidebar","pushable","overlay","othersActive","pushPage","pullPage","othersAnimating","othersVisible","$otherSidebars","sidebarCount","callbackCount","dim","$transition","scrollToTop","dimPage","returnScroll","mobile","scrollBack","scrollTo","pushed","mobileTransition","defaultTransition","computer","userAgent","navigator","isIOS","isMobileChrome","mobileChrome","isMobile","closed","sticky","$scroll","determineContainer","determineContext","checkErrors","load","scrollchange","invalidContext","elementSize","stick","onScroll","hardRefresh","onReposition","supported","lastScroll","elementScroll","standardScroll","fits","sameHeight","containerSize","scrollChange","currentElementScroll","delta","maxScroll","possibleScroll","minimumSize","size","setProperty","bound","cachedPosition","pushing","bottomOffset","doesntFit","elementVisible","bindBottom","fixTop","setInitialPosition","fixBottom","bindTop","marginBottom","onTop","onUnstick","onBottom","unfix","setSize","onStick","resetCSS","tab","initializedHistory","$tabs","activeTabPath","parameterArray","historyEvent","firstLoad","recursionDepth","callbacks","determineTabs","auto","initializeHistory","autoTabActivation","activeTab","initialPath","changeTab","$reference","ui","childrenOnly","tabs","onTabLoad","onTabInit","onLoad","legacyLoad","onFirstLoad","legacyInit","address","historyType","tabPath","pathNames","pageTitle","determineTitle","cacheKey","$tab","tabElement","isLoading","onRequest","pushStateAvailable","pushState","shouldIgnoreLoad","ignoreFirstLoad","remoteContent","pathArray","pathToArray","defaultPathArray","arrayToPath","$anchor","nextPathArray","nextPath","isLastTab","currentPathArray","currentPath","isTab","isLastIndex","filterArray","all","navigation","fetch","missingTab","scrollOffset","evaluateScripts","cacheType","innerHTML","fullTabPath","requestSettings","cachedContent","dataType","encodeParameters","alwaysRefresh","headers","loadOnce","request","existingRequest","$deactiveTabs","deactivate","$navigation","navElement","$deactiveNavigation","tabName","defaultPath","$defaultNav","defaultTab","recursion","$fullPathTab","$simplePathTab","tabPathArray","lastTab","keepArray","removeArray","keepValue","pathName","tabArray","noContent","loaded","promise","toast","$toastBox","$toast","$actions","$progressBar","$animationObject","isToastComponent","showImage","configActions","showProgress","closeOnClick","closeIcon","unclickable","cloneModule","helpers","toClass","classImage","compact","actions","classActions","attached","extraContent","verticalCard","cls","button","minDisplayTime","wordsPerMinute","wrap","progressingClass","progressing","pauseOnHover","pausable","classProgress","progressUp","newestOnTop","showMethod","showDuration","hideMethod","hideDuration","onBeforeHide","closeEasing","pause","continue","toasts","toastBox","showIcon","icons","remainingTime","onClick","classes","easeOutBounce","easeOutCubic","moduleArguments","animationEnd","animationEndEvent","forceRepaint","$parentElement","$nextElement","shouldReverse","animationDirection","outward","overrideSettings","support","occurring","queuing","noAnimation","animationCallbacks","completeCallback","failSafe","looping","inward","force","userStyle","overrideStyle","inlineDisplay","mustStayHidden","currentDisplay","emptyStyle","hasDirection","animationClass","animationName","transitionExists","currentAnimation","queueCallback","directionClass","currentDirection","shouldDetermine","animationStartEvent","animations","forced","elementClass","inAnimation","directionExists","hideNow","stopAll","repeated","ajaxSettings","requestStartTime","$form","stateContext","triggerEvent","decode","json","JSON","cachedResponse","stringify","interruptRequests","abort","defaultData","serializeForm","formData","cancelled","beforeSend","templatedURL","mocked","base","beforeXHR","failure","resolveWith","throttleFirstRequest","send","missingURL","removeError","hideError","expectingJSON","mockResponse","mockResponseAsync","responseAsync","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","successful","requiredVariables","optionalVariables","templatedString","requiredParameter","urlEncodedValue","hasOtherData","canSerialize","serializeObject","serialize","missingSerialize","mockedXHR","always","done","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","onResponse","rawResponse","rejectWith","fail","status","httpMessage","firstParameter","secondParameter","responseFromXHR","errorMessage","errorFromRequest","statusMessage","Deferred","asyncCallback","responder","asyncResponder","responseText","ajax","runSettings","noReturnedValue","decodedValue","decodeURIComponent","encodedValue","alreadyEncoded","missingAction","exitConditions","JSONParse","parseError","timeout","states","userStates","typeStates","inactive","textEnabled","allow","disallow","allows","setState","removeState","apiRequest","requestCancelled","activateTest","deactivateTest","listenTo","when","then","sync","onActivate","onDeactivate","textFor","flash","previousText","flashDuration","activeText","storedText","inactiveText","currentText","visibility","moduleCount","loadedCount","$placeholder","contextObserver","trackChanges","initialCheck","checkVisibility","resetFixed","contextChanged","refreshOnLoad","refreshOnResize","precache","images","imagesLength","loadedCounter","cacheImage","handleLoad","onload","onerror","enableCallbacks","disableCallbacks","occurred","once","onOnScreen","onAllLoaded","onTopPassed","onTopPassedReverse","zIndex","onFixed","elementCalculations","offScreen","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","amount","newCallback","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","onUnfixed","elementPosition","screenSize","includeMargin","percentagePassed"],"mappings":"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","file":"js/app.6bad269d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/trp/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui page container\",attrs:{\"id\":\"app\"}},[_c('TRP')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_vm._m(0),_c('div',{staticClass:\"ui stackable grid\"},[_c('div',{staticClass:\"twelve wide column\"},[_c('div',{staticClass:\"ui header\"},[_vm._v(\"parameters\")]),_c('div',{staticClass:\"ui secondary padded segment\"},[_c('div',{staticClass:\"ui form\"},_vm._l((Object.keys(_vm.viewModel)),function(prop,idx){return _c('div',{key:idx,staticClass:\"field\"},[_c('label',{attrs:{\"for\":prop}},[_vm._v(\"\\n              \"+_vm._s(_vm.viewModel[prop].label.toUpperCase())+\"\\n              ( \"+_vm._s(_vm.viewModel[prop].unit)+\" )\\n            \")]),_c('div',{staticClass:\"ui middle aligned grid\"},[_c('div',{staticClass:\"ten wide column\"},[_c('div',{staticClass:\"ui blue large slider\",attrs:{\"id\":(\"slider-\" + prop)}})]),_c('div',{staticClass:\"five wide computer column\"},[_c('div',{staticClass:\"ui large blue label\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.viewModel[prop].val)+\"\\n                  \"),_c('div',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.viewModel[prop].unit))])])]),_c('div',{staticClass:\"column\",staticStyle:{\"padding\":\"0\"}},[_c('i',{staticClass:\"link large icon\",class:[_vm.viewModel[prop].locked ? 'red lock' : 'green lock open'],on:{\"click\":function($event){_vm.viewModel[prop].locked = !_vm.viewModel[prop].locked}}})])])])}),0)])]),_c('div',{staticClass:\"four wide column\"},[_c('div',{staticClass:\"ui header\"},[_vm._v(\"results\")]),_c('div',{staticClass:\"ui secondary padded segment\"},[_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"ui middle aligned grid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"twelve wide column\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"MGR\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.MGR),expression:\"MGR\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"number\",\"readonly\":\"\"},domProps:{\"value\":(_vm.MGR)},on:{\"change\":function($event){_vm.MGR=$event.target.value}}})])]),_vm._m(1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"twelve wide column\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"M\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.M),expression:\"M\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.M)},on:{\"change\":function($event){_vm.M=$event.target.value}}})])]),_vm._m(2)]),_vm._m(3),_c('div',{staticClass:\"centered row\"},[_c('div',{staticClass:\"field\"},[_c('button',{staticClass:\"ui black fluid button\",on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")])])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui red small header\"},[_vm._v(\"\\n    TENNIS RAQUET PHYSICS\\n    \"),_c('sup',[_vm._v(\"TM\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"four wide column\"},[_c('i',{staticClass:\"disabled link large green lock open icon\",attrs:{\"title\":\"not implemented\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"four wide column\"},[_c('i',{staticClass:\"disabled link large green lock open icon\",attrs:{\"title\":\"not implemented\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"column\"})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TRP.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TRP.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TRP.vue?vue&type=template&id=3e52c331&\"\nimport script from \"./TRP.vue?vue&type=script&lang=js&\"\nexport * from \"./TRP.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TRP.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\"\r\n       class=\"ui page container\">\r\n    <TRP></TRP>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TRP from './components/TRP.vue'\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n    TRP\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7c9273cf&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport App from \"./App.vue\"\n\nimport \"./assets/vendor/semantic/dist/semantic.css\"\nimport \"./assets/vendor/semantic/dist/semantic.js\"\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\")\n","<template>\r\n  <div id=\"container\">\r\n    <div class=\"ui red small header\">\r\n      TENNIS RAQUET PHYSICS\r\n      <sup>TM</sup>\r\n    </div>\r\n    <div class=\"ui stackable grid\">\r\n      <div class=\"twelve wide column\">\r\n        <div class=\"ui header\">parameters</div>\r\n        <div class=\"ui secondary padded segment\">\r\n          <div class=\"ui form\">\r\n            <div class=\"field\"\r\n                 v-for=\"(prop, idx) in Object.keys(viewModel)\"\r\n                 :key=\"idx\">\r\n              <label :for=\"prop\">\r\n                {{ viewModel[prop].label.toUpperCase() }}\r\n                ( {{ viewModel[prop].unit }} )\r\n              </label>\r\n              <div class=\"ui middle aligned grid\">\r\n                <div class=\"ten wide column\">\r\n                  <div class=\"ui blue large slider\"\r\n                       :id=\"`slider-${prop}`\"></div>\r\n                </div>\r\n                <div class=\"five wide computer column\">\r\n                  <!-- <input v-model=\"viewModel[prop].val\"\r\n                       :id=\"prop\"\r\n                       type=\"text\"\r\n                  readonly />-->\r\n                  <div class=\"ui large blue label\">\r\n                    {{ viewModel[prop].val }}\r\n                    <div class=\"detail\">{{ viewModel[prop].unit }}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"column\"\r\n                     style=\"padding:0;\">\r\n                  <i class=\"link large icon\"\r\n                     :class=\"[viewModel[prop].locked ? 'red lock' : 'green lock open']\"\r\n                     @click=\"viewModel[prop].locked = !viewModel[prop].locked\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"four wide column\">\r\n        <div class=\"ui header\">results</div>\r\n        <div class=\"ui secondary padded segment\">\r\n          <div class=\"ui form\">\r\n            <div class=\"ui middle aligned grid\">\r\n              <div class=\"row\">\r\n                <div class=\"twelve wide column\">\r\n                  <div class=\"field\">\r\n                    <label>MGR</label>\r\n                    <input v-model.lazy=\"MGR\"\r\n                           type=\"number\"\r\n                           readonly />\r\n                  </div>\r\n                </div>\r\n                <div class=\"four wide column\">\r\n                  <i title=\"not implemented\"\r\n                     class=\"disabled link large green lock open icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"twelve wide column\">\r\n                  <div class=\"field\">\r\n                    <label>M</label>\r\n                    <input v-model.lazy=\"M\"\r\n                           type=\"number\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"four wide column\">\r\n                  <i title=\"not implemented\"\r\n                     class=\"disabled link large green lock open icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"column\"></div>\r\n              </div>\r\n              <div class=\"centered row\">\r\n                <div class=\"field\">\r\n                  <button class=\"ui black fluid button\"\r\n                          @click=\"reset\">Reset</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-console */\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      viewModel: {\r\n        m: {\r\n          label: 'weight',\r\n          unit: 'g',\r\n          val: 0,\r\n          locked: false\r\n        },\r\n        b: {\r\n          label: 'balance',\r\n          unit: 'cm',\r\n          val: 0,\r\n          locked: false\r\n        },\r\n        sw: {\r\n          label: 'swingweight',\r\n          unit: 'kg*cm^2',\r\n          val: 0,\r\n          locked: false\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    massInKG() {\r\n      return this.viewModel.m.val / 1000\r\n    },\r\n    MGR: {\r\n      get() {\r\n        return Number.parseFloat(\r\n          (this.massInKG * 980.6 * this.viewModel.b.val) /\r\n            (this.viewModel.sw.val +\r\n              20 * this.massInKG * this.viewModel.b.val -\r\n              100 * this.massInKG)\r\n        ).toFixed(3)\r\n      },\r\n      set(newValue) {\r\n        console.log(newValue)\r\n      }\r\n    },\r\n    M: {\r\n      get() {\r\n        return Number.parseFloat(\r\n          this.massInKG * this.viewModel.b.val * this.viewModel.b.val\r\n        ).toFixed(2)\r\n      },\r\n      set(newValue) {\r\n        if (!this.viewModel.m.locked) {\r\n          this.viewModel.m.val = this.massInGrams(newValue)\r\n          this.$nextTick(() => {\r\n            $('#slider-m').slider('set value', this.viewModel.m.val)\r\n          })\r\n        }\r\n\r\n        if (!this.viewModel.b.locked) {\r\n          this.viewModel.b.val = this.balance(newValue)\r\n          this.$nextTick(() => {\r\n            $('#slider-b').slider('set value', this.viewModel.b.val)\r\n          })\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    massInGrams(M) {\r\n      let m = (M / (this.viewModel.b.val * this.viewModel.b.val)) * 1000\r\n      let mRounded = Math.round(\r\n        (M / (this.viewModel.b.val * this.viewModel.b.val)) * 1000\r\n      )\r\n\r\n      console.log(m + ' >> ' + mRounded)\r\n\r\n      return mRounded\r\n    },\r\n    balance(M) {\r\n      let bal = Math.sqrt(M / this.massInKG)\r\n\r\n      console.log(bal)\r\n\r\n      return bal\r\n    },\r\n    reset() {\r\n      this.init()\r\n    },\r\n    init() {\r\n      let vm = this\r\n\r\n      for (const prop in this.viewModel) {\r\n        if (this.viewModel.hasOwnProperty(prop)) {\r\n          this.viewModel[prop].locked = false\r\n        }\r\n      }\r\n\r\n      $('#slider-m')\r\n        .slider({\r\n          min: 250,\r\n          max: 400,\r\n          onMove(val) {\r\n            vm.viewModel.m.val = val\r\n          }\r\n        })\r\n        .slider('set value', 250)\r\n\r\n      $('#slider-b')\r\n        .slider({\r\n          min: 29,\r\n          max: 35,\r\n          step: 0.01,\r\n          decimal: 2,\r\n          pageMultiplier: 5,\r\n          onMove(val) {\r\n            vm.viewModel.b.val = Number.parseFloat(val).toFixed(2)\r\n          }\r\n        })\r\n        .slider('set value', 29)\r\n\r\n      $('#slider-sw')\r\n        .slider({\r\n          min: 250,\r\n          max: 400,\r\n          onMove(val) {\r\n            vm.viewModel.sw.val = val\r\n          }\r\n        })\r\n        .slider('set value', 250)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#container {\r\n  padding-top: 3rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TRP.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TRP.vue?vue&type=style&index=0&lang=css&\""," /*\n * # Fomantic UI - 2.8.6\n * https://github.com/fomantic/Fomantic-UI\n * http://fomantic-ui.com/\n *\n * Copyright 2014 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n/*!\r\n * # Fomantic-UI - Site\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\n$.site = $.fn.site = function(parameters) {\r\n  var\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n\r\n    settings        = ( $.isPlainObject(parameters) )\r\n      ? $.extend(true, {}, $.site.settings, parameters)\r\n      : $.extend({}, $.site.settings),\r\n\r\n    namespace       = settings.namespace,\r\n    error           = settings.error,\r\n\r\n    moduleNamespace = 'module-' + namespace,\r\n\r\n    $document       = $(document),\r\n    $module         = $document,\r\n    element         = this,\r\n    instance        = $module.data(moduleNamespace),\r\n\r\n    module,\r\n    returnedValue\r\n  ;\r\n  module = {\r\n\r\n    initialize: function() {\r\n      module.instantiate();\r\n    },\r\n\r\n    instantiate: function() {\r\n      module.verbose('Storing instance of site', module);\r\n      instance = module;\r\n      $module\r\n        .data(moduleNamespace, module)\r\n      ;\r\n    },\r\n\r\n    normalize: function() {\r\n      module.fix.console();\r\n      module.fix.requestAnimationFrame();\r\n    },\r\n\r\n    fix: {\r\n      console: function() {\r\n        module.debug('Normalizing window.console');\r\n        if (console === undefined || console.log === undefined) {\r\n          module.verbose('Console not available, normalizing events');\r\n          module.disable.console();\r\n        }\r\n        if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\r\n          module.verbose('Console group not available, normalizing events');\r\n          window.console.group = function() {};\r\n          window.console.groupEnd = function() {};\r\n          window.console.groupCollapsed = function() {};\r\n        }\r\n        if (typeof console.markTimeline == 'undefined') {\r\n          module.verbose('Mark timeline not available, normalizing events');\r\n          window.console.markTimeline = function() {};\r\n        }\r\n      },\r\n      consoleClear: function() {\r\n        module.debug('Disabling programmatic console clearing');\r\n        window.console.clear = function() {};\r\n      },\r\n      requestAnimationFrame: function() {\r\n        module.debug('Normalizing requestAnimationFrame');\r\n        if(window.requestAnimationFrame === undefined) {\r\n          module.debug('RequestAnimationFrame not available, normalizing event');\r\n          window.requestAnimationFrame = window.requestAnimationFrame\r\n            || window.mozRequestAnimationFrame\r\n            || window.webkitRequestAnimationFrame\r\n            || window.msRequestAnimationFrame\r\n            || function(callback) { setTimeout(callback, 0); }\r\n          ;\r\n        }\r\n      }\r\n    },\r\n\r\n    moduleExists: function(name) {\r\n      return ($.fn[name] !== undefined && $.fn[name].settings !== undefined);\r\n    },\r\n\r\n    enabled: {\r\n      modules: function(modules) {\r\n        var\r\n          enabledModules = []\r\n        ;\r\n        modules = modules || settings.modules;\r\n        $.each(modules, function(index, name) {\r\n          if(module.moduleExists(name)) {\r\n            enabledModules.push(name);\r\n          }\r\n        });\r\n        return enabledModules;\r\n      }\r\n    },\r\n\r\n    disabled: {\r\n      modules: function(modules) {\r\n        var\r\n          disabledModules = []\r\n        ;\r\n        modules = modules || settings.modules;\r\n        $.each(modules, function(index, name) {\r\n          if(!module.moduleExists(name)) {\r\n            disabledModules.push(name);\r\n          }\r\n        });\r\n        return disabledModules;\r\n      }\r\n    },\r\n\r\n    change: {\r\n      setting: function(setting, value, modules, modifyExisting) {\r\n        modules = (typeof modules === 'string')\r\n          ? (modules === 'all')\r\n            ? settings.modules\r\n            : [modules]\r\n          : modules || settings.modules\r\n        ;\r\n        modifyExisting = (modifyExisting !== undefined)\r\n          ? modifyExisting\r\n          : true\r\n        ;\r\n        $.each(modules, function(index, name) {\r\n          var\r\n            namespace = (module.moduleExists(name))\r\n              ? $.fn[name].settings.namespace || false\r\n              : true,\r\n            $existingModules\r\n          ;\r\n          if(module.moduleExists(name)) {\r\n            module.verbose('Changing default setting', setting, value, name);\r\n            $.fn[name].settings[setting] = value;\r\n            if(modifyExisting && namespace) {\r\n              $existingModules = $(':data(module-' + namespace + ')');\r\n              if($existingModules.length > 0) {\r\n                module.verbose('Modifying existing settings', $existingModules);\r\n                $existingModules[name]('setting', setting, value);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      },\r\n      settings: function(newSettings, modules, modifyExisting) {\r\n        modules = (typeof modules === 'string')\r\n          ? [modules]\r\n          : modules || settings.modules\r\n        ;\r\n        modifyExisting = (modifyExisting !== undefined)\r\n          ? modifyExisting\r\n          : true\r\n        ;\r\n        $.each(modules, function(index, name) {\r\n          var\r\n            $existingModules\r\n          ;\r\n          if(module.moduleExists(name)) {\r\n            module.verbose('Changing default setting', newSettings, name);\r\n            $.extend(true, $.fn[name].settings, newSettings);\r\n            if(modifyExisting && namespace) {\r\n              $existingModules = $(':data(module-' + namespace + ')');\r\n              if($existingModules.length > 0) {\r\n                module.verbose('Modifying existing settings', $existingModules);\r\n                $existingModules[name]('setting', newSettings);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    enable: {\r\n      console: function() {\r\n        module.console(true);\r\n      },\r\n      debug: function(modules, modifyExisting) {\r\n        modules = modules || settings.modules;\r\n        module.debug('Enabling debug for modules', modules);\r\n        module.change.setting('debug', true, modules, modifyExisting);\r\n      },\r\n      verbose: function(modules, modifyExisting) {\r\n        modules = modules || settings.modules;\r\n        module.debug('Enabling verbose debug for modules', modules);\r\n        module.change.setting('verbose', true, modules, modifyExisting);\r\n      }\r\n    },\r\n    disable: {\r\n      console: function() {\r\n        module.console(false);\r\n      },\r\n      debug: function(modules, modifyExisting) {\r\n        modules = modules || settings.modules;\r\n        module.debug('Disabling debug for modules', modules);\r\n        module.change.setting('debug', false, modules, modifyExisting);\r\n      },\r\n      verbose: function(modules, modifyExisting) {\r\n        modules = modules || settings.modules;\r\n        module.debug('Disabling verbose debug for modules', modules);\r\n        module.change.setting('verbose', false, modules, modifyExisting);\r\n      }\r\n    },\r\n\r\n    console: function(enable) {\r\n      if(enable) {\r\n        if(instance.cache.console === undefined) {\r\n          module.error(error.console);\r\n          return;\r\n        }\r\n        module.debug('Restoring console function');\r\n        window.console = instance.cache.console;\r\n      }\r\n      else {\r\n        module.debug('Disabling console function');\r\n        instance.cache.console = window.console;\r\n        window.console = {\r\n          clear          : function(){},\r\n          error          : function(){},\r\n          group          : function(){},\r\n          groupCollapsed : function(){},\r\n          groupEnd       : function(){},\r\n          info           : function(){},\r\n          log            : function(){},\r\n          markTimeline   : function(){},\r\n          warn           : function(){}\r\n        };\r\n      }\r\n    },\r\n\r\n    destroy: function() {\r\n      module.verbose('Destroying previous site for', $module);\r\n      $module\r\n        .removeData(moduleNamespace)\r\n      ;\r\n    },\r\n\r\n    cache: {},\r\n\r\n    setting: function(name, value) {\r\n      if( $.isPlainObject(name) ) {\r\n        $.extend(true, settings, name);\r\n      }\r\n      else if(value !== undefined) {\r\n        settings[name] = value;\r\n      }\r\n      else {\r\n        return settings[name];\r\n      }\r\n    },\r\n    internal: function(name, value) {\r\n      if( $.isPlainObject(name) ) {\r\n        $.extend(true, module, name);\r\n      }\r\n      else if(value !== undefined) {\r\n        module[name] = value;\r\n      }\r\n      else {\r\n        return module[name];\r\n      }\r\n    },\r\n    debug: function() {\r\n      if(settings.debug) {\r\n        if(settings.performance) {\r\n          module.performance.log(arguments);\r\n        }\r\n        else {\r\n          module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n          module.debug.apply(console, arguments);\r\n        }\r\n      }\r\n    },\r\n    verbose: function() {\r\n      if(settings.verbose && settings.debug) {\r\n        if(settings.performance) {\r\n          module.performance.log(arguments);\r\n        }\r\n        else {\r\n          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n          module.verbose.apply(console, arguments);\r\n        }\r\n      }\r\n    },\r\n    error: function() {\r\n      module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n      module.error.apply(console, arguments);\r\n    },\r\n    performance: {\r\n      log: function(message) {\r\n        var\r\n          currentTime,\r\n          executionTime,\r\n          previousTime\r\n        ;\r\n        if(settings.performance) {\r\n          currentTime   = new Date().getTime();\r\n          previousTime  = time || currentTime;\r\n          executionTime = currentTime - previousTime;\r\n          time          = currentTime;\r\n          performance.push({\r\n            'Element'        : element,\r\n            'Name'           : message[0],\r\n            'Arguments'      : [].slice.call(message, 1) || '',\r\n            'Execution Time' : executionTime\r\n          });\r\n        }\r\n        clearTimeout(module.performance.timer);\r\n        module.performance.timer = setTimeout(module.performance.display, 500);\r\n      },\r\n      display: function() {\r\n        var\r\n          title = settings.name + ':',\r\n          totalTime = 0\r\n        ;\r\n        time = false;\r\n        clearTimeout(module.performance.timer);\r\n        $.each(performance, function(index, data) {\r\n          totalTime += data['Execution Time'];\r\n        });\r\n        title += ' ' + totalTime + 'ms';\r\n        if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n          console.groupCollapsed(title);\r\n          if(console.table) {\r\n            console.table(performance);\r\n          }\r\n          else {\r\n            $.each(performance, function(index, data) {\r\n              console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n            });\r\n          }\r\n          console.groupEnd();\r\n        }\r\n        performance = [];\r\n      }\r\n    },\r\n    invoke: function(query, passedArguments, context) {\r\n      var\r\n        object = instance,\r\n        maxDepth,\r\n        found,\r\n        response\r\n      ;\r\n      passedArguments = passedArguments || queryArguments;\r\n      context         = element         || context;\r\n      if(typeof query == 'string' && object !== undefined) {\r\n        query    = query.split(/[\\. ]/);\r\n        maxDepth = query.length - 1;\r\n        $.each(query, function(depth, value) {\r\n          var camelCaseValue = (depth != maxDepth)\r\n            ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n            : query\r\n          ;\r\n          if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n            object = object[camelCaseValue];\r\n          }\r\n          else if( object[camelCaseValue] !== undefined ) {\r\n            found = object[camelCaseValue];\r\n            return false;\r\n          }\r\n          else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n            object = object[value];\r\n          }\r\n          else if( object[value] !== undefined ) {\r\n            found = object[value];\r\n            return false;\r\n          }\r\n          else {\r\n            module.error(error.method, query);\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      if ( $.isFunction( found ) ) {\r\n        response = found.apply(context, passedArguments);\r\n      }\r\n      else if(found !== undefined) {\r\n        response = found;\r\n      }\r\n      if(Array.isArray(returnedValue)) {\r\n        returnedValue.push(response);\r\n      }\r\n      else if(returnedValue !== undefined) {\r\n        returnedValue = [returnedValue, response];\r\n      }\r\n      else if(response !== undefined) {\r\n        returnedValue = response;\r\n      }\r\n      return found;\r\n    }\r\n  };\r\n\r\n  if(methodInvoked) {\r\n    if(instance === undefined) {\r\n      module.initialize();\r\n    }\r\n    module.invoke(query);\r\n  }\r\n  else {\r\n    if(instance !== undefined) {\r\n      module.destroy();\r\n    }\r\n    module.initialize();\r\n  }\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.site.settings = {\r\n\r\n  name        : 'Site',\r\n  namespace   : 'site',\r\n\r\n  error : {\r\n    console : 'Console cannot be restored, most likely it was overwritten outside of module',\r\n    method : 'The method you called is not defined.'\r\n  },\r\n\r\n  debug       : false,\r\n  verbose     : false,\r\n  performance : true,\r\n\r\n  modules: [\r\n    'accordion',\r\n    'api',\r\n    'calendar',\r\n    'checkbox',\r\n    'dimmer',\r\n    'dropdown',\r\n    'embed',\r\n    'form',\r\n    'modal',\r\n    'nag',\r\n    'popup',\r\n    'slider',\r\n    'rating',\r\n    'shape',\r\n    'sidebar',\r\n    'state',\r\n    'sticky',\r\n    'tab',\r\n    'toast',\r\n    'transition',\r\n    'visibility',\r\n    'visit'\r\n  ],\r\n\r\n  siteNamespace   : 'site',\r\n  namespaceStub   : {\r\n    cache     : {},\r\n    config    : {},\r\n    sections  : {},\r\n    section   : {},\r\n    utilities : {}\r\n  }\r\n\r\n};\r\n\r\n// allows for selection of elements with data attributes\r\n$.extend($.expr[ \":\" ], {\r\n  data: ($.expr.createPseudo)\r\n    ? $.expr.createPseudo(function(dataName) {\r\n        return function(elem) {\r\n          return !!$.data(elem, dataName);\r\n        };\r\n      })\r\n    : function(elem, i, match) {\r\n      // support: jQuery < 1.8\r\n      return !!$.data(elem, match[ 3 ]);\r\n    }\r\n});\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Form Validation\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.form = function(parameters) {\r\n  var\r\n    $allModules      = $(this),\r\n    moduleSelector   = $allModules.selector || '',\r\n\r\n    time             = new Date().getTime(),\r\n    performance      = [],\r\n\r\n    query            = arguments[0],\r\n    legacyParameters = arguments[1],\r\n    methodInvoked    = (typeof query == 'string'),\r\n    queryArguments   = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        $module     = $(this),\r\n        element     = this,\r\n\r\n        formErrors  = [],\r\n        keyHeldDown = false,\r\n\r\n        // set at run-time\r\n        $field,\r\n        $group,\r\n        $message,\r\n        $prompt,\r\n        $submit,\r\n        $clear,\r\n        $reset,\r\n\r\n        settings,\r\n        validation,\r\n\r\n        metadata,\r\n        selector,\r\n        className,\r\n        regExp,\r\n        error,\r\n\r\n        namespace,\r\n        moduleNamespace,\r\n        eventNamespace,\r\n\r\n        submitting = false,\r\n        dirty = false,\r\n        history = ['clean', 'clean'],\r\n\r\n        instance,\r\n        module\r\n      ;\r\n\r\n      module      = {\r\n\r\n        initialize: function() {\r\n\r\n          // settings grabbed at run time\r\n          module.get.settings();\r\n          if(methodInvoked) {\r\n            if(instance === undefined) {\r\n              module.instantiate();\r\n            }\r\n            module.invoke(query);\r\n          }\r\n          else {\r\n            if(instance !== undefined) {\r\n              instance.invoke('destroy');\r\n            }\r\n            module.verbose('Initializing form validation', $module, settings);\r\n            module.bindEvents();\r\n            module.set.defaults();\r\n            if (settings.autoCheckRequired) {\r\n              module.set.autoCheck();\r\n            }\r\n            module.instantiate();\r\n          }\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module', instance);\r\n          module.removeEvents();\r\n          $module\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          module.verbose('Refreshing selector cache');\r\n          $field      = $module.find(selector.field);\r\n          $group      = $module.find(selector.group);\r\n          $message    = $module.find(selector.message);\r\n          $prompt     = $module.find(selector.prompt);\r\n\r\n          $submit     = $module.find(selector.submit);\r\n          $clear      = $module.find(selector.clear);\r\n          $reset      = $module.find(selector.reset);\r\n        },\r\n\r\n        submit: function() {\r\n          module.verbose('Submitting form', $module);\r\n          submitting = true;\r\n          $module.submit();\r\n        },\r\n\r\n        attachEvents: function(selector, action) {\r\n          action = action || 'submit';\r\n          $(selector).on('click' + eventNamespace, function(event) {\r\n            module[action]();\r\n            event.preventDefault();\r\n          });\r\n        },\r\n\r\n        bindEvents: function() {\r\n          module.verbose('Attaching form events');\r\n          $module\r\n            .on('submit' + eventNamespace, module.validate.form)\r\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\r\n            .on('click'  + eventNamespace, selector.submit, module.submit)\r\n            .on('click'  + eventNamespace, selector.reset, module.reset)\r\n            .on('click'  + eventNamespace, selector.clear, module.clear)\r\n          ;\r\n          if(settings.keyboardShortcuts) {\r\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\r\n          }\r\n          $field.each(function(index, el) {\r\n            var\r\n              $input     = $(el),\r\n              type       = $input.prop('type'),\r\n              inputEvent = module.get.changeEvent(type, $input)\r\n            ;\r\n            $input.on(inputEvent + eventNamespace, module.event.field.change);\r\n          });\r\n\r\n          // Dirty events\r\n          if (settings.preventLeaving) {\r\n            $(window).on('beforeunload' + eventNamespace, module.event.beforeUnload);\r\n          }\r\n\r\n          $field.on('change click keyup keydown blur', function(e) {\r\n            $(this).triggerHandler(e.type + \".dirty\");\r\n          });\r\n\r\n          $field.on('change.dirty click.dirty keyup.dirty keydown.dirty blur.dirty', module.determine.isDirty);\r\n\r\n          $module.on('dirty' + eventNamespace, function(e) {\r\n            settings.onDirty.call();\r\n          });\r\n\r\n          $module.on('clean' + eventNamespace, function(e) {\r\n            settings.onClean.call();\r\n          })\r\n        },\r\n\r\n        clear: function() {\r\n          $field.each(function (index, el) {\r\n            var\r\n              $field       = $(el),\r\n              $element     = $field.parent(),\r\n              $fieldGroup  = $field.closest($group),\r\n              $prompt      = $fieldGroup.find(selector.prompt),\r\n              $calendar    = $field.closest(selector.uiCalendar),\r\n              defaultValue = $field.data(metadata.defaultValue) || '',\r\n              isCheckbox   = $element.is(selector.uiCheckbox),\r\n              isDropdown   = $element.is(selector.uiDropdown)  && module.can.useElement('dropdown'),\r\n              isCalendar   = ($calendar.length > 0  && module.can.useElement('calendar')),\r\n              isErrored    = $fieldGroup.hasClass(className.error)\r\n            ;\r\n            if(isErrored) {\r\n              module.verbose('Resetting error on field', $fieldGroup);\r\n              $fieldGroup.removeClass(className.error);\r\n              $prompt.remove();\r\n            }\r\n            if(isDropdown) {\r\n              module.verbose('Resetting dropdown value', $element, defaultValue);\r\n              $element.dropdown('clear', true);\r\n            }\r\n            else if(isCheckbox) {\r\n              $field.prop('checked', false);\r\n            }\r\n            else if (isCalendar) {\r\n              $calendar.calendar('clear');\r\n            }\r\n            else {\r\n              module.verbose('Resetting field value', $field, defaultValue);\r\n              $field.val('');\r\n            }\r\n          });\r\n        },\r\n\r\n        reset: function() {\r\n          $field.each(function (index, el) {\r\n            var\r\n              $field       = $(el),\r\n              $element     = $field.parent(),\r\n              $fieldGroup  = $field.closest($group),\r\n              $calendar    = $field.closest(selector.uiCalendar),\r\n              $prompt      = $fieldGroup.find(selector.prompt),\r\n              defaultValue = $field.data(metadata.defaultValue),\r\n              isCheckbox   = $element.is(selector.uiCheckbox),\r\n              isDropdown   = $element.is(selector.uiDropdown)  && module.can.useElement('dropdown'),\r\n              isCalendar   = ($calendar.length > 0  && module.can.useElement('calendar')),\r\n              isErrored    = $fieldGroup.hasClass(className.error)\r\n            ;\r\n            if(defaultValue === undefined) {\r\n              return;\r\n            }\r\n            if(isErrored) {\r\n              module.verbose('Resetting error on field', $fieldGroup);\r\n              $fieldGroup.removeClass(className.error);\r\n              $prompt.remove();\r\n            }\r\n            if(isDropdown) {\r\n              module.verbose('Resetting dropdown value', $element, defaultValue);\r\n              $element.dropdown('restore defaults', true);\r\n            }\r\n            else if(isCheckbox) {\r\n              module.verbose('Resetting checkbox value', $element, defaultValue);\r\n              $field.prop('checked', defaultValue);\r\n            }\r\n            else if (isCalendar) {\r\n              $calendar.calendar('set date', defaultValue);\r\n            }\r\n            else {\r\n              module.verbose('Resetting field value', $field, defaultValue);\r\n              $field.val(defaultValue);\r\n            }\r\n          });\r\n\r\n          module.determine.isDirty();\r\n        },\r\n\r\n        determine: {\r\n          isValid: function() {\r\n            var\r\n              allValid = true\r\n            ;\r\n            $.each(validation, function(fieldName, field) {\r\n              if( !( module.validate.field(field, fieldName, true) ) ) {\r\n                allValid = false;\r\n              }\r\n            });\r\n            return allValid;\r\n          },\r\n          isDirty: function(e) {\r\n            var formIsDirty = false;\r\n\r\n            $field.each(function(index, el) {\r\n              var\r\n                $el = $(el),\r\n                isCheckbox = ($el.filter(selector.checkbox).length > 0),\r\n                isDirty\r\n              ;\r\n\r\n              if (isCheckbox) {\r\n                isDirty = module.is.checkboxDirty($el);\r\n              } else {\r\n                isDirty = module.is.fieldDirty($el);\r\n              }\r\n\r\n              $el.data(settings.metadata.isDirty, isDirty);\r\n\r\n              formIsDirty |= isDirty;\r\n            });\r\n\r\n            if (formIsDirty) {\r\n              module.set.dirty();\r\n            } else {\r\n              module.set.clean();\r\n            }\r\n\r\n            if (e && e.namespace === 'dirty') {\r\n              e.stopImmediatePropagation();\r\n              e.preventDefault();\r\n            }\r\n          }\r\n        },\r\n\r\n        is: {\r\n          bracketedRule: function(rule) {\r\n            return (rule.type && rule.type.match(settings.regExp.bracket));\r\n          },\r\n          shorthandFields: function(fields) {\r\n            var\r\n              fieldKeys = Object.keys(fields),\r\n              firstRule = fields[fieldKeys[0]]\r\n            ;\r\n            return module.is.shorthandRules(firstRule);\r\n          },\r\n          // duck type rule test\r\n          shorthandRules: function(rules) {\r\n            return (typeof rules == 'string' || Array.isArray(rules));\r\n          },\r\n          empty: function($field) {\r\n            if(!$field || $field.length === 0) {\r\n              return true;\r\n            }\r\n            else if($field.is(selector.checkbox)) {\r\n              return !$field.is(':checked');\r\n            }\r\n            else {\r\n              return module.is.blank($field);\r\n            }\r\n          },\r\n          blank: function($field) {\r\n            return String($field.val()).trim() === '';\r\n          },\r\n          valid: function(field) {\r\n            var\r\n              allValid = true\r\n            ;\r\n            if(field) {\r\n              module.verbose('Checking if field is valid', field);\r\n              return module.validate.field(validation[field], field, false);\r\n            }\r\n            else {\r\n              module.verbose('Checking if form is valid');\r\n              $.each(validation, function(fieldName, field) {\r\n                if( !module.is.valid(fieldName) ) {\r\n                  allValid = false;\r\n                }\r\n              });\r\n              return allValid;\r\n            }\r\n          },\r\n          dirty: function() {\r\n            return dirty;\r\n          },\r\n          clean: function() {\r\n            return !dirty;\r\n          },\r\n          fieldDirty: function($el) {\r\n            var initialValue = $el.data(metadata.defaultValue);\r\n            // Explicitly check for null/undefined here as value may be `false`, so ($el.data(dataInitialValue) || '') would not work\r\n            if (initialValue == null) { initialValue = ''; }\r\n            var currentValue = $el.val();\r\n            if (currentValue == null) { currentValue = ''; }\r\n\r\n            // Boolean values can be encoded as \"true/false\" or \"True/False\" depending on underlying frameworks so we need a case insensitive comparison\r\n            var boolRegex = /^(true|false)$/i;\r\n            var isBoolValue = boolRegex.test(initialValue) && boolRegex.test(currentValue);\r\n            if (isBoolValue) {\r\n              var regex = new RegExp(\"^\" + initialValue + \"$\", \"i\");\r\n              return !regex.test(currentValue);\r\n            }\r\n\r\n            return currentValue !== initialValue;\r\n          },\r\n          checkboxDirty: function($el) {\r\n            var initialValue = $el.data(metadata.defaultValue);\r\n            var currentValue = $el.is(\":checked\");\r\n\r\n            return initialValue !== currentValue;\r\n          },\r\n          justDirty: function() {\r\n            return (history[0] === 'dirty');\r\n          },\r\n          justClean: function() {\r\n            return (history[0] === 'clean');\r\n          }\r\n        },\r\n\r\n        removeEvents: function() {\r\n          $module.off(eventNamespace);\r\n          $field.off(eventNamespace);\r\n          $submit.off(eventNamespace);\r\n          $field.off(eventNamespace);\r\n        },\r\n\r\n        event: {\r\n          field: {\r\n            keydown: function(event) {\r\n              var\r\n                $field       = $(this),\r\n                key          = event.which,\r\n                isInput      = $field.is(selector.input),\r\n                isCheckbox   = $field.is(selector.checkbox),\r\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\r\n                keyCode      = {\r\n                  enter  : 13,\r\n                  escape : 27\r\n                }\r\n              ;\r\n              if( key == keyCode.escape) {\r\n                module.verbose('Escape key pressed blurring field');\r\n                $field\r\n                  .blur()\r\n                ;\r\n              }\r\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\r\n                if(!keyHeldDown) {\r\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\r\n                  module.submit();\r\n                  module.debug('Enter pressed on input submitting form');\r\n                }\r\n                keyHeldDown = true;\r\n              }\r\n            },\r\n            keyup: function() {\r\n              keyHeldDown = false;\r\n            },\r\n            blur: function(event) {\r\n              var\r\n                $field          = $(this),\r\n                $fieldGroup     = $field.closest($group),\r\n                validationRules = module.get.validation($field)\r\n              ;\r\n              if( $fieldGroup.hasClass(className.error) ) {\r\n                module.debug('Revalidating field', $field, validationRules);\r\n                if(validationRules) {\r\n                  module.validate.field( validationRules );\r\n                }\r\n              }\r\n              else if(settings.on == 'blur') {\r\n                if(validationRules) {\r\n                  module.validate.field( validationRules );\r\n                }\r\n              }\r\n            },\r\n            change: function(event) {\r\n              var\r\n                $field      = $(this),\r\n                $fieldGroup = $field.closest($group),\r\n                validationRules = module.get.validation($field)\r\n              ;\r\n              if(validationRules && (settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\r\n                clearTimeout(module.timer);\r\n                module.timer = setTimeout(function() {\r\n                  module.debug('Revalidating field', $field,  module.get.validation($field));\r\n                  module.validate.field( validationRules );\r\n                }, settings.delay);\r\n              }\r\n            }\r\n          },\r\n          beforeUnload: function(event) {\r\n            if (module.is.dirty() && !submitting) {\r\n              var event = event || window.event;\r\n\r\n              // For modern browsers\r\n              if (event) {\r\n                event.returnValue = settings.text.leavingMessage;\r\n              }\r\n\r\n              // For olders...\r\n              return settings.text.leavingMessage;\r\n            }\r\n          }\r\n\r\n        },\r\n\r\n        get: {\r\n          ancillaryValue: function(rule) {\r\n            if(!rule.type || (!rule.value && !module.is.bracketedRule(rule))) {\r\n              return false;\r\n            }\r\n            return (rule.value !== undefined)\r\n              ? rule.value\r\n              : rule.type.match(settings.regExp.bracket)[1] + ''\r\n            ;\r\n          },\r\n          ruleName: function(rule) {\r\n            if( module.is.bracketedRule(rule) ) {\r\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\r\n            }\r\n            return rule.type;\r\n          },\r\n          changeEvent: function(type, $input) {\r\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\r\n              return 'change';\r\n            }\r\n            else {\r\n              return module.get.inputEvent();\r\n            }\r\n          },\r\n          inputEvent: function() {\r\n            return (document.createElement('input').oninput !== undefined)\r\n              ? 'input'\r\n              : (document.createElement('input').onpropertychange !== undefined)\r\n                ? 'propertychange'\r\n                : 'keyup'\r\n            ;\r\n          },\r\n          fieldsFromShorthand: function(fields) {\r\n            var\r\n              fullFields = {}\r\n            ;\r\n            $.each(fields, function(name, rules) {\r\n              if(typeof rules == 'string') {\r\n                rules = [rules];\r\n              }\r\n              fullFields[name] = {\r\n                rules: []\r\n              };\r\n              $.each(rules, function(index, rule) {\r\n                fullFields[name].rules.push({ type: rule });\r\n              });\r\n            });\r\n            return fullFields;\r\n          },\r\n          prompt: function(rule, field) {\r\n            var\r\n              ruleName      = module.get.ruleName(rule),\r\n              ancillary     = module.get.ancillaryValue(rule),\r\n              $field        = module.get.field(field.identifier),\r\n              value         = $field.val(),\r\n              prompt        = $.isFunction(rule.prompt)\r\n                ? rule.prompt(value)\r\n                : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\r\n              requiresValue = (prompt.search('{value}') !== -1),\r\n              requiresName  = (prompt.search('{name}') !== -1),\r\n              $label,\r\n              name\r\n            ;\r\n            if(requiresValue) {\r\n              prompt = prompt.replace(/\\{value\\}/g, $field.val());\r\n            }\r\n            if(requiresName) {\r\n              $label = $field.closest(selector.group).find('label').eq(0);\r\n              name = ($label.length == 1)\r\n                ? $label.text()\r\n                : $field.prop('placeholder') || settings.text.unspecifiedField\r\n              ;\r\n              prompt = prompt.replace(/\\{name\\}/g, name);\r\n            }\r\n            prompt = prompt.replace(/\\{identifier\\}/g, field.identifier);\r\n            prompt = prompt.replace(/\\{ruleValue\\}/g, ancillary);\r\n            if(!rule.prompt) {\r\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\r\n            }\r\n            return prompt;\r\n          },\r\n          settings: function() {\r\n            if($.isPlainObject(parameters)) {\r\n              var\r\n                keys     = Object.keys(parameters),\r\n                isLegacySettings = (keys.length > 0)\r\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\r\n                  : false\r\n              ;\r\n              if(isLegacySettings) {\r\n                // 1.x (ducktyped)\r\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\r\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\r\n                module.error(settings.error.oldSyntax, element);\r\n                module.verbose('Extending settings from legacy parameters', validation, settings);\r\n              }\r\n              else {\r\n                // 2.x\r\n                if(parameters.fields && module.is.shorthandFields(parameters.fields)) {\r\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\r\n                }\r\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\r\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\r\n                module.verbose('Extending settings', validation, settings);\r\n              }\r\n            }\r\n            else {\r\n              settings   = $.fn.form.settings;\r\n              validation = $.fn.form.settings.defaults;\r\n              module.verbose('Using default form validation', validation, settings);\r\n            }\r\n\r\n            // shorthand\r\n            namespace       = settings.namespace;\r\n            metadata        = settings.metadata;\r\n            selector        = settings.selector;\r\n            className       = settings.className;\r\n            regExp          = settings.regExp;\r\n            error           = settings.error;\r\n            moduleNamespace = 'module-' + namespace;\r\n            eventNamespace  = '.' + namespace;\r\n\r\n            // grab instance\r\n            instance = $module.data(moduleNamespace);\r\n\r\n            // refresh selector cache\r\n            module.refresh();\r\n          },\r\n          field: function(identifier) {\r\n            module.verbose('Finding field with identifier', identifier);\r\n            identifier = module.escape.string(identifier);\r\n            var t;\r\n            if((t=$field.filter('#' + identifier)).length > 0 ) {\r\n              return t;\r\n            }\r\n            if((t=$field.filter('[name=\"' + identifier +'\"]')).length > 0 ) {\r\n              return t;\r\n            }\r\n            if((t=$field.filter('[name=\"' + identifier +'[]\"]')).length > 0 ) {\r\n              return t;\r\n            }\r\n            if((t=$field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]')).length > 0 ) {\r\n              return t;\r\n            }\r\n            return $('<input/>');\r\n          },\r\n          fields: function(fields) {\r\n            var\r\n              $fields = $()\r\n            ;\r\n            $.each(fields, function(index, name) {\r\n              $fields = $fields.add( module.get.field(name) );\r\n            });\r\n            return $fields;\r\n          },\r\n          validation: function($field) {\r\n            var\r\n              fieldValidation,\r\n              identifier\r\n            ;\r\n            if(!validation) {\r\n              return false;\r\n            }\r\n            $.each(validation, function(fieldName, field) {\r\n              identifier = field.identifier || fieldName;\r\n              $.each(module.get.field(identifier), function(index, groupField) {\r\n                if(groupField == $field[0]) {\r\n                  field.identifier = identifier;\r\n                  fieldValidation = field;\r\n                  return false;\r\n                }\r\n              });\r\n            });\r\n            return fieldValidation || false;\r\n          },\r\n          value: function (field) {\r\n            var\r\n              fields = [],\r\n              results\r\n            ;\r\n            fields.push(field);\r\n            results = module.get.values.call(element, fields);\r\n            return results[field];\r\n          },\r\n          values: function (fields) {\r\n            var\r\n              $fields = Array.isArray(fields)\r\n                ? module.get.fields(fields)\r\n                : $field,\r\n              values = {}\r\n            ;\r\n            $fields.each(function(index, field) {\r\n              var\r\n                $field       = $(field),\r\n                $calendar    = $field.closest(selector.uiCalendar),\r\n                name         = $field.prop('name'),\r\n                value        = $field.val(),\r\n                isCheckbox   = $field.is(selector.checkbox),\r\n                isRadio      = $field.is(selector.radio),\r\n                isMultiple   = (name.indexOf('[]') !== -1),\r\n                isCalendar   = ($calendar.length > 0  && module.can.useElement('calendar')),\r\n                isChecked    = (isCheckbox)\r\n                  ? $field.is(':checked')\r\n                  : false\r\n              ;\r\n              if(name) {\r\n                if(isMultiple) {\r\n                  name = name.replace('[]', '');\r\n                  if(!values[name]) {\r\n                    values[name] = [];\r\n                  }\r\n                  if(isCheckbox) {\r\n                    if(isChecked) {\r\n                      values[name].push(value || true);\r\n                    }\r\n                    else {\r\n                      values[name].push(false);\r\n                    }\r\n                  }\r\n                  else {\r\n                    values[name].push(value);\r\n                  }\r\n                }\r\n                else {\r\n                  if(isRadio) {\r\n                    if(values[name] === undefined || values[name] === false) {\r\n                      values[name] = (isChecked)\r\n                        ? value || true\r\n                        : false\r\n                      ;\r\n                    }\r\n                  }\r\n                  else if(isCheckbox) {\r\n                    if(isChecked) {\r\n                      values[name] = value || true;\r\n                    }\r\n                    else {\r\n                      values[name] = false;\r\n                    }\r\n                  }\r\n                  else if(isCalendar) {\r\n                    var date = $calendar.calendar('get date');\r\n\r\n                    if (date !== null) {\r\n                      if (settings.dateHandling == 'date') {\r\n                        values[name] = date;\r\n                      } else if(settings.dateHandling == 'input') {\r\n                        values[name] = $calendar.calendar('get input date')\r\n                      } else if (settings.dateHandling == 'formatter') {\r\n                        var type = $calendar.calendar('setting', 'type');\r\n\r\n                        switch(type) {\r\n                          case 'date':\r\n                          values[name] = settings.formatter.date(date);\r\n                          break;\r\n\r\n                          case 'datetime':\r\n                          values[name] = settings.formatter.datetime(date);\r\n                          break;\r\n\r\n                          case 'time':\r\n                          values[name] = settings.formatter.time(date);\r\n                          break;\r\n\r\n                          case 'month':\r\n                          values[name] = settings.formatter.month(date);\r\n                          break;\r\n\r\n                          case 'year':\r\n                          values[name] = settings.formatter.year(date);\r\n                          break;\r\n\r\n                          default:\r\n                          module.debug('Wrong calendar mode', $calendar, type);\r\n                          values[name] = '';\r\n                        }\r\n                      }\r\n                    } else {\r\n                      values[name] = '';\r\n                    }\r\n                  } else {\r\n                    values[name] = value;\r\n                  }\r\n                }\r\n              }\r\n            });\r\n            return values;\r\n          },\r\n          dirtyFields: function() {\r\n            return $field.filter(function(index, e) {\r\n              return $(e).data(metadata.isDirty);\r\n            });\r\n          }\r\n        },\r\n\r\n        has: {\r\n\r\n          field: function(identifier) {\r\n            module.verbose('Checking for existence of a field with identifier', identifier);\r\n            identifier = module.escape.string(identifier);\r\n            if(typeof identifier !== 'string') {\r\n              module.error(error.identifier, identifier);\r\n            }\r\n            if($field.filter('#' + identifier).length > 0 ) {\r\n              return true;\r\n            }\r\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\r\n              return true;\r\n            }\r\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\r\n              return true;\r\n            }\r\n            return false;\r\n          }\r\n\r\n        },\r\n\r\n        can: {\r\n            useElement: function(element){\r\n               if ($.fn[element] !== undefined) {\r\n                   return true;\r\n               }\r\n               module.error(error.noElement.replace('{element}',element));\r\n               return false;\r\n            }\r\n        },\r\n\r\n        escape: {\r\n          string: function(text) {\r\n            text =  String(text);\r\n            return text.replace(regExp.escape, '\\\\$&');\r\n          }\r\n        },\r\n\r\n        add: {\r\n          // alias\r\n          rule: function(name, rules) {\r\n            module.add.field(name, rules);\r\n          },\r\n          field: function(name, rules) {\r\n            // Validation should have at least a standard format\r\n            if(validation[name] === undefined || validation[name].rules === undefined) {\r\n              validation[name] = {\r\n                rules: []\r\n              };\r\n            }\r\n            var\r\n              newValidation = {\r\n                rules: []\r\n              }\r\n            ;\r\n            if(module.is.shorthandRules(rules)) {\r\n              rules = Array.isArray(rules)\r\n                ? rules\r\n                : [rules]\r\n              ;\r\n              $.each(rules, function(_index, rule) {\r\n                newValidation.rules.push({ type: rule });\r\n              });\r\n            }\r\n            else {\r\n              newValidation.rules = rules.rules;\r\n            }\r\n            // For each new rule, check if there's not already one with the same type\r\n            $.each(newValidation.rules, function (_index, rule) {\r\n              if ($.grep(validation[name].rules, function(item){ return item.type == rule.type; }).length == 0) {\r\n                validation[name].rules.push(rule);\r\n              }\r\n            });\r\n            module.debug('Adding rules', newValidation.rules, validation);\r\n          },\r\n          fields: function(fields) {\r\n            var\r\n              newValidation\r\n            ;\r\n            if(fields && module.is.shorthandFields(fields)) {\r\n              newValidation = module.get.fieldsFromShorthand(fields);\r\n            }\r\n            else {\r\n              newValidation = fields;\r\n            }\r\n            validation = $.extend({}, validation, newValidation);\r\n          },\r\n          prompt: function(identifier, errors, internal) {\r\n            var\r\n              $field       = module.get.field(identifier),\r\n              $fieldGroup  = $field.closest($group),\r\n              $prompt      = $fieldGroup.children(selector.prompt),\r\n              promptExists = ($prompt.length !== 0)\r\n            ;\r\n            errors = (typeof errors == 'string')\r\n              ? [errors]\r\n              : errors\r\n            ;\r\n            module.verbose('Adding field error state', identifier);\r\n            if(!internal) {\r\n              $fieldGroup\r\n                  .addClass(className.error)\r\n              ;\r\n            }\r\n            if(settings.inline) {\r\n              if(!promptExists) {\r\n                $prompt = settings.templates.prompt(errors, className.label);\r\n                $prompt\r\n                  .appendTo($fieldGroup)\r\n                ;\r\n              }\r\n              $prompt\r\n                .html(errors[0])\r\n              ;\r\n              if(!promptExists) {\r\n                if(settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\r\n                  module.verbose('Displaying error with css transition', settings.transition);\r\n                  $prompt.transition(settings.transition + ' in', settings.duration);\r\n                }\r\n                else {\r\n                  module.verbose('Displaying error with fallback javascript animation');\r\n                  $prompt\r\n                    .fadeIn(settings.duration)\r\n                  ;\r\n                }\r\n              }\r\n              else {\r\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\r\n              }\r\n            }\r\n          },\r\n          errors: function(errors) {\r\n            module.debug('Adding form error messages', errors);\r\n            module.set.error();\r\n            $message\r\n              .html( settings.templates.error(errors) )\r\n            ;\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          rule: function(field, rule) {\r\n            var\r\n              rules = Array.isArray(rule)\r\n                ? rule\r\n                : [rule]\r\n            ;\r\n            if(validation[field] === undefined || !Array.isArray(validation[field].rules)) {\r\n              return;\r\n            }\r\n            if(rule === undefined) {\r\n              module.debug('Removed all rules');\r\n              validation[field].rules = [];\r\n              return;\r\n            }\r\n            $.each(validation[field].rules, function(index, rule) {\r\n              if(rule && rules.indexOf(rule.type) !== -1) {\r\n                module.debug('Removed rule', rule.type);\r\n                validation[field].rules.splice(index, 1);\r\n              }\r\n            });\r\n          },\r\n          field: function(field) {\r\n            var\r\n              fields = Array.isArray(field)\r\n                ? field\r\n                : [field]\r\n            ;\r\n            $.each(fields, function(index, field) {\r\n              module.remove.rule(field);\r\n            });\r\n          },\r\n          // alias\r\n          rules: function(field, rules) {\r\n            if(Array.isArray(field)) {\r\n              $.each(field, function(index, field) {\r\n                module.remove.rule(field, rules);\r\n              });\r\n            }\r\n            else {\r\n              module.remove.rule(field, rules);\r\n            }\r\n          },\r\n          fields: function(fields) {\r\n            module.remove.field(fields);\r\n          },\r\n          prompt: function(identifier) {\r\n            var\r\n              $field      = module.get.field(identifier),\r\n              $fieldGroup = $field.closest($group),\r\n              $prompt     = $fieldGroup.children(selector.prompt)\r\n            ;\r\n            $fieldGroup\r\n              .removeClass(className.error)\r\n            ;\r\n            if(settings.inline && $prompt.is(':visible')) {\r\n              module.verbose('Removing prompt for field', identifier);\r\n              if(settings.transition  && module.can.useElement('transition') && $module.transition('is supported')) {\r\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\r\n                  $prompt.remove();\r\n                });\r\n              }\r\n              else {\r\n                $prompt\r\n                  .fadeOut(settings.duration, function(){\r\n                    $prompt.remove();\r\n                  })\r\n                ;\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        set: {\r\n          success: function() {\r\n            $module\r\n              .removeClass(className.error)\r\n              .addClass(className.success)\r\n            ;\r\n          },\r\n          defaults: function () {\r\n            $field.each(function (index, el) {\r\n              var\r\n                $el        = $(el),\r\n                $parent    = $el.parent(),\r\n                isCheckbox = ($el.filter(selector.checkbox).length > 0),\r\n                isDropdown = $parent.is(selector.uiDropdown) && module.can.useElement('dropdown'),\r\n                $calendar   = $el.closest(selector.uiCalendar),\r\n                isCalendar  = ($calendar.length > 0  && module.can.useElement('calendar')),\r\n                value      = (isCheckbox)\r\n                  ? $el.is(':checked')\r\n                  : $el.val()\r\n              ;\r\n              if (isDropdown) {\r\n                $parent.dropdown('save defaults');\r\n              }\r\n              else if (isCalendar) {\r\n                $calendar.calendar('refresh');\r\n              }\r\n              $el.data(metadata.defaultValue, value);\r\n              $el.data(metadata.isDirty, false);\r\n            });\r\n          },\r\n          error: function() {\r\n            $module\r\n              .removeClass(className.success)\r\n              .addClass(className.error)\r\n            ;\r\n          },\r\n          value: function (field, value) {\r\n            var\r\n              fields = {}\r\n            ;\r\n            fields[field] = value;\r\n            return module.set.values.call(element, fields);\r\n          },\r\n          values: function (fields) {\r\n            if($.isEmptyObject(fields)) {\r\n              return;\r\n            }\r\n            $.each(fields, function(key, value) {\r\n              var\r\n                $field      = module.get.field(key),\r\n                $element    = $field.parent(),\r\n                $calendar   = $field.closest(selector.uiCalendar),\r\n                isMultiple  = Array.isArray(value),\r\n                isCheckbox  = $element.is(selector.uiCheckbox)  && module.can.useElement('checkbox'),\r\n                isDropdown  = $element.is(selector.uiDropdown) && module.can.useElement('dropdown'),\r\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\r\n                isCalendar  = ($calendar.length > 0  && module.can.useElement('calendar')),\r\n                fieldExists = ($field.length > 0),\r\n                $multipleField\r\n              ;\r\n              if(fieldExists) {\r\n                if(isMultiple && isCheckbox) {\r\n                  module.verbose('Selecting multiple', value, $field);\r\n                  $element.checkbox('uncheck');\r\n                  $.each(value, function(index, value) {\r\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\r\n                    $element       = $multipleField.parent();\r\n                    if($multipleField.length > 0) {\r\n                      $element.checkbox('check');\r\n                    }\r\n                  });\r\n                }\r\n                else if(isRadio) {\r\n                  module.verbose('Selecting radio value', value, $field);\r\n                  $field.filter('[value=\"' + value + '\"]')\r\n                    .parent(selector.uiCheckbox)\r\n                      .checkbox('check')\r\n                  ;\r\n                }\r\n                else if(isCheckbox) {\r\n                  module.verbose('Setting checkbox value', value, $element);\r\n                  if(value === true || value === 1) {\r\n                    $element.checkbox('check');\r\n                  }\r\n                  else {\r\n                    $element.checkbox('uncheck');\r\n                  }\r\n                }\r\n                else if(isDropdown) {\r\n                  module.verbose('Setting dropdown value', value, $element);\r\n                  $element.dropdown('set selected', value);\r\n                }\r\n                else if (isCalendar) {\r\n                  $calendar.calendar('set date',value);\r\n                }\r\n                else {\r\n                  module.verbose('Setting field value', value, $field);\r\n                  $field.val(value);\r\n                }\r\n              }\r\n            });\r\n          },\r\n          dirty: function() {\r\n            module.verbose('Setting state dirty');\r\n            dirty = true;\r\n            history[0] = history[1];\r\n            history[1] = 'dirty';\r\n\r\n            if (module.is.justClean()) {\r\n              $module.trigger('dirty');\r\n            }\r\n          },\r\n          clean: function() {\r\n            module.verbose('Setting state clean');\r\n            dirty = false;\r\n            history[0] = history[1];\r\n            history[1] = 'clean';\r\n\r\n            if (module.is.justDirty()) {\r\n              $module.trigger('clean');\r\n            }\r\n          },\r\n          asClean: function() {\r\n            module.set.defaults();\r\n            module.set.clean();\r\n          },\r\n          asDirty: function() {\r\n            module.set.defaults();\r\n            module.set.dirty();\r\n          },\r\n          autoCheck: function() {\r\n            module.debug('Enabling auto check on required fields');\r\n            $field.each(function (_index, el) {\r\n              var\r\n                $el        = $(el),\r\n                $elGroup   = $(el).closest($group),\r\n                isCheckbox = ($el.filter(selector.checkbox).length > 0),\r\n                isRequired = $el.prop('required') || $elGroup.hasClass(className.required) || $elGroup.parent().hasClass(className.required),\r\n                isDisabled = $el.is(':disabled') || $elGroup.hasClass(className.disabled) || $elGroup.parent().hasClass(className.disabled),\r\n                validation = module.get.validation($el),\r\n                hasEmptyRule = validation\r\n                  ? $.grep(validation.rules, function(rule) { return rule.type == \"empty\" }) !== 0\r\n                  : false,\r\n                identifier = validation.identifier || $el.attr('id') || $el.attr('name') || $el.data(metadata.validate)\r\n              ;\r\n              if (isRequired && !isDisabled && !hasEmptyRule && identifier !== undefined) {\r\n                if (isCheckbox) {\r\n                  module.verbose(\"Adding 'checked' rule on field\", identifier);\r\n                  module.add.rule(identifier, \"checked\");\r\n                } else {\r\n                  module.verbose(\"Adding 'empty' rule on field\", identifier);\r\n                  module.add.rule(identifier, \"empty\");\r\n                }\r\n              }\r\n            });\r\n          }\r\n        },\r\n\r\n        validate: {\r\n\r\n          form: function(event, ignoreCallbacks) {\r\n            var values = module.get.values();\r\n\r\n            // input keydown event will fire submit repeatedly by browser default\r\n            if(keyHeldDown) {\r\n              return false;\r\n            }\r\n\r\n            // reset errors\r\n            formErrors = [];\r\n            if( module.determine.isValid() ) {\r\n              module.debug('Form has no validation errors, submitting');\r\n              module.set.success();\r\n              if(ignoreCallbacks !== true) {\r\n                return settings.onSuccess.call(element, event, values);\r\n              }\r\n            }\r\n            else {\r\n              module.debug('Form has errors');\r\n              module.set.error();\r\n              if(!settings.inline) {\r\n                module.add.errors(formErrors);\r\n              }\r\n              // prevent ajax submit\r\n              if(event && $module.data('moduleApi') !== undefined) {\r\n                event.stopImmediatePropagation();\r\n              }\r\n              if(ignoreCallbacks !== true) {\r\n                return settings.onFailure.call(element, formErrors, values);\r\n              }\r\n            }\r\n          },\r\n\r\n          // takes a validation object and returns whether field passes validation\r\n          field: function(field, fieldName, showErrors) {\r\n            showErrors = (showErrors !== undefined)\r\n              ? showErrors\r\n              : true\r\n            ;\r\n            if(typeof field == 'string') {\r\n              module.verbose('Validating field', field);\r\n              fieldName = field;\r\n              field     = validation[field];\r\n            }\r\n            var\r\n              identifier    = field.identifier || fieldName,\r\n              $field        = module.get.field(identifier),\r\n              $dependsField = (field.depends)\r\n                ? module.get.field(field.depends)\r\n                : false,\r\n              fieldValid  = true,\r\n              fieldErrors = []\r\n            ;\r\n            if(!field.identifier) {\r\n              module.debug('Using field name as identifier', identifier);\r\n              field.identifier = identifier;\r\n            }\r\n            var isDisabled = !$field.filter(':not(:disabled)').length;\r\n            if(isDisabled) {\r\n              module.debug('Field is disabled. Skipping', identifier);\r\n            }\r\n            else if(field.optional && module.is.blank($field)){\r\n              module.debug('Field is optional and blank. Skipping', identifier);\r\n            }\r\n            else if(field.depends && module.is.empty($dependsField)) {\r\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\r\n            }\r\n            else if(field.rules !== undefined) {\r\n              $field.closest($group).removeClass(className.error);\r\n              $.each(field.rules, function(index, rule) {\r\n                if( module.has.field(identifier)) {\r\n                  var invalidFields = module.validate.rule(field, rule,true) || [];\r\n                  if (invalidFields.length>0){\r\n                    module.debug('Field is invalid', identifier, rule.type);\r\n                    fieldErrors.push(module.get.prompt(rule, field));\r\n                    fieldValid = false;\r\n                    if(showErrors){\r\n                      $(invalidFields).closest($group).addClass(className.error);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            }\r\n            if(fieldValid) {\r\n              if(showErrors) {\r\n                module.remove.prompt(identifier, fieldErrors);\r\n                settings.onValid.call($field);\r\n              }\r\n            }\r\n            else {\r\n              if(showErrors) {\r\n                formErrors = formErrors.concat(fieldErrors);\r\n                module.add.prompt(identifier, fieldErrors, true);\r\n                settings.onInvalid.call($field, fieldErrors);\r\n              }\r\n              return false;\r\n            }\r\n            return true;\r\n          },\r\n\r\n          // takes validation rule and returns whether field passes rule\r\n          rule: function(field, rule, internal) {\r\n            var\r\n              $field       = module.get.field(field.identifier),\r\n              ancillary    = module.get.ancillaryValue(rule),\r\n              ruleName     = module.get.ruleName(rule),\r\n              ruleFunction = settings.rules[ruleName],\r\n              invalidFields = [],\r\n              isCheckbox = $field.is(selector.checkbox),\r\n              isValid = function(field){\r\n                var value = (isCheckbox ? $(field).filter(':checked').val() : $(field).val());\r\n                // cast to string avoiding encoding special values\r\n                value = (value === undefined || value === '' || value === null)\r\n                    ? ''\r\n                    : (settings.shouldTrim) ? String(value + '').trim() : String(value + '')\r\n                ;\r\n                return ruleFunction.call(field, value, ancillary, $module);\r\n              }\r\n            ;\r\n            if( !$.isFunction(ruleFunction) ) {\r\n              module.error(error.noRule, ruleName);\r\n              return;\r\n            }\r\n            if(isCheckbox) {\r\n              if (!isValid($field)) {\r\n                invalidFields = $field;\r\n              }\r\n            } else {\r\n              $.each($field, function (index, field) {\r\n                if (!isValid(field)) {\r\n                  invalidFields.push(field);\r\n                }\r\n              });\r\n            }\r\n            return internal ? invalidFields : !(invalidFields.length>0);\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            settings[name] = value;\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n      module.initialize();\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.form.settings = {\r\n\r\n  name              : 'Form',\r\n  namespace         : 'form',\r\n\r\n  debug             : false,\r\n  verbose           : false,\r\n  performance       : true,\r\n\r\n  fields            : false,\r\n\r\n  keyboardShortcuts : true,\r\n  on                : 'submit',\r\n  inline            : false,\r\n\r\n  delay             : 200,\r\n  revalidate        : true,\r\n  shouldTrim        : true,\r\n\r\n  transition        : 'scale',\r\n  duration          : 200,\r\n\r\n  autoCheckRequired : false,\r\n  preventLeaving    : false,\r\n  dateHandling      : 'date', // 'date', 'input', 'formatter'\r\n\r\n  onValid           : function() {},\r\n  onInvalid         : function() {},\r\n  onSuccess         : function() { return true; },\r\n  onFailure         : function() { return false; },\r\n  onDirty           : function() {},\r\n  onClean           : function() {},\r\n\r\n  metadata : {\r\n    defaultValue : 'default',\r\n    validate     : 'validate',\r\n    isDirty      : 'isDirty'\r\n  },\r\n\r\n  regExp: {\r\n    htmlID  : /^[a-zA-Z][\\w:.-]*$/g,\r\n    bracket : /\\[(.*)\\]/i,\r\n    decimal : /^\\d+\\.?\\d*$/,\r\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\r\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|:,=@]/g,\r\n    flags   : /^\\/(.*)\\/(.*)?/,\r\n    integer : /^\\-?\\d+$/,\r\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\r\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\r\n  },\r\n\r\n  text: {\r\n    unspecifiedRule  : 'Please enter a valid value',\r\n    unspecifiedField : 'This field',\r\n    leavingMessage   : 'There are unsaved changes on this page which will be discarded if you continue.'\r\n  },\r\n\r\n  prompt: {\r\n    empty                : '{name} must have a value',\r\n    checked              : '{name} must be checked',\r\n    email                : '{name} must be a valid e-mail',\r\n    url                  : '{name} must be a valid url',\r\n    regExp               : '{name} is not formatted correctly',\r\n    integer              : '{name} must be an integer',\r\n    decimal              : '{name} must be a decimal number',\r\n    number               : '{name} must be set to a number',\r\n    is                   : '{name} must be \"{ruleValue}\"',\r\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\r\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\r\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\r\n    contain              : '{name} must contain \"{ruleValue}\"',\r\n    containExactly       : '{name} must contain exactly \"{ruleValue}\"',\r\n    doesntContain        : '{name} cannot contain  \"{ruleValue}\"',\r\n    doesntContainExactly : '{name} cannot contain exactly \"{ruleValue}\"',\r\n    minLength            : '{name} must be at least {ruleValue} characters',\r\n    length               : '{name} must be at least {ruleValue} characters',\r\n    exactLength          : '{name} must be exactly {ruleValue} characters',\r\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\r\n    match                : '{name} must match {ruleValue} field',\r\n    different            : '{name} must have a different value than {ruleValue} field',\r\n    creditCard           : '{name} must be a valid credit card number',\r\n    minCount             : '{name} must have at least {ruleValue} choices',\r\n    exactCount           : '{name} must have exactly {ruleValue} choices',\r\n    maxCount             : '{name} must have {ruleValue} or less choices'\r\n  },\r\n\r\n  selector : {\r\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\r\n    clear      : '.clear',\r\n    field      : 'input, textarea, select',\r\n    group      : '.field',\r\n    input      : 'input',\r\n    message    : '.error.message',\r\n    prompt     : '.prompt.label',\r\n    radio      : 'input[type=\"radio\"]',\r\n    reset      : '.reset:not([type=\"reset\"])',\r\n    submit     : '.submit:not([type=\"submit\"])',\r\n    uiCheckbox : '.ui.checkbox',\r\n    uiDropdown : '.ui.dropdown',\r\n    uiCalendar : '.ui.calendar'\r\n  },\r\n\r\n  className : {\r\n    error    : 'error',\r\n    label    : 'ui basic red pointing prompt label',\r\n    pressed  : 'down',\r\n    success  : 'success',\r\n    required : 'required',\r\n    disabled : 'disabled'\r\n  },\r\n\r\n  error: {\r\n    identifier : 'You must specify a string identifier for each field',\r\n    method     : 'The method you called is not defined.',\r\n    noRule     : 'There is no rule matching the one you specified',\r\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.',\r\n    noElement  : 'This module requires ui {element}'\r\n  },\r\n\r\n  templates: {\r\n\r\n    // template that produces error message\r\n    error: function(errors) {\r\n      var\r\n        html = '<ul class=\"list\">'\r\n      ;\r\n      $.each(errors, function(index, value) {\r\n        html += '<li>' + value + '</li>';\r\n      });\r\n      html += '</ul>';\r\n      return $(html);\r\n    },\r\n\r\n    // template that produces label\r\n    prompt: function(errors, labelClasses) {\r\n      return $('<div/>')\r\n        .addClass(labelClasses)\r\n        .html(errors[0])\r\n      ;\r\n    }\r\n  },\r\n\r\n  formatter: {\r\n    date: function(date) {\r\n      return Intl.DateTimeFormat('en-GB').format(date);\r\n    },\r\n    datetime: function(date) {\r\n      return Intl.DateTimeFormat('en-GB', {\r\n        year: \"numeric\",\r\n        month: \"2-digit\",\r\n        day: \"2-digit\",\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit'\r\n      }).format(date);\r\n    },\r\n    time: function(date) {\r\n      return Intl.DateTimeFormat('en-GB', {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit'\r\n      }).format(date);\r\n    },\r\n    month: function(date) {\r\n      return Intl.DateTimeFormat('en-GB', {\r\n        month: '2-digit',\r\n        year: 'numeric'\r\n      }).format(date);\r\n    },\r\n    year: function(date) {\r\n      return Intl.DateTimeFormat('en-GB', {\r\n        year: 'numeric'\r\n      }).format(date);\r\n    }\r\n  },\r\n\r\n  rules: {\r\n\r\n    // is not empty or blank string\r\n    empty: function(value) {\r\n      return !(value === undefined || '' === value || Array.isArray(value) && value.length === 0);\r\n    },\r\n\r\n    // checkbox checked\r\n    checked: function() {\r\n      return ($(this).filter(':checked').length > 0);\r\n    },\r\n\r\n    // is most likely an email\r\n    email: function(value){\r\n      return $.fn.form.settings.regExp.email.test(value);\r\n    },\r\n\r\n    // value is most likely url\r\n    url: function(value) {\r\n      return $.fn.form.settings.regExp.url.test(value);\r\n    },\r\n\r\n    // matches specified regExp\r\n    regExp: function(value, regExp) {\r\n      if(regExp instanceof RegExp) {\r\n        return value.match(regExp);\r\n      }\r\n      var\r\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\r\n        flags\r\n      ;\r\n      // regular expression specified as /baz/gi (flags)\r\n      if(regExpParts) {\r\n        regExp = (regExpParts.length >= 2)\r\n          ? regExpParts[1]\r\n          : regExp\r\n        ;\r\n        flags = (regExpParts.length >= 3)\r\n          ? regExpParts[2]\r\n          : ''\r\n        ;\r\n      }\r\n      return value.match( new RegExp(regExp, flags) );\r\n    },\r\n\r\n    // is valid integer or matches range\r\n    integer: function(value, range) {\r\n      var\r\n        intRegExp = $.fn.form.settings.regExp.integer,\r\n        min,\r\n        max,\r\n        parts\r\n      ;\r\n      if( !range || ['', '..'].indexOf(range) !== -1) {\r\n        // do nothing\r\n      }\r\n      else if(range.indexOf('..') == -1) {\r\n        if(intRegExp.test(range)) {\r\n          min = max = range - 0;\r\n        }\r\n      }\r\n      else {\r\n        parts = range.split('..', 2);\r\n        if(intRegExp.test(parts[0])) {\r\n          min = parts[0] - 0;\r\n        }\r\n        if(intRegExp.test(parts[1])) {\r\n          max = parts[1] - 0;\r\n        }\r\n      }\r\n      return (\r\n        intRegExp.test(value) &&\r\n        (min === undefined || value >= min) &&\r\n        (max === undefined || value <= max)\r\n      );\r\n    },\r\n\r\n    // is valid number (with decimal)\r\n    decimal: function(value) {\r\n      return $.fn.form.settings.regExp.decimal.test(value);\r\n    },\r\n\r\n    // is valid number\r\n    number: function(value) {\r\n      return $.fn.form.settings.regExp.number.test(value);\r\n    },\r\n\r\n    // is value (case insensitive)\r\n    is: function(value, text) {\r\n      text = (typeof text == 'string')\r\n        ? text.toLowerCase()\r\n        : text\r\n      ;\r\n      value = (typeof value == 'string')\r\n        ? value.toLowerCase()\r\n        : value\r\n      ;\r\n      return (value == text);\r\n    },\r\n\r\n    // is value\r\n    isExactly: function(value, text) {\r\n      return (value == text);\r\n    },\r\n\r\n    // value is not another value (case insensitive)\r\n    not: function(value, notValue) {\r\n      value = (typeof value == 'string')\r\n        ? value.toLowerCase()\r\n        : value\r\n      ;\r\n      notValue = (typeof notValue == 'string')\r\n        ? notValue.toLowerCase()\r\n        : notValue\r\n      ;\r\n      return (value != notValue);\r\n    },\r\n\r\n    // value is not another value (case sensitive)\r\n    notExactly: function(value, notValue) {\r\n      return (value != notValue);\r\n    },\r\n\r\n    // value contains text (insensitive)\r\n    contains: function(value, text) {\r\n      // escape regex characters\r\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\r\n      return (value.search( new RegExp(text, 'i') ) !== -1);\r\n    },\r\n\r\n    // value contains text (case sensitive)\r\n    containsExactly: function(value, text) {\r\n      // escape regex characters\r\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\r\n      return (value.search( new RegExp(text) ) !== -1);\r\n    },\r\n\r\n    // value contains text (insensitive)\r\n    doesntContain: function(value, text) {\r\n      // escape regex characters\r\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\r\n      return (value.search( new RegExp(text, 'i') ) === -1);\r\n    },\r\n\r\n    // value contains text (case sensitive)\r\n    doesntContainExactly: function(value, text) {\r\n      // escape regex characters\r\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\r\n      return (value.search( new RegExp(text) ) === -1);\r\n    },\r\n\r\n    // is at least string length\r\n    minLength: function(value, requiredLength) {\r\n      return (value !== undefined)\r\n        ? (value.length >= requiredLength)\r\n        : false\r\n      ;\r\n    },\r\n\r\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\r\n    length: function(value, requiredLength) {\r\n      return (value !== undefined)\r\n        ? (value.length >= requiredLength)\r\n        : false\r\n      ;\r\n    },\r\n\r\n    // is exactly length\r\n    exactLength: function(value, requiredLength) {\r\n      return (value !== undefined)\r\n        ? (value.length == requiredLength)\r\n        : false\r\n      ;\r\n    },\r\n\r\n    // is less than length\r\n    maxLength: function(value, maxLength) {\r\n      return (value !== undefined)\r\n        ? (value.length <= maxLength)\r\n        : false\r\n      ;\r\n    },\r\n\r\n    // matches another field\r\n    match: function(value, identifier, $module) {\r\n      var\r\n        matchingValue,\r\n        matchingElement\r\n      ;\r\n      if((matchingElement = $module.find('[data-validate=\"'+ identifier +'\"]')).length > 0 ) {\r\n        matchingValue = matchingElement.val();\r\n      }\r\n      else if((matchingElement = $module.find('#' + identifier)).length > 0) {\r\n        matchingValue = matchingElement.val();\r\n      }\r\n      else if((matchingElement = $module.find('[name=\"' + identifier +'\"]')).length > 0) {\r\n        matchingValue = matchingElement.val();\r\n      }\r\n      else if((matchingElement = $module.find('[name=\"' + identifier +'[]\"]')).length > 0 ) {\r\n        matchingValue = matchingElement;\r\n      }\r\n      return (matchingValue !== undefined)\r\n        ? ( value.toString() == matchingValue.toString() )\r\n        : false\r\n      ;\r\n    },\r\n\r\n    // different than another field\r\n    different: function(value, identifier, $module) {\r\n      // use either id or name of field\r\n      var\r\n        matchingValue,\r\n        matchingElement\r\n      ;\r\n      if((matchingElement = $module.find('[data-validate=\"'+ identifier +'\"]')).length > 0 ) {\r\n        matchingValue = matchingElement.val();\r\n      }\r\n      else if((matchingElement = $module.find('#' + identifier)).length > 0) {\r\n        matchingValue = matchingElement.val();\r\n      }\r\n      else if((matchingElement = $module.find('[name=\"' + identifier +'\"]')).length > 0) {\r\n        matchingValue = matchingElement.val();\r\n      }\r\n      else if((matchingElement = $module.find('[name=\"' + identifier +'[]\"]')).length > 0 ) {\r\n        matchingValue = matchingElement;\r\n      }\r\n      return (matchingValue !== undefined)\r\n        ? ( value.toString() !== matchingValue.toString() )\r\n        : false\r\n      ;\r\n    },\r\n\r\n    creditCard: function(cardNumber, cardTypes) {\r\n      var\r\n        cards = {\r\n          visa: {\r\n            pattern : /^4/,\r\n            length  : [16]\r\n          },\r\n          amex: {\r\n            pattern : /^3[47]/,\r\n            length  : [15]\r\n          },\r\n          mastercard: {\r\n            pattern : /^5[1-5]/,\r\n            length  : [16]\r\n          },\r\n          discover: {\r\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\r\n            length  : [16]\r\n          },\r\n          unionPay: {\r\n            pattern : /^(62|88)/,\r\n            length  : [16, 17, 18, 19]\r\n          },\r\n          jcb: {\r\n            pattern : /^35(2[89]|[3-8][0-9])/,\r\n            length  : [16]\r\n          },\r\n          maestro: {\r\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\r\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\r\n          },\r\n          dinersClub: {\r\n            pattern : /^(30[0-5]|^36)/,\r\n            length  : [14]\r\n          },\r\n          laser: {\r\n            pattern : /^(6304|670[69]|6771)/,\r\n            length  : [16, 17, 18, 19]\r\n          },\r\n          visaElectron: {\r\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\r\n            length  : [16]\r\n          }\r\n        },\r\n        valid         = {},\r\n        validCard     = false,\r\n        requiredTypes = (typeof cardTypes == 'string')\r\n          ? cardTypes.split(',')\r\n          : false,\r\n        unionPay,\r\n        validation\r\n      ;\r\n\r\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\r\n        return;\r\n      }\r\n\r\n      // allow dashes in card\r\n      cardNumber = cardNumber.replace(/[\\-]/g, '');\r\n\r\n      // verify card types\r\n      if(requiredTypes) {\r\n        $.each(requiredTypes, function(index, type){\r\n          // verify each card type\r\n          validation = cards[type];\r\n          if(validation) {\r\n            valid = {\r\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\r\n              pattern : (cardNumber.search(validation.pattern) !== -1)\r\n            };\r\n            if(valid.length && valid.pattern) {\r\n              validCard = true;\r\n            }\r\n          }\r\n        });\r\n\r\n        if(!validCard) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // skip luhn for UnionPay\r\n      unionPay = {\r\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\r\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\r\n      };\r\n      if(unionPay.number && unionPay.pattern) {\r\n        return true;\r\n      }\r\n\r\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\r\n      var\r\n        length        = cardNumber.length,\r\n        multiple      = 0,\r\n        producedValue = [\r\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\r\n        ],\r\n        sum           = 0\r\n      ;\r\n      while (length--) {\r\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\r\n        multiple ^= 1;\r\n      }\r\n      return (sum % 10 === 0 && sum > 0);\r\n    },\r\n\r\n    minCount: function(value, minCount) {\r\n      if(minCount == 0) {\r\n        return true;\r\n      }\r\n      if(minCount == 1) {\r\n        return (value !== '');\r\n      }\r\n      return (value.split(',').length >= minCount);\r\n    },\r\n\r\n    exactCount: function(value, exactCount) {\r\n      if(exactCount == 0) {\r\n        return (value === '');\r\n      }\r\n      if(exactCount == 1) {\r\n        return (value !== '' && value.search(',') === -1);\r\n      }\r\n      return (value.split(',').length == exactCount);\r\n    },\r\n\r\n    maxCount: function(value, maxCount) {\r\n      if(maxCount == 0) {\r\n        return false;\r\n      }\r\n      if(maxCount == 1) {\r\n        return (value.search(',') === -1);\r\n      }\r\n      return (value.split(',').length <= maxCount);\r\n    }\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Accordion\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.accordion = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.accordion.settings, parameters)\r\n          : $.extend({}, $.fn.accordion.settings),\r\n\r\n        className       = settings.className,\r\n        namespace       = settings.namespace,\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n        moduleSelector  = $allModules.selector || '',\r\n\r\n        $module  = $(this),\r\n        $title   = $module.find(selector.title),\r\n        $content = $module.find(selector.content),\r\n\r\n        element  = this,\r\n        instance = $module.data(moduleNamespace),\r\n        observer,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing', $module);\r\n          module.bind.events();\r\n          if(settings.observeChanges) {\r\n            module.observeChanges();\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.debug('Destroying previous instance', $module);\r\n          $module\r\n            .off(eventNamespace)\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          $title   = $module.find(selector.title);\r\n          $content = $module.find(selector.content);\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            observer = new MutationObserver(function(mutations) {\r\n              module.debug('DOM tree modified, updating selector cache');\r\n              module.refresh();\r\n            });\r\n            observer.observe(element, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            module.debug('Setting up mutation observer', observer);\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.debug('Binding delegated events');\r\n            $module\r\n              .on(settings.on + eventNamespace, selector.trigger, module.event.click)\r\n            ;\r\n          }\r\n        },\r\n\r\n        event: {\r\n          click: function() {\r\n            module.toggle.call(this);\r\n          }\r\n        },\r\n\r\n        toggle: function(query) {\r\n          var\r\n            $activeTitle = (query !== undefined)\r\n              ? (typeof query === 'number')\r\n                ? $title.eq(query)\r\n                : $(query).closest(selector.title)\r\n              : $(this).closest(selector.title),\r\n            $activeContent = $activeTitle.next($content),\r\n            isAnimating = $activeContent.hasClass(className.animating),\r\n            isActive    = $activeContent.hasClass(className.active),\r\n            isOpen      = (isActive && !isAnimating),\r\n            isOpening   = (!isActive && isAnimating)\r\n          ;\r\n          module.debug('Toggling visibility of content', $activeTitle);\r\n          if(isOpen || isOpening) {\r\n            if(settings.collapsible) {\r\n              module.close.call($activeTitle);\r\n            }\r\n            else {\r\n              module.debug('Cannot close accordion content collapsing is disabled');\r\n            }\r\n          }\r\n          else {\r\n            module.open.call($activeTitle);\r\n          }\r\n        },\r\n\r\n        open: function(query) {\r\n          var\r\n            $activeTitle = (query !== undefined)\r\n              ? (typeof query === 'number')\r\n                ? $title.eq(query)\r\n                : $(query).closest(selector.title)\r\n              : $(this).closest(selector.title),\r\n            $activeContent = $activeTitle.next($content),\r\n            isAnimating = $activeContent.hasClass(className.animating),\r\n            isActive    = $activeContent.hasClass(className.active),\r\n            isOpen      = (isActive || isAnimating)\r\n          ;\r\n          if(isOpen) {\r\n            module.debug('Accordion already open, skipping', $activeContent);\r\n            return;\r\n          }\r\n          module.debug('Opening accordion content', $activeTitle);\r\n          settings.onOpening.call($activeContent);\r\n          settings.onChanging.call($activeContent);\r\n          if(settings.exclusive) {\r\n            module.closeOthers.call($activeTitle);\r\n          }\r\n          $activeTitle\r\n            .addClass(className.active)\r\n          ;\r\n          $activeContent\r\n            .stop(true, true)\r\n            .addClass(className.animating)\r\n          ;\r\n          if(settings.animateChildren) {\r\n            if($.fn.transition !== undefined && $module.transition('is supported')) {\r\n              $activeContent\r\n                .children()\r\n                  .transition({\r\n                    animation        : 'fade in',\r\n                    queue            : false,\r\n                    useFailSafe      : true,\r\n                    debug            : settings.debug,\r\n                    verbose          : settings.verbose,\r\n                    duration         : settings.duration,\r\n                    skipInlineHidden : true,\r\n                    onComplete: function() {\r\n                      $activeContent.children().removeClass(className.transition);\r\n                    }\r\n                  })\r\n              ;\r\n            }\r\n            else {\r\n              $activeContent\r\n                .children()\r\n                  .stop(true, true)\r\n                  .animate({\r\n                    opacity: 1\r\n                  }, settings.duration, module.resetOpacity)\r\n              ;\r\n            }\r\n          }\r\n          $activeContent\r\n            .slideDown(settings.duration, settings.easing, function() {\r\n              $activeContent\r\n                .removeClass(className.animating)\r\n                .addClass(className.active)\r\n              ;\r\n              module.reset.display.call(this);\r\n              settings.onOpen.call(this);\r\n              settings.onChange.call(this);\r\n            })\r\n          ;\r\n        },\r\n\r\n        close: function(query) {\r\n          var\r\n            $activeTitle = (query !== undefined)\r\n              ? (typeof query === 'number')\r\n                ? $title.eq(query)\r\n                : $(query).closest(selector.title)\r\n              : $(this).closest(selector.title),\r\n            $activeContent = $activeTitle.next($content),\r\n            isAnimating    = $activeContent.hasClass(className.animating),\r\n            isActive       = $activeContent.hasClass(className.active),\r\n            isOpening      = (!isActive && isAnimating),\r\n            isClosing      = (isActive && isAnimating)\r\n          ;\r\n          if((isActive || isOpening) && !isClosing) {\r\n            module.debug('Closing accordion content', $activeContent);\r\n            settings.onClosing.call($activeContent);\r\n            settings.onChanging.call($activeContent);\r\n            $activeTitle\r\n              .removeClass(className.active)\r\n            ;\r\n            $activeContent\r\n              .stop(true, true)\r\n              .addClass(className.animating)\r\n            ;\r\n            if(settings.animateChildren) {\r\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\r\n                $activeContent\r\n                  .children()\r\n                    .transition({\r\n                      animation        : 'fade out',\r\n                      queue            : false,\r\n                      useFailSafe      : true,\r\n                      debug            : settings.debug,\r\n                      verbose          : settings.verbose,\r\n                      duration         : settings.duration,\r\n                      skipInlineHidden : true\r\n                    })\r\n                ;\r\n              }\r\n              else {\r\n                $activeContent\r\n                  .children()\r\n                    .stop(true, true)\r\n                    .animate({\r\n                      opacity: 0\r\n                    }, settings.duration, module.resetOpacity)\r\n                ;\r\n              }\r\n            }\r\n            $activeContent\r\n              .slideUp(settings.duration, settings.easing, function() {\r\n                $activeContent\r\n                  .removeClass(className.animating)\r\n                  .removeClass(className.active)\r\n                ;\r\n                module.reset.display.call(this);\r\n                settings.onClose.call(this);\r\n                settings.onChange.call(this);\r\n              })\r\n            ;\r\n          }\r\n        },\r\n\r\n        closeOthers: function(index) {\r\n          var\r\n            $activeTitle = (index !== undefined)\r\n              ? $title.eq(index)\r\n              : $(this).closest(selector.title),\r\n            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),\r\n            $activeAccordion = $activeTitle.closest(selector.accordion),\r\n            activeSelector   = selector.title + '.' + className.active + ':visible',\r\n            activeContent    = selector.content + '.' + className.active + ':visible',\r\n            $openTitles,\r\n            $nestedTitles,\r\n            $openContents\r\n          ;\r\n          if(settings.closeNested) {\r\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\r\n            $openContents = $openTitles.next($content);\r\n          }\r\n          else {\r\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\r\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\r\n            $openTitles   = $openTitles.not($nestedTitles);\r\n            $openContents = $openTitles.next($content);\r\n          }\r\n          if( ($openTitles.length > 0) ) {\r\n            module.debug('Exclusive enabled, closing other content', $openTitles);\r\n            $openTitles\r\n              .removeClass(className.active)\r\n            ;\r\n            $openContents\r\n              .removeClass(className.animating)\r\n              .stop(true, true)\r\n            ;\r\n            if(settings.animateChildren) {\r\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\r\n                $openContents\r\n                  .children()\r\n                    .transition({\r\n                      animation        : 'fade out',\r\n                      useFailSafe      : true,\r\n                      debug            : settings.debug,\r\n                      verbose          : settings.verbose,\r\n                      duration         : settings.duration,\r\n                      skipInlineHidden : true\r\n                    })\r\n                ;\r\n              }\r\n              else {\r\n                $openContents\r\n                  .children()\r\n                    .stop(true, true)\r\n                    .animate({\r\n                      opacity: 0\r\n                    }, settings.duration, module.resetOpacity)\r\n                ;\r\n              }\r\n            }\r\n            $openContents\r\n              .slideUp(settings.duration , settings.easing, function() {\r\n                $(this).removeClass(className.active);\r\n                module.reset.display.call(this);\r\n              })\r\n            ;\r\n          }\r\n        },\r\n\r\n        reset: {\r\n\r\n          display: function() {\r\n            module.verbose('Removing inline display from element', this);\r\n            $(this).css('display', '');\r\n            if( $(this).attr('style') === '') {\r\n              $(this)\r\n                .attr('style', '')\r\n                .removeAttr('style')\r\n              ;\r\n            }\r\n          },\r\n\r\n          opacity: function() {\r\n            module.verbose('Removing inline opacity from element', this);\r\n            $(this).css('opacity', '');\r\n            if( $(this).attr('style') === '') {\r\n              $(this)\r\n                .attr('style', '')\r\n                .removeAttr('style')\r\n              ;\r\n            }\r\n          },\r\n\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          module.debug('Changing internal', name, value);\r\n          if(value !== undefined) {\r\n            if( $.isPlainObject(name) ) {\r\n              $.extend(true, module, name);\r\n            }\r\n            else {\r\n              module[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.accordion.settings = {\r\n\r\n  name            : 'Accordion',\r\n  namespace       : 'accordion',\r\n\r\n  silent          : false,\r\n  debug           : false,\r\n  verbose         : false,\r\n  performance     : true,\r\n\r\n  on              : 'click', // event on title that opens accordion\r\n\r\n  observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion\r\n\r\n  exclusive       : true,  // whether a single accordion content panel should be open at once\r\n  collapsible     : true,  // whether accordion content can be closed\r\n  closeNested     : false, // whether nested content should be closed when a panel is closed\r\n  animateChildren : true,  // whether children opacity should be animated\r\n\r\n  duration        : 350, // duration of animation\r\n  easing          : 'easeOutQuad', // easing equation for animation\r\n\r\n  onOpening       : function(){}, // callback before open animation\r\n  onClosing       : function(){}, // callback before closing animation\r\n  onChanging      : function(){}, // callback before closing or opening animation\r\n\r\n  onOpen          : function(){}, // callback after open animation\r\n  onClose         : function(){}, // callback after closing animation\r\n  onChange        : function(){}, // callback after closing or opening animation\r\n\r\n  error: {\r\n    method : 'The method you called is not defined'\r\n  },\r\n\r\n  className   : {\r\n    active    : 'active',\r\n    animating : 'animating',\r\n    transition: 'transition'\r\n  },\r\n\r\n  selector    : {\r\n    accordion : '.accordion',\r\n    title     : '.title',\r\n    trigger   : '.title',\r\n    content   : '.content'\r\n  }\r\n\r\n};\r\n\r\n// Adds easing\r\n$.extend( $.easing, {\r\n  easeOutQuad: function (x, t, b, c, d) {\r\n    return -c *(t/=d)*(t-2) + b;\r\n  }\r\n});\r\n\r\n})( jQuery, window, document );\r\n\r\n\n/*!\r\n * # Fomantic-UI - Calendar\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.calendar = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue,\r\n    timeGapTable = {\r\n      '5': {'row': 4, 'column': 3 },\r\n      '10': {'row': 3, 'column': 2 },\r\n      '15': {'row': 2, 'column': 2 },\r\n      '20': {'row': 3, 'column': 1 },\r\n      '30': {'row': 2, 'column': 1 }\r\n    }\r\n  ;\r\n\r\n  $allModules\r\n    .each(function () {\r\n      var\r\n        settings = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.calendar.settings, parameters)\r\n          : $.extend({}, $.fn.calendar.settings),\r\n\r\n        className = settings.className,\r\n        namespace = settings.namespace,\r\n        selector = settings.selector,\r\n        formatter = settings.formatter,\r\n        parser = settings.parser,\r\n        metadata = settings.metadata,\r\n        timeGap = timeGapTable[settings.minTimeGap],\r\n        error = settings.error,\r\n\r\n        eventNamespace = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module = $(this),\r\n        $input = $module.find(selector.input),\r\n        $container = $module.find(selector.popup),\r\n        $activator = $module.find(selector.activator),\r\n\r\n        element = this,\r\n        instance = $module.data(moduleNamespace),\r\n\r\n        isTouch,\r\n        isTouchDown = false,\r\n        focusDateUsedForRange = false,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function () {\r\n          module.debug('Initializing calendar for', element, $module);\r\n\r\n          isTouch = module.get.isTouch();\r\n          module.setup.config();\r\n          module.setup.popup();\r\n          module.setup.inline();\r\n          module.setup.input();\r\n          module.setup.date();\r\n          module.create.calendar();\r\n\r\n          module.bind.events();\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function () {\r\n          module.verbose('Storing instance of calendar');\r\n          instance = module;\r\n          $module.data(moduleNamespace, instance);\r\n        },\r\n\r\n        destroy: function () {\r\n          module.verbose('Destroying previous calendar for', element);\r\n          $module.removeData(moduleNamespace);\r\n          module.unbind.events();\r\n        },\r\n\r\n        setup: {\r\n          config: function () {\r\n            if (module.get.minDate() !== null) {\r\n              module.set.minDate($module.data(metadata.minDate));\r\n            }\r\n            if (module.get.maxDate() !== null) {\r\n              module.set.maxDate($module.data(metadata.maxDate));\r\n            }\r\n            module.setting('type', module.get.type());\r\n            module.setting('on', settings.on || ($input.length ? 'focus' : 'click'));\r\n          },\r\n          popup: function () {\r\n            if (settings.inline) {\r\n              return;\r\n            }\r\n            if (!$activator.length) {\r\n              $activator = $module.children().first();\r\n              if (!$activator.length) {\r\n                return;\r\n              }\r\n            }\r\n            if ($.fn.popup === undefined) {\r\n              module.error(error.popup);\r\n              return;\r\n            }\r\n            if (!$container.length) {\r\n              //prepend the popup element to the activator's parent so that it has less chance of messing with\r\n              //the styling (eg input action button needs to be the last child to have correct border radius)\r\n              var $activatorParent = $activator.parent(),\r\n                  domPositionFunction = $activatorParent.closest(selector.append).length !== 0 ? 'appendTo' : 'prependTo';\r\n              $container = $('<div/>').addClass(className.popup)[domPositionFunction]($activatorParent);\r\n            }\r\n            $container.addClass(className.calendar);\r\n            var onVisible = settings.onVisible;\r\n            var onHidden = settings.onHidden;\r\n            if (!$input.length) {\r\n              //no input, $container has to handle focus/blur\r\n              $container.attr('tabindex', '0');\r\n              onVisible = function () {\r\n                module.focus();\r\n                return settings.onVisible.apply($container, arguments);\r\n              };\r\n              onHidden = function () {\r\n                module.blur();\r\n                return settings.onHidden.apply($container, arguments);\r\n              };\r\n            }\r\n            var onShow = function () {\r\n              //reset the focus date onShow\r\n              module.set.focusDate(module.get.date());\r\n              module.set.mode(settings.startMode);\r\n              return settings.onShow.apply($container, arguments);\r\n            };\r\n            var on = module.setting('on');\r\n            var options = $.extend({}, settings.popupOptions, {\r\n              popup: $container,\r\n              on: on,\r\n              hoverable: on === 'hover',\r\n              closable: on === 'click',\r\n              onShow: onShow,\r\n              onVisible: onVisible,\r\n              onHide: settings.onHide,\r\n              onHidden: onHidden\r\n            });\r\n            module.popup(options);\r\n          },\r\n          inline: function () {\r\n            if ($activator.length && !settings.inline) {\r\n              return;\r\n            }\r\n            $container = $('<div/>').addClass(className.calendar).appendTo($module);\r\n            if (!$input.length) {\r\n              $container.attr('tabindex', '0');\r\n            }\r\n          },\r\n          input: function () {\r\n            if (settings.touchReadonly && $input.length && isTouch) {\r\n              $input.prop('readonly', true);\r\n            }\r\n          },\r\n          date: function () {\r\n            var date;\r\n            if (settings.initialDate) {\r\n              date = parser.date(settings.initialDate, settings);\r\n            } else if ($module.data(metadata.date) !== undefined) {\r\n              date = parser.date($module.data(metadata.date), settings);\r\n            } else if ($input.length) {\r\n              date = parser.date($input.val(), settings);\r\n            }\r\n            module.set.date(date, settings.formatInput, false);\r\n          }\r\n        },\r\n\r\n        create: {\r\n          calendar: function () {\r\n            var i, r, c, p, row, cell, pageGrid;\r\n\r\n            var\r\n              mode = module.get.mode(),\r\n              today = new Date(),\r\n              date = module.get.date(),\r\n              focusDate = module.get.focusDate(),\r\n              display = module.helper.dateInRange(focusDate || date || settings.initialDate || today)\r\n            ;\r\n\r\n            if (!focusDate) {\r\n              focusDate = display;\r\n              module.set.focusDate(focusDate, false, false);\r\n            }\r\n\r\n            var\r\n              isYear = mode === 'year',\r\n              isMonth = mode === 'month',\r\n              isDay = mode === 'day',\r\n              isHour = mode === 'hour',\r\n              isMinute = mode === 'minute',\r\n              isTimeOnly = settings.type === 'time'\r\n            ;\r\n\r\n            var multiMonth = Math.max(settings.multiMonth, 1);\r\n            var monthOffset = !isDay ? 0 : module.get.monthOffset();\r\n\r\n            var\r\n              minute = display.getMinutes(),\r\n              hour = display.getHours(),\r\n              day = display.getDate(),\r\n              startMonth = display.getMonth() + monthOffset,\r\n              year = display.getFullYear()\r\n            ;\r\n\r\n            var columns = isDay ? settings.showWeekNumbers ? 8 : 7 : isHour ? 4 : timeGap['column'];\r\n            var rows = isDay || isHour ? 6 : timeGap['row'];\r\n            var pages = isDay ? multiMonth : 1;\r\n\r\n            var container = $container;\r\n            var tooltipPosition = container.hasClass(\"left\") ? \"right center\" : \"left center\";\r\n            container.empty();\r\n            if (pages > 1) {\r\n              pageGrid = $('<div/>').addClass(className.grid).appendTo(container);\r\n            }\r\n\r\n            for (p = 0; p < pages; p++) {\r\n              if (pages > 1) {\r\n                var pageColumn = $('<div/>').addClass(className.column).appendTo(pageGrid);\r\n                container = pageColumn;\r\n              }\r\n\r\n              var month = startMonth + p;\r\n              var firstMonthDayColumn = (new Date(year, month, 1).getDay() - settings.firstDayOfWeek % 7 + 7) % 7;\r\n              if (!settings.constantHeight && isDay) {\r\n                var requiredCells = new Date(year, month + 1, 0).getDate() + firstMonthDayColumn;\r\n                rows = Math.ceil(requiredCells / 7);\r\n              }\r\n\r\n              var\r\n                yearChange = isYear ? 10 : isMonth ? 1 : 0,\r\n                monthChange = isDay ? 1 : 0,\r\n                dayChange = isHour || isMinute ? 1 : 0,\r\n                prevNextDay = isHour || isMinute ? day : 1,\r\n                prevDate = new Date(year - yearChange, month - monthChange, prevNextDay - dayChange, hour),\r\n                nextDate = new Date(year + yearChange, month + monthChange, prevNextDay + dayChange, hour),\r\n                prevLast = isYear ? new Date(Math.ceil(year / 10) * 10 - 9, 0, 0) :\r\n                  isMonth ? new Date(year, 0, 0) : isDay ? new Date(year, month, 0) : new Date(year, month, day, -1),\r\n                nextFirst = isYear ? new Date(Math.ceil(year / 10) * 10 + 1, 0, 1) :\r\n                  isMonth ? new Date(year + 1, 0, 1) : isDay ? new Date(year, month + 1, 1) : new Date(year, month, day + 1)\r\n              ;\r\n\r\n              var tempMode = mode;\r\n              if (isDay && settings.showWeekNumbers){\r\n                tempMode += ' andweek';\r\n              }\r\n              var table = $('<table/>').addClass(className.table).addClass(tempMode).appendTo(container);\r\n              var textColumns = columns;\r\n              //no header for time-only mode\r\n              if (!isTimeOnly) {\r\n                var thead = $('<thead/>').appendTo(table);\r\n\r\n                row = $('<tr/>').appendTo(thead);\r\n                cell = $('<th/>').attr('colspan', '' + columns).appendTo(row);\r\n\r\n                var headerDate = isYear || isMonth ? new Date(year, 0, 1) :\r\n                  isDay ? new Date(year, month, 1) : new Date(year, month, day, hour, minute);\r\n                var headerText = $('<span/>').addClass(className.link).appendTo(cell);\r\n                headerText.text(formatter.header(headerDate, mode, settings));\r\n                var newMode = isMonth ? (settings.disableYear ? 'day' : 'year') :\r\n                  isDay ? (settings.disableMonth ? 'year' : 'month') : 'day';\r\n                headerText.data(metadata.mode, newMode);\r\n\r\n                if (p === 0) {\r\n                  var prev = $('<span/>').addClass(className.prev).appendTo(cell);\r\n                  prev.data(metadata.focusDate, prevDate);\r\n                  prev.toggleClass(className.disabledCell, !module.helper.isDateInRange(prevLast, mode));\r\n                  $('<i/>').addClass(className.prevIcon).appendTo(prev);\r\n                }\r\n\r\n                if (p === pages - 1) {\r\n                  var next = $('<span/>').addClass(className.next).appendTo(cell);\r\n                  next.data(metadata.focusDate, nextDate);\r\n                  next.toggleClass(className.disabledCell, !module.helper.isDateInRange(nextFirst, mode));\r\n                  $('<i/>').addClass(className.nextIcon).appendTo(next);\r\n                }\r\n                if (isDay) {\r\n                  row = $('<tr/>').appendTo(thead);\r\n                  if(settings.showWeekNumbers) {\r\n                      cell = $('<th/>').appendTo(row);\r\n                      cell.text(settings.text.weekNo);\r\n                      cell.addClass(className.weekCell);\r\n                      textColumns--;\r\n                  }\r\n                  for (i = 0; i < textColumns; i++) {\r\n                    cell = $('<th/>').appendTo(row);\r\n                    cell.text(formatter.dayColumnHeader((i + settings.firstDayOfWeek) % 7, settings));\r\n                  }\r\n                }\r\n              }\r\n\r\n              var tbody = $('<tbody/>').appendTo(table);\r\n              i = isYear ? Math.ceil(year / 10) * 10 - 9 : isDay ? 1 - firstMonthDayColumn : 0;\r\n              for (r = 0; r < rows; r++) {\r\n                row = $('<tr/>').appendTo(tbody);\r\n                if(isDay && settings.showWeekNumbers){\r\n                    cell = $('<th/>').appendTo(row);\r\n                    cell.text(module.get.weekOfYear(year,month,i+1-settings.firstDayOfWeek));\r\n                    cell.addClass(className.weekCell);\r\n                }\r\n                for (c = 0; c < textColumns; c++, i++) {\r\n                  var cellDate = isYear ? new Date(i, month, 1, hour, minute) :\r\n                    isMonth ? new Date(year, i, 1, hour, minute) : isDay ? new Date(year, month, i, hour, minute) :\r\n                      isHour ? new Date(year, month, day, i) : new Date(year, month, day, hour, i * settings.minTimeGap);\r\n                  var cellText = isYear ? i :\r\n                    isMonth ? settings.text.monthsShort[i] : isDay ? cellDate.getDate() :\r\n                      formatter.time(cellDate, settings, true);\r\n                  cell = $('<td/>').addClass(className.cell).appendTo(row);\r\n                  cell.text(cellText);\r\n                  cell.data(metadata.date, cellDate);\r\n                  var adjacent = isDay && cellDate.getMonth() !== ((month + 12) % 12);\r\n                  var disabled = (!settings.selectAdjacentDays && adjacent) || !module.helper.isDateInRange(cellDate, mode) || settings.isDisabled(cellDate, mode) || module.helper.isDisabled(cellDate, mode) || !module.helper.isEnabled(cellDate, mode);\r\n                  if (disabled) {\r\n                    var disabledDate = module.helper.findDayAsObject(cellDate, mode, settings.disabledDates);\r\n                    if (disabledDate !== null && disabledDate[metadata.message]) {\r\n                      cell.attr(\"data-tooltip\", disabledDate[metadata.message]);\r\n                      cell.attr(\"data-position\", tooltipPosition);\r\n                    }\r\n                  } else {\r\n                    var eventDate = module.helper.findDayAsObject(cellDate, mode, settings.eventDates);\r\n                    if (eventDate !== null) {\r\n                      cell.addClass(eventDate[metadata.class] || settings.eventClass);\r\n                      if (eventDate[metadata.message]) {\r\n                        cell.attr(\"data-tooltip\", eventDate[metadata.message]);\r\n                        cell.attr(\"data-position\", tooltipPosition);\r\n                      }\r\n                    }\r\n                  }\r\n                  var active = module.helper.dateEqual(cellDate, date, mode);\r\n                  var isToday = module.helper.dateEqual(cellDate, today, mode);\r\n                  cell.toggleClass(className.adjacentCell, adjacent);\r\n                  cell.toggleClass(className.disabledCell, disabled);\r\n                  cell.toggleClass(className.activeCell, active && !adjacent);\r\n                  if (!isHour && !isMinute) {\r\n                    cell.toggleClass(className.todayCell, !adjacent && isToday);\r\n                  }\r\n\r\n                  // Allow for external modifications of each cell\r\n                  var cellOptions = {\r\n                    mode: mode,\r\n                    adjacent: adjacent,\r\n                    disabled: disabled,\r\n                    active: active,\r\n                    today: isToday\r\n                  };\r\n                  formatter.cell(cell, cellDate, cellOptions);\r\n\r\n                  if (module.helper.dateEqual(cellDate, focusDate, mode)) {\r\n                    //ensure that the focus date is exactly equal to the cell date\r\n                    //so that, if selected, the correct value is set\r\n                    module.set.focusDate(cellDate, false, false);\r\n                  }\r\n                }\r\n              }\r\n\r\n              if (settings.today) {\r\n                var todayRow = $('<tr/>').appendTo(tbody);\r\n                var todayButton = $('<td/>').attr('colspan', '' + columns).addClass(className.today).appendTo(todayRow);\r\n                todayButton.text(formatter.today(settings));\r\n                todayButton.data(metadata.date, today);\r\n              }\r\n\r\n              module.update.focus(false, table);\r\n            }\r\n          }\r\n        },\r\n\r\n        update: {\r\n          focus: function (updateRange, container) {\r\n            container = container || $container;\r\n            var mode = module.get.mode();\r\n            var date = module.get.date();\r\n            var focusDate = module.get.focusDate();\r\n            var startDate = module.get.startDate();\r\n            var endDate = module.get.endDate();\r\n            var rangeDate = (updateRange ? focusDate : null) || date || (!isTouch ? focusDate : null);\r\n\r\n            container.find('td').each(function () {\r\n              var cell = $(this);\r\n              var cellDate = cell.data(metadata.date);\r\n              if (!cellDate) {\r\n                return;\r\n              }\r\n              var disabled = cell.hasClass(className.disabledCell);\r\n              var active = cell.hasClass(className.activeCell);\r\n              var adjacent = cell.hasClass(className.adjacentCell);\r\n              var focused = module.helper.dateEqual(cellDate, focusDate, mode);\r\n              var inRange = !rangeDate ? false :\r\n                ((!!startDate && module.helper.isDateInRange(cellDate, mode, startDate, rangeDate)) ||\r\n                (!!endDate && module.helper.isDateInRange(cellDate, mode, rangeDate, endDate)));\r\n              cell.toggleClass(className.focusCell, focused && (!isTouch || isTouchDown) && (!adjacent || (settings.selectAdjacentDays && adjacent)) && !disabled);\r\n\r\n              if (module.helper.isTodayButton(cell)) {\r\n                return;\r\n              }\r\n              cell.toggleClass(className.rangeCell, inRange && !active && !disabled);\r\n            });\r\n          }\r\n        },\r\n\r\n        refresh: function () {\r\n          module.create.calendar();\r\n        },\r\n\r\n        bind: {\r\n          events: function () {\r\n            module.debug('Binding events');\r\n            $container.on('mousedown' + eventNamespace, module.event.mousedown);\r\n            $container.on('touchstart' + eventNamespace, module.event.mousedown);\r\n            $container.on('mouseup' + eventNamespace, module.event.mouseup);\r\n            $container.on('touchend' + eventNamespace, module.event.mouseup);\r\n            $container.on('mouseover' + eventNamespace, module.event.mouseover);\r\n            if ($input.length) {\r\n              $input.on('input' + eventNamespace, module.event.inputChange);\r\n              $input.on('focus' + eventNamespace, module.event.inputFocus);\r\n              $input.on('blur' + eventNamespace, module.event.inputBlur);\r\n              $input.on('keydown' + eventNamespace, module.event.keydown);\r\n            } else {\r\n              $container.on('keydown' + eventNamespace, module.event.keydown);\r\n            }\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          events: function () {\r\n            module.debug('Unbinding events');\r\n            $container.off(eventNamespace);\r\n            if ($input.length) {\r\n              $input.off(eventNamespace);\r\n            }\r\n          }\r\n        },\r\n\r\n        event: {\r\n          mouseover: function (event) {\r\n            var target = $(event.target);\r\n            var date = target.data(metadata.date);\r\n            var mousedown = event.buttons === 1;\r\n            if (date) {\r\n              module.set.focusDate(date, false, true, mousedown);\r\n            }\r\n          },\r\n          mousedown: function (event) {\r\n            if ($input.length) {\r\n              //prevent the mousedown on the calendar causing the input to lose focus\r\n              event.preventDefault();\r\n            }\r\n            isTouchDown = event.type.indexOf('touch') >= 0;\r\n            var target = $(event.target);\r\n            var date = target.data(metadata.date);\r\n            if (date) {\r\n              module.set.focusDate(date, false, true, true);\r\n            }\r\n          },\r\n          mouseup: function (event) {\r\n            //ensure input has focus so that it receives keydown events for calendar navigation\r\n            module.focus();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            isTouchDown = false;\r\n            var target = $(event.target);\r\n            if (target.hasClass(\"disabled\")) {\r\n              return;\r\n            }\r\n            var parent = target.parent();\r\n            if (parent.data(metadata.date) || parent.data(metadata.focusDate) || parent.data(metadata.mode)) {\r\n              //clicked on a child element, switch to parent (used when clicking directly on prev/next <i> icon element)\r\n              target = parent;\r\n            }\r\n            var date = target.data(metadata.date);\r\n            var focusDate = target.data(metadata.focusDate);\r\n            var mode = target.data(metadata.mode);\r\n            if (date && settings.onSelect.call(element, date, module.get.mode()) !== false) {\r\n              var forceSet = target.hasClass(className.today);\r\n              module.selectDate(date, forceSet);\r\n            }\r\n            else if (focusDate) {\r\n              module.set.focusDate(focusDate);\r\n            }\r\n            else if (mode) {\r\n              module.set.mode(mode);\r\n            }\r\n          },\r\n          keydown: function (event) {\r\n            var keyCode = event.which;\r\n            if (keyCode === 27 || keyCode === 9) {\r\n              //esc || tab\r\n              module.popup('hide');\r\n            }\r\n\r\n            if (module.popup('is visible')) {\r\n              if (keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40) {\r\n                //arrow keys\r\n                var mode = module.get.mode();\r\n                var bigIncrement = mode === 'day' ? 7 : mode === 'hour' ? 4 : mode === 'minute' ? timeGap['column'] : 3;\r\n                var increment = keyCode === 37 ? -1 : keyCode === 38 ? -bigIncrement : keyCode == 39 ? 1 : bigIncrement;\r\n                increment *= mode === 'minute' ? settings.minTimeGap : 1;\r\n                var focusDate = module.get.focusDate() || module.get.date() || new Date();\r\n                var year = focusDate.getFullYear() + (mode === 'year' ? increment : 0);\r\n                var month = focusDate.getMonth() + (mode === 'month' ? increment : 0);\r\n                var day = focusDate.getDate() + (mode === 'day' ? increment : 0);\r\n                var hour = focusDate.getHours() + (mode === 'hour' ? increment : 0);\r\n                var minute = focusDate.getMinutes() + (mode === 'minute' ? increment : 0);\r\n                var newFocusDate = new Date(year, month, day, hour, minute);\r\n                if (settings.type === 'time') {\r\n                  newFocusDate = module.helper.mergeDateTime(focusDate, newFocusDate);\r\n                }\r\n                if (module.helper.isDateInRange(newFocusDate, mode)) {\r\n                  module.set.focusDate(newFocusDate);\r\n                }\r\n              } else if (keyCode === 13) {\r\n                //enter\r\n                var mode = module.get.mode();\r\n                var date = module.get.focusDate();\r\n                if (date && !settings.isDisabled(date, mode) && !module.helper.isDisabled(date, mode) && module.helper.isEnabled(date, mode)) {\r\n                  module.selectDate(date);\r\n                }\r\n                //disable form submission:\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n              }\r\n            }\r\n\r\n            if (keyCode === 38 || keyCode === 40) {\r\n              //arrow-up || arrow-down\r\n              event.preventDefault(); //don't scroll\r\n              module.popup('show');\r\n            }\r\n          },\r\n          inputChange: function () {\r\n            var val = $input.val();\r\n            var date = parser.date(val, settings);\r\n            module.set.date(date, false);\r\n          },\r\n          inputFocus: function () {\r\n            $container.addClass(className.active);\r\n          },\r\n          inputBlur: function () {\r\n            $container.removeClass(className.active);\r\n            if (settings.formatInput) {\r\n              var date = module.get.date();\r\n              var text = formatter.datetime(date, settings);\r\n              $input.val(text);\r\n            }\r\n          }\r\n        },\r\n\r\n        get: {\r\n          weekOfYear: function(weekYear,weekMonth,weekDay) {\r\n              // adapted from http://www.merlyn.demon.co.uk/weekcalc.htm\r\n              var ms1d = 864e5, // milliseconds in a day\r\n                  ms7d = 7 * ms1d; // milliseconds in a week\r\n\r\n              return function() { // return a closure so constants get calculated only once\r\n                  var DC3 = Date.UTC(weekYear, weekMonth, weekDay + 3) / ms1d, // an Absolute Day Number\r\n                      AWN = Math.floor(DC3 / 7), // an Absolute Week Number\r\n                      Wyr = new Date(AWN * ms7d).getUTCFullYear();\r\n\r\n                  return AWN - Math.floor(Date.UTC(Wyr, 0, 7) / ms7d) + 1;\r\n              }();\r\n          },\r\n          date: function () {\r\n            return module.helper.sanitiseDate($module.data(metadata.date)) || null;\r\n          },\r\n          inputDate: function() {\r\n            return $input.val();\r\n          },\r\n          focusDate: function () {\r\n            return $module.data(metadata.focusDate) || null;\r\n          },\r\n          startDate: function () {\r\n            var startModule = module.get.calendarModule(settings.startCalendar);\r\n            return (startModule ? startModule.get.date() : $module.data(metadata.startDate)) || null;\r\n          },\r\n          endDate: function () {\r\n            var endModule = module.get.calendarModule(settings.endCalendar);\r\n            return (endModule ? endModule.get.date() : $module.data(metadata.endDate)) || null;\r\n          },\r\n          minDate: function() {\r\n            return $module.data(metadata.minDate) || null;\r\n          },\r\n          maxDate: function() {\r\n            return $module.data(metadata.maxDate) || null;\r\n          },\r\n          monthOffset: function () {\r\n            return $module.data(metadata.monthOffset) || 0;\r\n          },\r\n          mode: function () {\r\n            //only returns valid modes for the current settings\r\n            var mode = $module.data(metadata.mode) || settings.startMode;\r\n            var validModes = module.get.validModes();\r\n            if ($.inArray(mode, validModes) >= 0) {\r\n              return mode;\r\n            }\r\n            return settings.type === 'time' ? 'hour' :\r\n              settings.type === 'month' ? 'month' :\r\n                settings.type === 'year' ? 'year' : 'day';\r\n          },\r\n          type: function() {\r\n            return $module.data(metadata.type) || settings.type;\r\n          },\r\n          validModes: function () {\r\n            var validModes = [];\r\n            if (settings.type !== 'time') {\r\n              if (!settings.disableYear || settings.type === 'year') {\r\n                validModes.push('year');\r\n              }\r\n              if (!(settings.disableMonth || settings.type === 'year') || settings.type === 'month') {\r\n                validModes.push('month');\r\n              }\r\n              if (settings.type.indexOf('date') >= 0) {\r\n                validModes.push('day');\r\n              }\r\n            }\r\n            if (settings.type.indexOf('time') >= 0) {\r\n              validModes.push('hour');\r\n              if (!settings.disableMinute) {\r\n                validModes.push('minute');\r\n              }\r\n            }\r\n            return validModes;\r\n          },\r\n          isTouch: function () {\r\n            try {\r\n              document.createEvent('TouchEvent');\r\n              return true;\r\n            }\r\n            catch (e) {\r\n              return false;\r\n            }\r\n          },\r\n          calendarModule: function (selector) {\r\n            if (!selector) {\r\n              return null;\r\n            }\r\n            if (!(selector instanceof $)) {\r\n              selector = $(selector).first();\r\n            }\r\n            //assume range related calendars are using the same namespace\r\n            return selector.data(moduleNamespace);\r\n          }\r\n        },\r\n\r\n        set: {\r\n          date: function (date, updateInput, fireChange) {\r\n            updateInput = updateInput !== false;\r\n            fireChange = fireChange !== false;\r\n            date = module.helper.sanitiseDate(date);\r\n            date = module.helper.dateInRange(date);\r\n\r\n            var mode = module.get.mode();\r\n            var text = formatter.datetime(date, settings);\r\n\r\n            if (fireChange && settings.onBeforeChange.call(element, date, text, mode) === false) {\r\n              return false;\r\n            }\r\n\r\n            module.set.focusDate(date);\r\n\r\n            if (settings.isDisabled(date, mode)) {\r\n              return false;\r\n            }\r\n\r\n            var endDate = module.get.endDate();\r\n            if (!!endDate && !!date && date > endDate) {\r\n              //selected date is greater than end date in range, so clear end date\r\n              module.set.endDate(undefined);\r\n            }\r\n            module.set.dataKeyValue(metadata.date, date);\r\n\r\n            if (updateInput && $input.length) {\r\n              $input.val(text);\r\n            }\r\n\r\n            if (fireChange) {\r\n              settings.onChange.call(element, date, text, mode);\r\n            }\r\n          },\r\n          startDate: function (date, refreshCalendar) {\r\n            date = module.helper.sanitiseDate(date);\r\n            var startModule = module.get.calendarModule(settings.startCalendar);\r\n            if (startModule) {\r\n              startModule.set.date(date);\r\n            }\r\n            module.set.dataKeyValue(metadata.startDate, date, refreshCalendar);\r\n          },\r\n          endDate: function (date, refreshCalendar) {\r\n            date = module.helper.sanitiseDate(date);\r\n            var endModule = module.get.calendarModule(settings.endCalendar);\r\n            if (endModule) {\r\n              endModule.set.date(date);\r\n            }\r\n            module.set.dataKeyValue(metadata.endDate, date, refreshCalendar);\r\n          },\r\n          focusDate: function (date, refreshCalendar, updateFocus, updateRange) {\r\n            date = module.helper.sanitiseDate(date);\r\n            date = module.helper.dateInRange(date);\r\n            var isDay = module.get.mode() === 'day';\r\n            var oldFocusDate = module.get.focusDate();\r\n            if (isDay && date && oldFocusDate) {\r\n              var yearDelta = date.getFullYear() - oldFocusDate.getFullYear();\r\n              var monthDelta = yearDelta * 12 + date.getMonth() - oldFocusDate.getMonth();\r\n              if (monthDelta) {\r\n                var monthOffset = module.get.monthOffset() - monthDelta;\r\n                module.set.monthOffset(monthOffset, false);\r\n              }\r\n            }\r\n            var changed = module.set.dataKeyValue(metadata.focusDate, date, refreshCalendar);\r\n            updateFocus = (updateFocus !== false && changed && refreshCalendar === false) || focusDateUsedForRange != updateRange;\r\n            focusDateUsedForRange = updateRange;\r\n            if (updateFocus) {\r\n              module.update.focus(updateRange);\r\n            }\r\n          },\r\n          minDate: function (date) {\r\n            date = module.helper.sanitiseDate(date);\r\n            if (settings.maxDate !== null && settings.maxDate <= date) {\r\n              module.verbose('Unable to set minDate variable bigger that maxDate variable', date, settings.maxDate);\r\n            } else {\r\n              module.setting('minDate', date);\r\n              module.set.dataKeyValue(metadata.minDate, date);\r\n            }\r\n          },\r\n          maxDate: function (date) {\r\n            date = module.helper.sanitiseDate(date);\r\n            if (settings.minDate !== null && settings.minDate >= date) {\r\n              module.verbose('Unable to set maxDate variable lower that minDate variable', date, settings.minDate);\r\n            } else {\r\n              module.setting('maxDate', date);\r\n              module.set.dataKeyValue(metadata.maxDate, date);\r\n            }\r\n          },\r\n          monthOffset: function (monthOffset, refreshCalendar) {\r\n            var multiMonth = Math.max(settings.multiMonth, 1);\r\n            monthOffset = Math.max(1 - multiMonth, Math.min(0, monthOffset));\r\n            module.set.dataKeyValue(metadata.monthOffset, monthOffset, refreshCalendar);\r\n          },\r\n          mode: function (mode, refreshCalendar) {\r\n            module.set.dataKeyValue(metadata.mode, mode, refreshCalendar);\r\n          },\r\n          dataKeyValue: function (key, value, refreshCalendar) {\r\n            var oldValue = $module.data(key);\r\n            var equal = oldValue === value || (oldValue <= value && oldValue >= value); //equality test for dates and string objects\r\n            if (value) {\r\n              $module.data(key, value);\r\n            } else {\r\n              $module.removeData(key);\r\n            }\r\n            refreshCalendar = refreshCalendar !== false && !equal;\r\n            if (refreshCalendar) {\r\n              module.refresh();\r\n            }\r\n            return !equal;\r\n          }\r\n        },\r\n\r\n        selectDate: function (date, forceSet) {\r\n          module.verbose('New date selection', date);\r\n          var mode = module.get.mode();\r\n          var complete = forceSet || mode === 'minute' ||\r\n            (settings.disableMinute && mode === 'hour') ||\r\n            (settings.type === 'date' && mode === 'day') ||\r\n            (settings.type === 'month' && mode === 'month') ||\r\n            (settings.type === 'year' && mode === 'year');\r\n          if (complete) {\r\n            var canceled = module.set.date(date) === false;\r\n            if (!canceled && settings.closable) {\r\n              module.popup('hide');\r\n              //if this is a range calendar, focus the container or input. This will open the popup from its event listeners.\r\n              var endModule = module.get.calendarModule(settings.endCalendar);\r\n              if (endModule) {\r\n                if (endModule.setting('on') !== 'focus') {\r\n                  endModule.popup('show');\r\n                }\r\n                endModule.focus();\r\n              }\r\n            }\r\n          } else {\r\n            var newMode = mode === 'year' ? (!settings.disableMonth ? 'month' : 'day') :\r\n              mode === 'month' ? 'day' : mode === 'day' ? 'hour' : 'minute';\r\n            module.set.mode(newMode);\r\n            if (mode === 'hour' || (mode === 'day' && module.get.date())) {\r\n              //the user has chosen enough to consider a valid date/time has been chosen\r\n              module.set.date(date, true, false);\r\n            } else {\r\n              module.set.focusDate(date);\r\n            }\r\n          }\r\n        },\r\n\r\n        changeDate: function (date) {\r\n          module.set.date(date);\r\n        },\r\n\r\n        clear: function () {\r\n          module.set.date(undefined);\r\n        },\r\n\r\n        popup: function () {\r\n          return $activator.popup.apply($activator, arguments);\r\n        },\r\n\r\n        focus: function () {\r\n          if ($input.length) {\r\n            $input.focus();\r\n          } else {\r\n            $container.focus();\r\n          }\r\n        },\r\n        blur: function () {\r\n          if ($input.length) {\r\n            $input.blur();\r\n          } else {\r\n            $container.blur();\r\n          }\r\n        },\r\n\r\n        helper: {\r\n          isDisabled: function(date, mode) {\r\n            return (mode === 'day' || mode === 'month' || mode === 'year') && ((settings.disabledDaysOfWeek.indexOf(date.getDay()) !== -1) || settings.disabledDates.some(function(d){\r\n              if(typeof d === 'string') {\r\n                d = module.helper.sanitiseDate(d);\r\n              }\r\n              if (d instanceof Date) {\r\n                return module.helper.dateEqual(date, d, mode);\r\n              }\r\n              if (d !== null && typeof d === 'object') {\r\n                if (d[metadata.year]) {\r\n                  if (typeof d[metadata.year] === 'number') {\r\n                    return date.getFullYear() == d[metadata.year];\r\n                  } else if (Array.isArray(d[metadata.year])) {\r\n                    return d[metadata.year].indexOf(date.getFullYear()) > -1;\r\n                  }\r\n                } else if (d[metadata.month]) {\r\n                  if (typeof d[metadata.month] === 'number') {\r\n                    return date.getMonth() == d[metadata.month];\r\n                  } else if (Array.isArray(d[metadata.month])) {\r\n                    return d[metadata.month].indexOf(date.getMonth()) > -1;\r\n                  } else if (d[metadata.month] instanceof Date) {\r\n                    var sdate = module.helper.sanitiseDate(d[metadata.month]);\r\n                    return (date.getMonth() == sdate.getMonth()) && (date.getFullYear() == sdate.getFullYear())\r\n                  }\r\n                } else if (d[metadata.date] && mode === 'day') {\r\n                  if (d[metadata.date] instanceof Date) {\r\n                    return module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode);\r\n                  } else if (Array.isArray(d[metadata.date])) {\r\n                    return d[metadata.date].some(function(idate) {\r\n                      return module.helper.dateEqual(date, idate, mode);\r\n                    });\r\n                  }\r\n                }\r\n              }\r\n            }));\r\n          },\r\n          isEnabled: function(date, mode) {\r\n            if (mode === 'day') {\r\n              return settings.enabledDates.length === 0 || settings.enabledDates.some(function(d){\r\n                if(typeof d === 'string') {\r\n                  d = module.helper.sanitiseDate(d);\r\n                }\r\n                if (d instanceof Date) {\r\n                  return module.helper.dateEqual(date, d, mode);\r\n                }\r\n                if (d !== null && typeof d === 'object' && d[metadata.date]) {\r\n                  return module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode);\r\n                }\r\n              });\r\n            } else {\r\n              return true;\r\n            }\r\n          },\r\n          findDayAsObject: function(date, mode, dates) {\r\n            if (mode === 'day' || mode === 'month' || mode === 'year') {\r\n              var d;\r\n              for (var i = 0; i < dates.length; i++) {\r\n                d = dates[i];\r\n                if(typeof d === 'string') {\r\n                  d = module.helper.sanitiseDate(d);\r\n                }\r\n                if (d instanceof Date && module.helper.dateEqual(date, d, mode)) {\r\n                  var dateObject = {};\r\n                  dateObject[metadata.date] = d;\r\n                  return dateObject;\r\n                }\r\n                else if (d !== null && typeof d === 'object') {\r\n                  if (d[metadata.year]) {\r\n                    if (typeof d[metadata.year] === 'number' && date.getFullYear() == d[metadata.year]) {\r\n                      return d;\r\n                    } else if (Array.isArray(d[metadata.year])) {\r\n                      if (d[metadata.year].indexOf(date.getFullYear()) > -1) {\r\n                        return d;\r\n                      }\r\n                    }\r\n                  } else if (d[metadata.month]) {\r\n                    if (typeof d[metadata.month] === 'number' && date.getMonth() == d[metadata.month]) {\r\n                      return d;\r\n                    } else if (Array.isArray(d[metadata.month])) {\r\n                      if (d[metadata.month].indexOf(date.getMonth()) > -1) {\r\n                        return d;\r\n                      }\r\n                    } else if (d[metadata.month] instanceof Date) {\r\n                      var sdate = module.helper.sanitiseDate(d[metadata.month]);\r\n                      if ((date.getMonth() == sdate.getMonth()) && (date.getFullYear() == sdate.getFullYear())) {\r\n                        return d;\r\n                      }\r\n                    }\r\n                  } else if (d[metadata.date] && mode === 'day') {\r\n                    if (d[metadata.date] instanceof Date && module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode)) {\r\n                      return d;\r\n                    } else if (Array.isArray(d[metadata.date])) {\r\n                      if(d[metadata.date].some(function(idate) { return module.helper.dateEqual(date, idate, mode); })) {\r\n                        return d;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            return null;\r\n          },\r\n          sanitiseDate: function (date) {\r\n            if (!date) {\r\n              return undefined;\r\n            }\r\n            if (!(date instanceof Date)) {\r\n              date = parser.date('' + date, settings);\r\n            }\r\n            if (!date || date === null || isNaN(date.getTime())) {\r\n              return undefined;\r\n            }\r\n            return date;\r\n          },\r\n          dateDiff: function (date1, date2, mode) {\r\n            mode = mode || 'day';\r\n            var isTimeOnly = settings.type === 'time';\r\n            var isYear = mode === 'year';\r\n            var isYearOrMonth = isYear || mode === 'month';\r\n            var isMinute = mode === 'minute';\r\n            var isHourOrMinute = isMinute || mode === 'hour';\r\n            //only care about a minute accuracy of settings.minTimeGap\r\n            date1 = new Date(\r\n              isTimeOnly ? 2000 : date1.getFullYear(),\r\n              isTimeOnly ? 0 : isYear ? 0 : date1.getMonth(),\r\n              isTimeOnly ? 1 : isYearOrMonth ? 1 : date1.getDate(),\r\n              !isHourOrMinute ? 0 : date1.getHours(),\r\n              !isMinute ? 0 : settings.minTimeGap * Math.floor(date1.getMinutes() / settings.minTimeGap));\r\n            date2 = new Date(\r\n              isTimeOnly ? 2000 : date2.getFullYear(),\r\n              isTimeOnly ? 0 : isYear ? 0 : date2.getMonth(),\r\n              isTimeOnly ? 1 : isYearOrMonth ? 1 : date2.getDate(),\r\n              !isHourOrMinute ? 0 : date2.getHours(),\r\n              !isMinute ? 0 : settings.minTimeGap * Math.floor(date2.getMinutes() / settings.minTimeGap));\r\n            return date2.getTime() - date1.getTime();\r\n          },\r\n          dateEqual: function (date1, date2, mode) {\r\n            return !!date1 && !!date2 && module.helper.dateDiff(date1, date2, mode) === 0;\r\n          },\r\n          isDateInRange: function (date, mode, minDate, maxDate) {\r\n            if (!minDate && !maxDate) {\r\n              var startDate = module.get.startDate();\r\n              minDate = startDate && settings.minDate ? new Date(Math.max(startDate, settings.minDate)) : startDate || settings.minDate;\r\n              maxDate = settings.maxDate;\r\n            }\r\n            minDate = minDate && new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate(), minDate.getHours(), settings.minTimeGap * Math.ceil(minDate.getMinutes() / settings.minTimeGap));\r\n            return !(!date ||\r\n            (minDate && module.helper.dateDiff(date, minDate, mode) > 0) ||\r\n            (maxDate && module.helper.dateDiff(maxDate, date, mode) > 0));\r\n          },\r\n          dateInRange: function (date, minDate, maxDate) {\r\n            if (!minDate && !maxDate) {\r\n              var startDate = module.get.startDate();\r\n              minDate = startDate && settings.minDate ? new Date(Math.max(startDate, settings.minDate)) : startDate || settings.minDate;\r\n              maxDate = settings.maxDate;\r\n            }\r\n            minDate = minDate && new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate(), minDate.getHours(), settings.minTimeGap * Math.ceil(minDate.getMinutes() / settings.minTimeGap));\r\n            var isTimeOnly = settings.type === 'time';\r\n            return !date ? date :\r\n              (minDate && module.helper.dateDiff(date, minDate, 'minute') > 0) ?\r\n                (isTimeOnly ? module.helper.mergeDateTime(date, minDate) : minDate) :\r\n                (maxDate && module.helper.dateDiff(maxDate, date, 'minute') > 0) ?\r\n                  (isTimeOnly ? module.helper.mergeDateTime(date, maxDate) : maxDate) :\r\n                  date;\r\n          },\r\n          mergeDateTime: function (date, time) {\r\n            return (!date || !time) ? time :\r\n              new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes());\r\n          },\r\n          isTodayButton: function(element) {\r\n            return element.text() === settings.text.today;\r\n          }\r\n        },\r\n\r\n        setting: function (name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if ($.isPlainObject(name)) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if (value !== undefined) {\r\n            if ($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function (name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function () {\r\n          if (!settings.silent && settings.debug) {\r\n            if (settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function () {\r\n          if (!settings.silent && settings.verbose && settings.debug) {\r\n            if (settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function () {\r\n          if (!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function (message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n              ;\r\n            if (settings.performance) {\r\n              currentTime = new Date().getTime();\r\n              previousTime = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time = currentTime;\r\n              performance.push({\r\n                'Name': message[0],\r\n                'Arguments': [].slice.call(message, 1) || '',\r\n                'Element': element,\r\n                'Execution Time': executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function () {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n              ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function (index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if (moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if (console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function (index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function (query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n            ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context = element || context;\r\n          if (typeof query == 'string' && object !== undefined) {\r\n            query = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function (depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                  ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                  : query\r\n                ;\r\n              if ($.isPlainObject(object[camelCaseValue]) && (depth != maxDepth)) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if (object[camelCaseValue] !== undefined) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if ($.isPlainObject(object[value]) && (depth != maxDepth)) {\r\n                object = object[value];\r\n              }\r\n              else if (object[value] !== undefined) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ($.isFunction(found)) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if (found !== undefined) {\r\n            response = found;\r\n          }\r\n          if (Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if (returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if (response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if (methodInvoked) {\r\n        if (instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if (instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n    ;\r\n};\r\n\r\n$.fn.calendar.settings = {\r\n\r\n  name            : 'Calendar',\r\n  namespace       : 'calendar',\r\n\r\n  silent: false,\r\n  debug: false,\r\n  verbose: false,\r\n  performance: false,\r\n\r\n  type               : 'datetime', // picker type, can be 'datetime', 'date', 'time', 'month', or 'year'\r\n  firstDayOfWeek     : 0,          // day for first day column (0 = Sunday)\r\n  constantHeight     : true,       // add rows to shorter months to keep day calendar height consistent (6 rows)\r\n  today              : false,      // show a 'today/now' button at the bottom of the calendar\r\n  closable           : true,       // close the popup after selecting a date/time\r\n  monthFirst         : true,       // month before day when parsing/converting date from/to text\r\n  touchReadonly      : true,       // set input to readonly on touch devices\r\n  inline             : false,      // create the calendar inline instead of inside a popup\r\n  on                 : null,       // when to show the popup (defaults to 'focus' for input, 'click' for others)\r\n  initialDate        : null,       // date to display initially when no date is selected (null = now)\r\n  startMode          : false,      // display mode to start in, can be 'year', 'month', 'day', 'hour', 'minute' (false = 'day')\r\n  minDate            : null,       // minimum date/time that can be selected, dates/times before are disabled\r\n  maxDate            : null,       // maximum date/time that can be selected, dates/times after are disabled\r\n  ampm               : true,       // show am/pm in time mode\r\n  disableYear        : false,      // disable year selection mode\r\n  disableMonth       : false,      // disable month selection mode\r\n  disableMinute      : false,      // disable minute selection mode\r\n  formatInput        : true,       // format the input text upon input blur and module creation\r\n  startCalendar      : null,       // jquery object or selector for another calendar that represents the start date of a date range\r\n  endCalendar        : null,       // jquery object or selector for another calendar that represents the end date of a date range\r\n  multiMonth         : 1,          // show multiple months when in 'day' mode\r\n  minTimeGap         : 5,\r\n  showWeekNumbers    : null,       // show Number of Week at the very first column of a dayView\r\n  disabledDates      : [],         // specific day(s) which won't be selectable and contain additional information.\r\n  disabledDaysOfWeek : [],         // day(s) which won't be selectable(s) (0 = Sunday)\r\n  enabledDates       : [],         // specific day(s) which will be selectable, all other days will be disabled\r\n  eventDates         : [],         // specific day(s) which will be shown in a different color and using tooltips\r\n  centuryBreak       : 60,         // starting short year until 99 where it will be assumed to belong to the last century\r\n  currentCentury     : 2000,       // century to be added to 2-digit years (00 to {centuryBreak}-1)\r\n  selectAdjacentDays : false,     // The calendar can show dates from adjacent month. These adjacent month dates can also be made selectable.\r\n  // popup options ('popup', 'on', 'hoverable', and show/hide callbacks are overridden)\r\n  popupOptions: {\r\n    position: 'bottom left',\r\n    lastResort: 'bottom left',\r\n    prefer: 'opposite',\r\n    hideOnScroll: false\r\n  },\r\n\r\n  text: {\r\n    days: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\r\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n    monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    today: 'Today',\r\n    now: 'Now',\r\n    am: 'AM',\r\n    pm: 'PM',\r\n    weekNo: 'Week'\r\n  },\r\n\r\n  formatter: {\r\n    header: function (date, mode, settings) {\r\n      return mode === 'year' ? settings.formatter.yearHeader(date, settings) :\r\n        mode === 'month' ? settings.formatter.monthHeader(date, settings) :\r\n          mode === 'day' ? settings.formatter.dayHeader(date, settings) :\r\n            mode === 'hour' ? settings.formatter.hourHeader(date, settings) :\r\n              settings.formatter.minuteHeader(date, settings);\r\n    },\r\n    yearHeader: function (date, settings) {\r\n      var decadeYear = Math.ceil(date.getFullYear() / 10) * 10;\r\n      return (decadeYear - 9) + ' - ' + (decadeYear + 2);\r\n    },\r\n    monthHeader: function (date, settings) {\r\n      return date.getFullYear();\r\n    },\r\n    dayHeader: function (date, settings) {\r\n      var month = settings.text.months[date.getMonth()];\r\n      var year = date.getFullYear();\r\n      return month + ' ' + year;\r\n    },\r\n    hourHeader: function (date, settings) {\r\n      return settings.formatter.date(date, settings);\r\n    },\r\n    minuteHeader: function (date, settings) {\r\n      return settings.formatter.date(date, settings);\r\n    },\r\n    dayColumnHeader: function (day, settings) {\r\n      return settings.text.days[day];\r\n    },\r\n    datetime: function (date, settings) {\r\n      if (!date) {\r\n        return '';\r\n      }\r\n      var day = settings.type === 'time' ? '' : settings.formatter.date(date, settings);\r\n      var time = settings.type.indexOf('time') < 0 ? '' : settings.formatter.time(date, settings, false);\r\n      var separator = settings.type === 'datetime' ? ' ' : '';\r\n      return day + separator + time;\r\n    },\r\n    date: function (date, settings) {\r\n      if (!date) {\r\n        return '';\r\n      }\r\n      var day = date.getDate();\r\n      var month = settings.text.months[date.getMonth()];\r\n      var year = date.getFullYear();\r\n      return settings.type === 'year' ? year :\r\n        settings.type === 'month' ? month + ' ' + year :\r\n        (settings.monthFirst ? month + ' ' + day : day + ' ' + month) + ', ' + year;\r\n    },\r\n    time: function (date, settings, forCalendar) {\r\n      if (!date) {\r\n        return '';\r\n      }\r\n      var hour = date.getHours();\r\n      var minute = date.getMinutes();\r\n      var ampm = '';\r\n      if (settings.ampm) {\r\n        ampm = ' ' + (hour < 12 ? settings.text.am : settings.text.pm);\r\n        hour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\r\n      }\r\n      return hour + ':' + (minute < 10 ? '0' : '') + minute + ampm;\r\n    },\r\n    today: function (settings) {\r\n      return settings.type === 'date' ? settings.text.today : settings.text.now;\r\n    },\r\n    cell: function (cell, date, cellOptions) {\r\n    }\r\n  },\r\n\r\n  parser: {\r\n    date: function (text, settings) {\r\n      if (text instanceof Date) {\r\n        return text;\r\n      }\r\n      if (!text) {\r\n        return null;\r\n      }\r\n      text = String(text).trim();\r\n      if (text.length === 0) {\r\n        return null;\r\n      }\r\n      if(text.match(/^[0-9]{4}[\\/\\-\\.][0-9]{2}[\\/\\-\\.][0-9]{2}$/)){\r\n        text += ' 00:00:00';\r\n      }\r\n      // Reverse date and month in some cases\r\n      text = settings.monthFirst || !text.match(/^[0-9]{2}[\\/\\-\\.]/) ? text : text.replace(/[\\/\\-\\.]/g,'/').replace(/([0-9]+)\\/([0-9]+)/,'$2/$1');\r\n      var textDate = new Date(text);\r\n      if(!isNaN(textDate.getDate())) {\r\n        return textDate;\r\n      }\r\n      text = text.toLowerCase();\r\n\r\n      var i, j, k;\r\n      var minute = -1, hour = -1, day = -1, month = -1, year = -1;\r\n      var isAm = undefined;\r\n\r\n      var isTimeOnly = settings.type === 'time';\r\n      var isDateOnly = settings.type.indexOf('time') < 0;\r\n\r\n      var words = text.split(settings.regExp.dateWords), word;\r\n      var numbers = text.split(settings.regExp.dateNumbers), number;\r\n\r\n      var parts;\r\n      var monthString;\r\n\r\n      if (!isDateOnly) {\r\n        //am/pm\r\n        isAm = $.inArray(settings.text.am.toLowerCase(), words) >= 0 ? true :\r\n          $.inArray(settings.text.pm.toLowerCase(), words) >= 0 ? false : undefined;\r\n\r\n        //time with ':'\r\n        for (i = 0; i < numbers.length; i++) {\r\n          number = numbers[i];\r\n          if (number.indexOf(':') >= 0) {\r\n            if (hour < 0 || minute < 0) {\r\n              parts = number.split(':');\r\n              for (k = 0; k < Math.min(2, parts.length); k++) {\r\n                j = parseInt(parts[k]);\r\n                if (isNaN(j)) {\r\n                  j = 0;\r\n                }\r\n                if (k === 0) {\r\n                  hour = j % 24;\r\n                } else {\r\n                  minute = j % 60;\r\n                }\r\n              }\r\n            }\r\n            numbers.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!isTimeOnly) {\r\n        //textual month\r\n        for (i = 0; i < words.length; i++) {\r\n          word = words[i];\r\n          if (word.length <= 0) {\r\n            continue;\r\n          }\r\n          for (j = 0; j < settings.text.months.length; j++) {\r\n            monthString = settings.text.months[j];\r\n            monthString = monthString.substring(0, word.length).toLowerCase();\r\n            if (monthString === word) {\r\n              month = j + 1;\r\n              break;\r\n            }\r\n          }\r\n          if (month >= 0) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        //year > settings.centuryBreak\r\n        for (i = 0; i < numbers.length; i++) {\r\n          j = parseInt(numbers[i]);\r\n          if (isNaN(j)) {\r\n            continue;\r\n          }\r\n          if (j >= settings.centuryBreak && i === numbers.length-1) {\r\n            if (j <= 99) {\r\n              j += settings.currentCentury - 100;\r\n            }\r\n            year = j;\r\n            numbers.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n\r\n        //numeric month\r\n        if (month < 0) {\r\n          for (i = 0; i < numbers.length; i++) {\r\n            k = i > 1 || settings.monthFirst ? i : i === 1 ? 0 : 1;\r\n            j = parseInt(numbers[k]);\r\n            if (isNaN(j)) {\r\n              continue;\r\n            }\r\n            if (1 <= j && j <= 12) {\r\n              month = j;\r\n              numbers.splice(k, 1);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        //day\r\n        for (i = 0; i < numbers.length; i++) {\r\n          j = parseInt(numbers[i]);\r\n          if (isNaN(j)) {\r\n            continue;\r\n          }\r\n          if (1 <= j && j <= 31) {\r\n            day = j;\r\n            numbers.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n\r\n        //year <= settings.centuryBreak\r\n        if (year < 0) {\r\n          for (i = numbers.length - 1; i >= 0; i--) {\r\n            j = parseInt(numbers[i]);\r\n            if (isNaN(j)) {\r\n              continue;\r\n            }\r\n            if (j <= 99) {\r\n              j += settings.currentCentury;\r\n            }\r\n            year = j;\r\n            numbers.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!isDateOnly) {\r\n        //hour\r\n        if (hour < 0) {\r\n          for (i = 0; i < numbers.length; i++) {\r\n            j = parseInt(numbers[i]);\r\n            if (isNaN(j)) {\r\n              continue;\r\n            }\r\n            if (0 <= j && j <= 23) {\r\n              hour = j;\r\n              numbers.splice(i, 1);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        //minute\r\n        if (minute < 0) {\r\n          for (i = 0; i < numbers.length; i++) {\r\n            j = parseInt(numbers[i]);\r\n            if (isNaN(j)) {\r\n              continue;\r\n            }\r\n            if (0 <= j && j <= 59) {\r\n              minute = j;\r\n              numbers.splice(i, 1);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (minute < 0 && hour < 0 && day < 0 && month < 0 && year < 0) {\r\n        return null;\r\n      }\r\n\r\n      if (minute < 0) {\r\n        minute = 0;\r\n      }\r\n      if (hour < 0) {\r\n        hour = 0;\r\n      }\r\n      if (day < 0) {\r\n        day = 1;\r\n      }\r\n      if (month < 0) {\r\n        month = 1;\r\n      }\r\n      if (year < 0) {\r\n        year = new Date().getFullYear();\r\n      }\r\n\r\n      if (isAm !== undefined) {\r\n        if (isAm) {\r\n          if (hour === 12) {\r\n            hour = 0;\r\n          }\r\n        } else if (hour < 12) {\r\n          hour += 12;\r\n        }\r\n      }\r\n\r\n      var date = new Date(year, month - 1, day, hour, minute);\r\n      if (date.getMonth() !== month - 1 || date.getFullYear() !== year) {\r\n        //month or year don't match up, switch to last day of the month\r\n        date = new Date(year, month, 0, hour, minute);\r\n      }\r\n      return isNaN(date.getTime()) ? null : date;\r\n    }\r\n  },\r\n\r\n  // callback before date is changed, return false to cancel the change\r\n  onBeforeChange: function (date, text, mode) {\r\n    return true;\r\n  },\r\n\r\n  // callback when date changes\r\n  onChange: function (date, text, mode) {\r\n  },\r\n\r\n  // callback before show animation, return false to prevent show\r\n  onShow: function () {\r\n  },\r\n\r\n  // callback after show animation\r\n  onVisible: function () {\r\n  },\r\n\r\n  // callback before hide animation, return false to prevent hide\r\n  onHide: function () {\r\n  },\r\n\r\n  // callback after hide animation\r\n  onHidden: function () {\r\n  },\r\n\r\n  // callback before item is selected, return false to prevent selection\r\n  onSelect: function (date, mode) {\r\n  },\r\n\r\n  // is the given date disabled?\r\n  isDisabled: function (date, mode) {\r\n    return false;\r\n  },\r\n\r\n  selector: {\r\n    popup: '.ui.popup',\r\n    input: 'input',\r\n    activator: 'input',\r\n    append: '.inline.field,.inline.fields'\r\n  },\r\n\r\n  regExp: {\r\n    dateWords: /[^A-Za-z\\u00C0-\\u024F]+/g,\r\n    dateNumbers: /[^\\d:]+/g\r\n  },\r\n\r\n  error: {\r\n    popup: 'UI Popup, a required component is not included in this page',\r\n    method: 'The method you called is not defined.'\r\n  },\r\n\r\n  className: {\r\n    calendar: 'calendar',\r\n    active: 'active',\r\n    popup: 'ui popup',\r\n    grid: 'ui equal width grid',\r\n    column: 'column',\r\n    table: 'ui celled center aligned unstackable table',\r\n    prev: 'prev link',\r\n    next: 'next link',\r\n    prevIcon: 'chevron left icon',\r\n    nextIcon: 'chevron right icon',\r\n    link: 'link',\r\n    cell: 'link',\r\n    disabledCell: 'disabled',\r\n    weekCell: 'disabled',\r\n    adjacentCell: 'adjacent',\r\n    activeCell: 'active',\r\n    rangeCell: 'range',\r\n    focusCell: 'focus',\r\n    todayCell: 'today',\r\n    today: 'today link'\r\n  },\r\n\r\n  metadata: {\r\n    date: 'date',\r\n    focusDate: 'focusDate',\r\n    startDate: 'startDate',\r\n    endDate: 'endDate',\r\n    minDate: 'minDate',\r\n    maxDate: 'maxDate',\r\n    mode: 'mode',\r\n    type: 'type',\r\n    monthOffset: 'monthOffset',\r\n    message: 'message',\r\n    class: 'class',\r\n    month: 'month',\r\n    year: 'year'\r\n  },\r\n\r\n  eventClass: 'blue'\r\n};\r\n\r\n})(jQuery, window, document);\r\n\n/*!\r\n * # Fomantic-UI - Checkbox\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.checkbox = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),\r\n\r\n        className       = settings.className,\r\n        namespace       = settings.namespace,\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $label          = $(this).children(selector.label),\r\n        $input          = $(this).children(selector.input),\r\n        input           = $input[0],\r\n\r\n        initialLoad     = false,\r\n        shortcutPressed = false,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        observer,\r\n        element         = this,\r\n        module\r\n      ;\r\n\r\n      module      = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing checkbox', settings);\r\n\r\n          module.create.label();\r\n          module.bind.events();\r\n\r\n          module.set.tabbable();\r\n          module.hide.input();\r\n\r\n          module.observeChanges();\r\n          module.instantiate();\r\n          module.setup();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying module');\r\n          module.unbind.events();\r\n          module.show.input();\r\n          $module.removeData(moduleNamespace);\r\n        },\r\n\r\n        fix: {\r\n          reference: function() {\r\n            if( $module.is(selector.input) ) {\r\n              module.debug('Behavior called on <input> adjusting invoked element');\r\n              $module = $module.closest(selector.checkbox);\r\n              module.refresh();\r\n            }\r\n          }\r\n        },\r\n\r\n        setup: function() {\r\n          module.set.initialLoad();\r\n          if( module.is.indeterminate() ) {\r\n            module.debug('Initial value is indeterminate');\r\n            module.indeterminate();\r\n          }\r\n          else if( module.is.checked() ) {\r\n            module.debug('Initial value is checked');\r\n            module.check();\r\n          }\r\n          else {\r\n            module.debug('Initial value is unchecked');\r\n            module.uncheck();\r\n          }\r\n          module.remove.initialLoad();\r\n        },\r\n\r\n        refresh: function() {\r\n          $label = $module.children(selector.label);\r\n          $input = $module.children(selector.input);\r\n          input  = $input[0];\r\n        },\r\n\r\n        hide: {\r\n          input: function() {\r\n            module.verbose('Modifying <input> z-index to be unselectable');\r\n            $input.addClass(className.hidden);\r\n          }\r\n        },\r\n        show: {\r\n          input: function() {\r\n            module.verbose('Modifying <input> z-index to be selectable');\r\n            $input.removeClass(className.hidden);\r\n          }\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            observer = new MutationObserver(function(mutations) {\r\n              module.debug('DOM tree modified, updating selector cache');\r\n              module.refresh();\r\n            });\r\n            observer.observe(element, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            module.debug('Setting up mutation observer', observer);\r\n          }\r\n        },\r\n\r\n        attachEvents: function(selector, event) {\r\n          var\r\n            $element = $(selector)\r\n          ;\r\n          event = $.isFunction(module[event])\r\n            ? module[event]\r\n            : module.toggle\r\n          ;\r\n          if($element.length > 0) {\r\n            module.debug('Attaching checkbox events to element', selector, event);\r\n            $element\r\n              .on('click' + eventNamespace, event)\r\n            ;\r\n          }\r\n          else {\r\n            module.error(error.notFound);\r\n          }\r\n        },\r\n\r\n        preventDefaultOnInputTarget: function() {\r\n          if(typeof event !== 'undefined' && event !== null && $(event.target).is(selector.input)) {\r\n            module.verbose('Preventing default check action after manual check action');\r\n            event.preventDefault();\r\n          }\r\n        },\r\n\r\n        event: {\r\n          change: function(event) {\r\n            if( !module.should.ignoreCallbacks() ) {\r\n              settings.onChange.call(input);\r\n            }\r\n          },\r\n          click: function(event) {\r\n            var\r\n              $target = $(event.target)\r\n            ;\r\n            if( $target.is(selector.input) ) {\r\n              module.verbose('Using default check action on initialized checkbox');\r\n              return;\r\n            }\r\n            if( $target.is(selector.link) ) {\r\n              module.debug('Clicking link inside checkbox, skipping toggle');\r\n              return;\r\n            }\r\n            module.toggle();\r\n            $input.focus();\r\n            event.preventDefault();\r\n          },\r\n          keydown: function(event) {\r\n            var\r\n              key     = event.which,\r\n              keyCode = {\r\n                enter  : 13,\r\n                space  : 32,\r\n                escape : 27,\r\n                left   : 37,\r\n                up     : 38,\r\n                right  : 39,\r\n                down   : 40\r\n              }\r\n            ;\r\n\r\n            var r = module.get.radios(),\r\n                rIndex = r.index($module),\r\n                rLen = r.length,\r\n                checkIndex = false;\r\n\r\n            if(key == keyCode.left || key == keyCode.up) {\r\n              checkIndex = (rIndex === 0 ? rLen : rIndex) - 1;\r\n            } else if(key == keyCode.right || key == keyCode.down) {\r\n              checkIndex = rIndex === rLen-1 ? 0 : rIndex+1;\r\n            }\r\n\r\n            if (!module.should.ignoreCallbacks() && checkIndex !== false) {\r\n              if(settings.beforeUnchecked.apply(input)===false) {\r\n                module.verbose('Option not allowed to be unchecked, cancelling key navigation');\r\n                return false;\r\n              }\r\n              if (settings.beforeChecked.apply($(r[checkIndex]).children(selector.input)[0])===false) {\r\n                module.verbose('Next option should not allow check, cancelling key navigation');\r\n                return false;\r\n              }\r\n            }\r\n\r\n            if(key == keyCode.escape) {\r\n              module.verbose('Escape key pressed blurring field');\r\n              $input.blur();\r\n              shortcutPressed = true;\r\n            }\r\n            else if(!event.ctrlKey && ( key == keyCode.space || (key == keyCode.enter && settings.enableEnterKey)) ) {\r\n              module.verbose('Enter/space key pressed, toggling checkbox');\r\n              module.toggle();\r\n              shortcutPressed = true;\r\n            }\r\n            else {\r\n              shortcutPressed = false;\r\n            }\r\n          },\r\n          keyup: function(event) {\r\n            if(shortcutPressed) {\r\n              event.preventDefault();\r\n            }\r\n          }\r\n        },\r\n\r\n        check: function() {\r\n          if( !module.should.allowCheck() ) {\r\n            return;\r\n          }\r\n          module.debug('Checking checkbox', $input);\r\n          module.set.checked();\r\n          if( !module.should.ignoreCallbacks() ) {\r\n            settings.onChecked.call(input);\r\n            module.trigger.change();\r\n          }\r\n          module.preventDefaultOnInputTarget();\r\n        },\r\n\r\n        uncheck: function() {\r\n          if( !module.should.allowUncheck() ) {\r\n            return;\r\n          }\r\n          module.debug('Unchecking checkbox');\r\n          module.set.unchecked();\r\n          if( !module.should.ignoreCallbacks() ) {\r\n            settings.onUnchecked.call(input);\r\n            module.trigger.change();\r\n          }\r\n          module.preventDefaultOnInputTarget();\r\n        },\r\n\r\n        indeterminate: function() {\r\n          if( module.should.allowIndeterminate() ) {\r\n            module.debug('Checkbox is already indeterminate');\r\n            return;\r\n          }\r\n          module.debug('Making checkbox indeterminate');\r\n          module.set.indeterminate();\r\n          if( !module.should.ignoreCallbacks() ) {\r\n            settings.onIndeterminate.call(input);\r\n            module.trigger.change();\r\n          }\r\n        },\r\n\r\n        determinate: function() {\r\n          if( module.should.allowDeterminate() ) {\r\n            module.debug('Checkbox is already determinate');\r\n            return;\r\n          }\r\n          module.debug('Making checkbox determinate');\r\n          module.set.determinate();\r\n          if( !module.should.ignoreCallbacks() ) {\r\n            settings.onDeterminate.call(input);\r\n            module.trigger.change();\r\n          }\r\n        },\r\n\r\n        enable: function() {\r\n          if( module.is.enabled() ) {\r\n            module.debug('Checkbox is already enabled');\r\n            return;\r\n          }\r\n          module.debug('Enabling checkbox');\r\n          module.set.enabled();\r\n          if( !module.should.ignoreCallbacks() ) {\r\n            settings.onEnable.call(input);\r\n            // preserve legacy callbacks\r\n            settings.onEnabled.call(input);\r\n            module.trigger.change();\r\n          }\r\n        },\r\n\r\n        disable: function() {\r\n          if( module.is.disabled() ) {\r\n            module.debug('Checkbox is already disabled');\r\n            return;\r\n          }\r\n          module.debug('Disabling checkbox');\r\n          module.set.disabled();\r\n          if( !module.should.ignoreCallbacks() ) {\r\n            settings.onDisable.call(input);\r\n            // preserve legacy callbacks\r\n            settings.onDisabled.call(input);\r\n            module.trigger.change();\r\n          }\r\n        },\r\n\r\n        get: {\r\n          radios: function() {\r\n            var\r\n              name = module.get.name()\r\n            ;\r\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\r\n          },\r\n          otherRadios: function() {\r\n            return module.get.radios().not($module);\r\n          },\r\n          name: function() {\r\n            return $input.attr('name');\r\n          }\r\n        },\r\n\r\n        is: {\r\n          initialLoad: function() {\r\n            return initialLoad;\r\n          },\r\n          radio: function() {\r\n            return ($input.hasClass(className.radio) || $input.attr('type') == 'radio');\r\n          },\r\n          indeterminate: function() {\r\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\r\n          },\r\n          checked: function() {\r\n            return $input.prop('checked') !== undefined && $input.prop('checked');\r\n          },\r\n          disabled: function() {\r\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\r\n          },\r\n          enabled: function() {\r\n            return !module.is.disabled();\r\n          },\r\n          determinate: function() {\r\n            return !module.is.indeterminate();\r\n          },\r\n          unchecked: function() {\r\n            return !module.is.checked();\r\n          }\r\n        },\r\n\r\n        should: {\r\n          allowCheck: function() {\r\n            if(module.is.determinate() && module.is.checked() && !module.is.initialLoad() ) {\r\n              module.debug('Should not allow check, checkbox is already checked');\r\n              return false;\r\n            }\r\n            if(!module.should.ignoreCallbacks() && settings.beforeChecked.apply(input) === false) {\r\n              module.debug('Should not allow check, beforeChecked cancelled');\r\n              return false;\r\n            }\r\n            return true;\r\n          },\r\n          allowUncheck: function() {\r\n            if(module.is.determinate() && module.is.unchecked() && !module.is.initialLoad() ) {\r\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\r\n              return false;\r\n            }\r\n            if(!module.should.ignoreCallbacks() && settings.beforeUnchecked.apply(input) === false) {\r\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\r\n              return false;\r\n            }\r\n            return true;\r\n          },\r\n          allowIndeterminate: function() {\r\n            if(module.is.indeterminate() && !module.is.initialLoad() ) {\r\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\r\n              return false;\r\n            }\r\n            if(!module.should.ignoreCallbacks() && settings.beforeIndeterminate.apply(input) === false) {\r\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\r\n              return false;\r\n            }\r\n            return true;\r\n          },\r\n          allowDeterminate: function() {\r\n            if(module.is.determinate() && !module.is.initialLoad() ) {\r\n              module.debug('Should not allow determinate, checkbox is already determinate');\r\n              return false;\r\n            }\r\n            if(!module.should.ignoreCallbacks() && settings.beforeDeterminate.apply(input) === false) {\r\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\r\n              return false;\r\n            }\r\n            return true;\r\n          },\r\n          ignoreCallbacks: function() {\r\n            return (initialLoad && !settings.fireOnInit);\r\n          }\r\n        },\r\n\r\n        can: {\r\n          change: function() {\r\n            return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly') );\r\n          },\r\n          uncheck: function() {\r\n            return (typeof settings.uncheckable === 'boolean')\r\n              ? settings.uncheckable\r\n              : !module.is.radio()\r\n            ;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          initialLoad: function() {\r\n            initialLoad = true;\r\n          },\r\n          checked: function() {\r\n            module.verbose('Setting class to checked');\r\n            $module\r\n              .removeClass(className.indeterminate)\r\n              .addClass(className.checked)\r\n            ;\r\n            if( module.is.radio() ) {\r\n              module.uncheckOthers();\r\n            }\r\n            if(!module.is.indeterminate() && module.is.checked()) {\r\n              module.debug('Input is already checked, skipping input property change');\r\n              return;\r\n            }\r\n            module.verbose('Setting state to checked', input);\r\n            $input\r\n              .prop('indeterminate', false)\r\n              .prop('checked', true)\r\n            ;\r\n          },\r\n          unchecked: function() {\r\n            module.verbose('Removing checked class');\r\n            $module\r\n              .removeClass(className.indeterminate)\r\n              .removeClass(className.checked)\r\n            ;\r\n            if(!module.is.indeterminate() &&  module.is.unchecked() ) {\r\n              module.debug('Input is already unchecked');\r\n              return;\r\n            }\r\n            module.debug('Setting state to unchecked');\r\n            $input\r\n              .prop('indeterminate', false)\r\n              .prop('checked', false)\r\n            ;\r\n          },\r\n          indeterminate: function() {\r\n            module.verbose('Setting class to indeterminate');\r\n            $module\r\n              .addClass(className.indeterminate)\r\n            ;\r\n            if( module.is.indeterminate() ) {\r\n              module.debug('Input is already indeterminate, skipping input property change');\r\n              return;\r\n            }\r\n            module.debug('Setting state to indeterminate');\r\n            $input\r\n              .prop('indeterminate', true)\r\n            ;\r\n          },\r\n          determinate: function() {\r\n            module.verbose('Removing indeterminate class');\r\n            $module\r\n              .removeClass(className.indeterminate)\r\n            ;\r\n            if( module.is.determinate() ) {\r\n              module.debug('Input is already determinate, skipping input property change');\r\n              return;\r\n            }\r\n            module.debug('Setting state to determinate');\r\n            $input\r\n              .prop('indeterminate', false)\r\n            ;\r\n          },\r\n          disabled: function() {\r\n            module.verbose('Setting class to disabled');\r\n            $module\r\n              .addClass(className.disabled)\r\n            ;\r\n            if( module.is.disabled() ) {\r\n              module.debug('Input is already disabled, skipping input property change');\r\n              return;\r\n            }\r\n            module.debug('Setting state to disabled');\r\n            $input\r\n              .prop('disabled', 'disabled')\r\n            ;\r\n          },\r\n          enabled: function() {\r\n            module.verbose('Removing disabled class');\r\n            $module.removeClass(className.disabled);\r\n            if( module.is.enabled() ) {\r\n              module.debug('Input is already enabled, skipping input property change');\r\n              return;\r\n            }\r\n            module.debug('Setting state to enabled');\r\n            $input\r\n              .prop('disabled', false)\r\n            ;\r\n          },\r\n          tabbable: function() {\r\n            module.verbose('Adding tabindex to checkbox');\r\n            if( $input.attr('tabindex') === undefined) {\r\n              $input.attr('tabindex', 0);\r\n            }\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          initialLoad: function() {\r\n            initialLoad = false;\r\n          }\r\n        },\r\n\r\n        trigger: {\r\n          change: function() {\r\n            var\r\n              events       = document.createEvent('HTMLEvents'),\r\n              inputElement = $input[0]\r\n            ;\r\n            if(inputElement) {\r\n              module.verbose('Triggering native change event');\r\n              events.initEvent('change', true, false);\r\n              inputElement.dispatchEvent(events);\r\n            }\r\n          }\r\n        },\r\n\r\n\r\n        create: {\r\n          label: function() {\r\n            if($input.prevAll(selector.label).length > 0) {\r\n              $input.prev(selector.label).detach().insertAfter($input);\r\n              module.debug('Moving existing label', $label);\r\n            }\r\n            else if( !module.has.label() ) {\r\n              $label = $('<label>').insertAfter($input);\r\n              module.debug('Creating label', $label);\r\n            }\r\n          }\r\n        },\r\n\r\n        has: {\r\n          label: function() {\r\n            return ($label.length > 0);\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.verbose('Attaching checkbox events');\r\n            $module\r\n              .on('click'   + eventNamespace, module.event.click)\r\n              .on('change'  + eventNamespace, module.event.change)\r\n              .on('keydown' + eventNamespace, selector.input, module.event.keydown)\r\n              .on('keyup'   + eventNamespace, selector.input, module.event.keyup)\r\n            ;\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          events: function() {\r\n            module.debug('Removing events');\r\n            $module\r\n              .off(eventNamespace)\r\n            ;\r\n          }\r\n        },\r\n\r\n        uncheckOthers: function() {\r\n          var\r\n            $radios = module.get.otherRadios()\r\n          ;\r\n          module.debug('Unchecking other radios', $radios);\r\n          $radios.removeClass(className.checked);\r\n        },\r\n\r\n        toggle: function() {\r\n          if( !module.can.change() ) {\r\n            if(!module.is.radio()) {\r\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\r\n            }\r\n            return;\r\n          }\r\n          if( module.is.indeterminate() || module.is.unchecked() ) {\r\n            module.debug('Currently unchecked');\r\n            module.check();\r\n          }\r\n          else if( module.is.checked() && module.can.uncheck() ) {\r\n            module.debug('Currently checked');\r\n            module.uncheck();\r\n          }\r\n        },\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.checkbox.settings = {\r\n\r\n  name                : 'Checkbox',\r\n  namespace           : 'checkbox',\r\n\r\n  silent              : false,\r\n  debug               : false,\r\n  verbose             : true,\r\n  performance         : true,\r\n\r\n  // delegated event context\r\n  uncheckable         : 'auto',\r\n  fireOnInit          : false,\r\n  enableEnterKey      : true,\r\n\r\n  onChange            : function(){},\r\n\r\n  beforeChecked       : function(){},\r\n  beforeUnchecked     : function(){},\r\n  beforeDeterminate   : function(){},\r\n  beforeIndeterminate : function(){},\r\n\r\n  onChecked           : function(){},\r\n  onUnchecked         : function(){},\r\n\r\n  onDeterminate       : function() {},\r\n  onIndeterminate     : function() {},\r\n\r\n  onEnable            : function(){},\r\n  onDisable           : function(){},\r\n\r\n  // preserve misspelled callbacks (will be removed in 3.0)\r\n  onEnabled           : function(){},\r\n  onDisabled          : function(){},\r\n\r\n  className       : {\r\n    checked       : 'checked',\r\n    indeterminate : 'indeterminate',\r\n    disabled      : 'disabled',\r\n    hidden        : 'hidden',\r\n    radio         : 'radio',\r\n    readOnly      : 'read-only'\r\n  },\r\n\r\n  error     : {\r\n    method       : 'The method you called is not defined'\r\n  },\r\n\r\n  selector : {\r\n    checkbox : '.ui.checkbox',\r\n    label    : 'label, .box',\r\n    input    : 'input[type=\"checkbox\"], input[type=\"radio\"]',\r\n    link     : 'a[href]'\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Dimmer\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.dimmer = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.dimmer.settings, parameters)\r\n          : $.extend({}, $.fn.dimmer.settings),\r\n\r\n        selector        = settings.selector,\r\n        namespace       = settings.namespace,\r\n        className       = settings.className,\r\n        error           = settings.error,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n        moduleSelector  = $allModules.selector || '',\r\n\r\n        clickEvent      = ('ontouchstart' in document.documentElement)\r\n          ? 'touchstart'\r\n          : 'click',\r\n\r\n        $module = $(this),\r\n        $dimmer,\r\n        $dimmable,\r\n\r\n        element   = this,\r\n        instance  = $module.data(moduleNamespace),\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        preinitialize: function() {\r\n          if( module.is.dimmer() ) {\r\n\r\n            $dimmable = $module.parent();\r\n            $dimmer   = $module;\r\n          }\r\n          else {\r\n            $dimmable = $module;\r\n            if( module.has.dimmer() ) {\r\n              if(settings.dimmerName) {\r\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\r\n              }\r\n              else {\r\n                $dimmer = $dimmable.find(selector.dimmer);\r\n              }\r\n            }\r\n            else {\r\n              $dimmer = module.create();\r\n            }\r\n          }\r\n        },\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing dimmer', settings);\r\n\r\n          module.bind.events();\r\n          module.set.dimmable();\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module', $dimmer);\r\n          module.unbind.events();\r\n          module.remove.variation();\r\n          $dimmable\r\n            .off(eventNamespace)\r\n          ;\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            if(settings.on == 'hover') {\r\n              $dimmable\r\n                .on('mouseenter' + eventNamespace, module.show)\r\n                .on('mouseleave' + eventNamespace, module.hide)\r\n              ;\r\n            }\r\n            else if(settings.on == 'click') {\r\n              $dimmable\r\n                .on(clickEvent + eventNamespace, module.toggle)\r\n              ;\r\n            }\r\n            if( module.is.page() ) {\r\n              module.debug('Setting as a page dimmer', $dimmable);\r\n              module.set.pageDimmer();\r\n            }\r\n\r\n            if( module.is.closable() ) {\r\n              module.verbose('Adding dimmer close event', $dimmer);\r\n              $dimmable\r\n                .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          events: function() {\r\n            $module\r\n              .removeData(moduleNamespace)\r\n            ;\r\n            $dimmable\r\n              .off(eventNamespace)\r\n            ;\r\n          }\r\n        },\r\n\r\n        event: {\r\n          click: function(event) {\r\n            module.verbose('Determining if event occured on dimmer', event);\r\n            if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {\r\n              module.hide();\r\n              event.stopImmediatePropagation();\r\n            }\r\n          }\r\n        },\r\n\r\n        addContent: function(element) {\r\n          var\r\n            $content = $(element)\r\n          ;\r\n          module.debug('Add content to dimmer', $content);\r\n          if($content.parent()[0] !== $dimmer[0]) {\r\n            $content.detach().appendTo($dimmer);\r\n          }\r\n        },\r\n\r\n        create: function() {\r\n          var\r\n            $element = $( settings.template.dimmer(settings) )\r\n          ;\r\n          if(settings.dimmerName) {\r\n            module.debug('Creating named dimmer', settings.dimmerName);\r\n            $element.addClass(settings.dimmerName);\r\n          }\r\n          $element\r\n            .appendTo($dimmable)\r\n          ;\r\n          return $element;\r\n        },\r\n\r\n        show: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          module.debug('Showing dimmer', $dimmer, settings);\r\n          module.set.variation();\r\n          if( (!module.is.dimmed() || module.is.animating()) && module.is.enabled() ) {\r\n            module.animate.show(callback);\r\n            settings.onShow.call(element);\r\n            settings.onChange.call(element);\r\n          }\r\n          else {\r\n            module.debug('Dimmer is already shown or disabled');\r\n          }\r\n        },\r\n\r\n        hide: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if( module.is.dimmed() || module.is.animating() ) {\r\n            module.debug('Hiding dimmer', $dimmer);\r\n            module.animate.hide(callback);\r\n            settings.onHide.call(element);\r\n            settings.onChange.call(element);\r\n          }\r\n          else {\r\n            module.debug('Dimmer is not visible');\r\n          }\r\n        },\r\n\r\n        toggle: function() {\r\n          module.verbose('Toggling dimmer visibility', $dimmer);\r\n          if( !module.is.dimmed() ) {\r\n            module.show();\r\n          }\r\n          else {\r\n            if ( module.is.closable() ) {\r\n              module.hide();\r\n            }\r\n          }\r\n        },\r\n\r\n        animate: {\r\n          show: function(callback) {\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\r\n              if(settings.useFlex) {\r\n                module.debug('Using flex dimmer');\r\n                module.remove.legacy();\r\n              }\r\n              else {\r\n                module.debug('Using legacy non-flex dimmer');\r\n                module.set.legacy();\r\n              }\r\n              if(settings.opacity !== 'auto') {\r\n                module.set.opacity();\r\n              }\r\n              $dimmer\r\n                .transition({\r\n                  displayType : settings.useFlex\r\n                    ? 'flex'\r\n                    : 'block',\r\n                  animation   : settings.transition + ' in',\r\n                  queue       : false,\r\n                  duration    : module.get.duration(),\r\n                  useFailSafe : true,\r\n                  onStart     : function() {\r\n                    module.set.dimmed();\r\n                  },\r\n                  onComplete  : function() {\r\n                    module.set.active();\r\n                    callback();\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.verbose('Showing dimmer animation with javascript');\r\n              module.set.dimmed();\r\n              if(settings.opacity == 'auto') {\r\n                settings.opacity = 0.8;\r\n              }\r\n              $dimmer\r\n                .stop()\r\n                .css({\r\n                  opacity : 0,\r\n                  width   : '100%',\r\n                  height  : '100%'\r\n                })\r\n                .fadeTo(module.get.duration(), settings.opacity, function() {\r\n                  $dimmer.removeAttr('style');\r\n                  module.set.active();\r\n                  callback();\r\n                })\r\n              ;\r\n            }\r\n          },\r\n          hide: function(callback) {\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\r\n              module.verbose('Hiding dimmer with css');\r\n              $dimmer\r\n                .transition({\r\n                  displayType : settings.useFlex\r\n                    ? 'flex'\r\n                    : 'block',\r\n                  animation   : settings.transition + ' out',\r\n                  queue       : false,\r\n                  duration    : module.get.duration(),\r\n                  useFailSafe : true,\r\n                  onComplete  : function() {\r\n                    module.remove.dimmed();\r\n                    module.remove.variation();\r\n                    module.remove.active();\r\n                    callback();\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.verbose('Hiding dimmer with javascript');\r\n              $dimmer\r\n                .stop()\r\n                .fadeOut(module.get.duration(), function() {\r\n                  module.remove.dimmed();\r\n                  module.remove.active();\r\n                  $dimmer.removeAttr('style');\r\n                  callback();\r\n                })\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        get: {\r\n          dimmer: function() {\r\n            return $dimmer;\r\n          },\r\n          duration: function() {\r\n            if(typeof settings.duration == 'object') {\r\n              if( module.is.active() ) {\r\n                return settings.duration.hide;\r\n              }\r\n              else {\r\n                return settings.duration.show;\r\n              }\r\n            }\r\n            return settings.duration;\r\n          }\r\n        },\r\n\r\n        has: {\r\n          dimmer: function() {\r\n            if(settings.dimmerName) {\r\n              return ($module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0);\r\n            }\r\n            else {\r\n              return ( $module.find(selector.dimmer).length > 0 );\r\n            }\r\n          }\r\n        },\r\n\r\n        is: {\r\n          active: function() {\r\n            return $dimmer.hasClass(className.active);\r\n          },\r\n          animating: function() {\r\n            return ( $dimmer.is(':animated') || $dimmer.hasClass(className.animating) );\r\n          },\r\n          closable: function() {\r\n            if(settings.closable == 'auto') {\r\n              if(settings.on == 'hover') {\r\n                return false;\r\n              }\r\n              return true;\r\n            }\r\n            return settings.closable;\r\n          },\r\n          dimmer: function() {\r\n            return $module.hasClass(className.dimmer);\r\n          },\r\n          dimmable: function() {\r\n            return $module.hasClass(className.dimmable);\r\n          },\r\n          dimmed: function() {\r\n            return $dimmable.hasClass(className.dimmed);\r\n          },\r\n          disabled: function() {\r\n            return $dimmable.hasClass(className.disabled);\r\n          },\r\n          enabled: function() {\r\n            return !module.is.disabled();\r\n          },\r\n          page: function () {\r\n            return $dimmable.is('body');\r\n          },\r\n          pageDimmer: function() {\r\n            return $dimmer.hasClass(className.pageDimmer);\r\n          }\r\n        },\r\n\r\n        can: {\r\n          show: function() {\r\n            return !$dimmer.hasClass(className.disabled);\r\n          }\r\n        },\r\n\r\n        set: {\r\n          opacity: function(opacity) {\r\n            var\r\n              color      = $dimmer.css('background-color'),\r\n              colorArray = color.split(','),\r\n              isRGB      = (colorArray && colorArray.length == 3),\r\n              isRGBA     = (colorArray && colorArray.length == 4)\r\n            ;\r\n            opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;\r\n            if(isRGB || isRGBA) {\r\n              colorArray[3] = opacity + ')';\r\n              color         = colorArray.join(',');\r\n            }\r\n            else {\r\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\r\n            }\r\n            module.debug('Setting opacity to', opacity);\r\n            $dimmer.css('background-color', color);\r\n          },\r\n          legacy: function() {\r\n            $dimmer.addClass(className.legacy);\r\n          },\r\n          active: function() {\r\n            $dimmer.addClass(className.active);\r\n          },\r\n          dimmable: function() {\r\n            $dimmable.addClass(className.dimmable);\r\n          },\r\n          dimmed: function() {\r\n            $dimmable.addClass(className.dimmed);\r\n          },\r\n          pageDimmer: function() {\r\n            $dimmer.addClass(className.pageDimmer);\r\n          },\r\n          disabled: function() {\r\n            $dimmer.addClass(className.disabled);\r\n          },\r\n          variation: function(variation) {\r\n            variation = variation || settings.variation;\r\n            if(variation) {\r\n              $dimmer.addClass(variation);\r\n            }\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          active: function() {\r\n            $dimmer\r\n              .removeClass(className.active)\r\n            ;\r\n          },\r\n          legacy: function() {\r\n            $dimmer.removeClass(className.legacy);\r\n          },\r\n          dimmed: function() {\r\n            $dimmable.removeClass(className.dimmed);\r\n          },\r\n          disabled: function() {\r\n            $dimmer.removeClass(className.disabled);\r\n          },\r\n          variation: function(variation) {\r\n            variation = variation || settings.variation;\r\n            if(variation) {\r\n              $dimmer.removeClass(variation);\r\n            }\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      module.preinitialize();\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.dimmer.settings = {\r\n\r\n  name        : 'Dimmer',\r\n  namespace   : 'dimmer',\r\n\r\n  silent      : false,\r\n  debug       : false,\r\n  verbose     : false,\r\n  performance : true,\r\n\r\n  // whether should use flex layout\r\n  useFlex     : true,\r\n\r\n  // name to distinguish between multiple dimmers in context\r\n  dimmerName  : false,\r\n\r\n  // whether to add a variation type\r\n  variation   : false,\r\n\r\n  // whether to bind close events\r\n  closable    : 'auto',\r\n\r\n  // whether to use css animations\r\n  useCSS      : true,\r\n\r\n  // css animation to use\r\n  transition  : 'fade',\r\n\r\n  // event to bind to\r\n  on          : false,\r\n\r\n  // overriding opacity value\r\n  opacity     : 'auto',\r\n\r\n  // transition durations\r\n  duration    : {\r\n    show : 500,\r\n    hide : 500\r\n  },\r\n// whether the dynamically created dimmer should have a loader\r\n  displayLoader: false,\r\n  loaderText  : false,\r\n  loaderVariation : '',\r\n\r\n  onChange    : function(){},\r\n  onShow      : function(){},\r\n  onHide      : function(){},\r\n\r\n  error   : {\r\n    method   : 'The method you called is not defined.'\r\n  },\r\n\r\n  className : {\r\n    active     : 'active',\r\n    animating  : 'animating',\r\n    dimmable   : 'dimmable',\r\n    dimmed     : 'dimmed',\r\n    dimmer     : 'dimmer',\r\n    disabled   : 'disabled',\r\n    hide       : 'hide',\r\n    legacy     : 'legacy',\r\n    pageDimmer : 'page',\r\n    show       : 'show',\r\n    loader     : 'ui loader'\r\n  },\r\n\r\n  selector: {\r\n    dimmer   : '> .ui.dimmer',\r\n    content  : '.ui.dimmer > .content, .ui.dimmer > .content > .center'\r\n  },\r\n\r\n  template: {\r\n    dimmer: function(settings) {\r\n        var d = $('<div/>').addClass('ui dimmer'),l;\r\n        if(settings.displayLoader) {\r\n          l = $('<div/>')\r\n              .addClass(settings.className.loader)\r\n              .addClass(settings.loaderVariation);\r\n          if(!!settings.loaderText){\r\n            l.text(settings.loaderText);\r\n            l.addClass('text');\r\n          }\r\n          d.append(l);\r\n        }\r\n        return d;\r\n    }\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Dropdown\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.dropdown = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    $document      = $(document),\r\n\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    hasTouch       = ('ontouchstart' in document.documentElement),\r\n    clickEvent      = hasTouch\r\n        ? 'touchstart'\r\n        : 'click',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function(elementIndex) {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.dropdown.settings, parameters)\r\n          : $.extend({}, $.fn.dropdown.settings),\r\n\r\n        className       = settings.className,\r\n        message         = settings.message,\r\n        fields          = settings.fields,\r\n        keys            = settings.keys,\r\n        metadata        = settings.metadata,\r\n        namespace       = settings.namespace,\r\n        regExp          = settings.regExp,\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n        templates       = settings.templates,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $context        = $(settings.context),\r\n        $text           = $module.find(selector.text),\r\n        $search         = $module.find(selector.search),\r\n        $sizer          = $module.find(selector.sizer),\r\n        $input          = $module.find(selector.input),\r\n        $icon           = $module.find(selector.icon),\r\n        $clear          = $module.find(selector.clearIcon),\r\n\r\n        $combo = ($module.prev().find(selector.text).length > 0)\r\n          ? $module.prev().find(selector.text)\r\n          : $module.prev(),\r\n\r\n        $menu           = $module.children(selector.menu),\r\n        $item           = $menu.find(selector.item),\r\n        $divider        = settings.hideDividers ? $item.parent().children(selector.divider) : $(),\r\n\r\n        activated       = false,\r\n        itemActivated   = false,\r\n        internalChange  = false,\r\n        iconClicked     = false,\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        selectActionActive,\r\n        initialLoad,\r\n        pageLostFocus,\r\n        willRefocus,\r\n        elementNamespace,\r\n        id,\r\n        selectObserver,\r\n        menuObserver,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing dropdown', settings);\r\n\r\n          if( module.is.alreadySetup() ) {\r\n            module.setup.reference();\r\n          }\r\n          else {\r\n            if (settings.ignoreDiacritics && !String.prototype.normalize) {\r\n              settings.ignoreDiacritics = false;\r\n              module.error(error.noNormalize, element);\r\n            }\r\n\r\n            module.setup.layout();\r\n\r\n            if(settings.values) {\r\n              module.set.initialLoad();\r\n              module.change.values(settings.values);\r\n              module.remove.initialLoad();\r\n            }\r\n\r\n            module.refreshData();\r\n\r\n            module.save.defaults();\r\n            module.restore.selected();\r\n\r\n            module.create.id();\r\n            module.bind.events();\r\n\r\n            module.observeChanges();\r\n            module.instantiate();\r\n          }\r\n\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of dropdown', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous dropdown', $module);\r\n          module.remove.tabbable();\r\n          module.remove.active();\r\n          $menu.transition('stop all');\r\n          $menu.removeClass(className.visible).addClass(className.hidden);\r\n          $module\r\n            .off(eventNamespace)\r\n            .removeData(moduleNamespace)\r\n          ;\r\n          $menu\r\n            .off(eventNamespace)\r\n          ;\r\n          $document\r\n            .off(elementNamespace)\r\n          ;\r\n          module.disconnect.menuObserver();\r\n          module.disconnect.selectObserver();\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            selectObserver = new MutationObserver(module.event.select.mutation);\r\n            menuObserver   = new MutationObserver(module.event.menu.mutation);\r\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\r\n            module.observe.select();\r\n            module.observe.menu();\r\n          }\r\n        },\r\n\r\n        disconnect: {\r\n          menuObserver: function() {\r\n            if(menuObserver) {\r\n              menuObserver.disconnect();\r\n            }\r\n          },\r\n          selectObserver: function() {\r\n            if(selectObserver) {\r\n              selectObserver.disconnect();\r\n            }\r\n          }\r\n        },\r\n        observe: {\r\n          select: function() {\r\n            if(module.has.input() && selectObserver) {\r\n              selectObserver.observe($module[0], {\r\n                childList : true,\r\n                subtree   : true\r\n              });\r\n            }\r\n          },\r\n          menu: function() {\r\n            if(module.has.menu() && menuObserver) {\r\n              menuObserver.observe($menu[0], {\r\n                childList : true,\r\n                subtree   : true\r\n              });\r\n            }\r\n          }\r\n        },\r\n\r\n        create: {\r\n          id: function() {\r\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\r\n            elementNamespace = '.' + id;\r\n            module.verbose('Creating unique id for element', id);\r\n          },\r\n          userChoice: function(values) {\r\n            var\r\n              $userChoices,\r\n              $userChoice,\r\n              isUserValue,\r\n              html\r\n            ;\r\n            values = values || module.get.userValues();\r\n            if(!values) {\r\n              return false;\r\n            }\r\n            values = Array.isArray(values)\r\n              ? values\r\n              : [values]\r\n            ;\r\n            $.each(values, function(index, value) {\r\n              if(module.get.item(value) === false) {\r\n                html         = settings.templates.addition( module.add.variables(message.addResult, value) );\r\n                $userChoice  = $('<div />')\r\n                  .html(html)\r\n                  .attr('data-' + metadata.value, value)\r\n                  .attr('data-' + metadata.text, value)\r\n                  .addClass(className.addition)\r\n                  .addClass(className.item)\r\n                ;\r\n                if(settings.hideAdditions) {\r\n                  $userChoice.addClass(className.hidden);\r\n                }\r\n                $userChoices = ($userChoices === undefined)\r\n                  ? $userChoice\r\n                  : $userChoices.add($userChoice)\r\n                ;\r\n                module.verbose('Creating user choices for value', value, $userChoice);\r\n              }\r\n            });\r\n            return $userChoices;\r\n          },\r\n          userLabels: function(value) {\r\n            var\r\n              userValues = module.get.userValues()\r\n            ;\r\n            if(userValues) {\r\n              module.debug('Adding user labels', userValues);\r\n              $.each(userValues, function(index, value) {\r\n                module.verbose('Adding custom user value');\r\n                module.add.label(value, value);\r\n              });\r\n            }\r\n          },\r\n          menu: function() {\r\n            $menu = $('<div />')\r\n              .addClass(className.menu)\r\n              .appendTo($module)\r\n            ;\r\n          },\r\n          sizer: function() {\r\n            $sizer = $('<span />')\r\n              .addClass(className.sizer)\r\n              .insertAfter($search)\r\n            ;\r\n          }\r\n        },\r\n\r\n        search: function(query) {\r\n          query = (query !== undefined)\r\n            ? query\r\n            : module.get.query()\r\n          ;\r\n          module.verbose('Searching for query', query);\r\n          if(module.has.minCharacters(query)) {\r\n            module.filter(query);\r\n          }\r\n          else {\r\n            module.hide(null,true);\r\n          }\r\n        },\r\n\r\n        select: {\r\n          firstUnfiltered: function() {\r\n            module.verbose('Selecting first non-filtered element');\r\n            module.remove.selectedItem();\r\n            $item\r\n              .not(selector.unselectable)\r\n              .not(selector.addition + selector.hidden)\r\n                .eq(0)\r\n                .addClass(className.selected)\r\n            ;\r\n          },\r\n          nextAvailable: function($selected) {\r\n            $selected = $selected.eq(0);\r\n            var\r\n              $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\r\n              $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\r\n              hasNext        = ($nextAvailable.length > 0)\r\n            ;\r\n            if(hasNext) {\r\n              module.verbose('Moving selection to', $nextAvailable);\r\n              $nextAvailable.addClass(className.selected);\r\n            }\r\n            else {\r\n              module.verbose('Moving selection to', $prevAvailable);\r\n              $prevAvailable.addClass(className.selected);\r\n            }\r\n          }\r\n        },\r\n\r\n        setup: {\r\n          api: function() {\r\n            var\r\n              apiSettings = {\r\n                debug   : settings.debug,\r\n                urlData : {\r\n                  value : module.get.value(),\r\n                  query : module.get.query()\r\n                },\r\n                on    : false\r\n              }\r\n            ;\r\n            module.verbose('First request, initializing API');\r\n            $module\r\n              .api(apiSettings)\r\n            ;\r\n          },\r\n          layout: function() {\r\n            if( $module.is('select') ) {\r\n              module.setup.select();\r\n              module.setup.returnedObject();\r\n            }\r\n            if( !module.has.menu() ) {\r\n              module.create.menu();\r\n            }\r\n            if ( module.is.selection() && module.is.clearable() && !module.has.clearItem() ) {\r\n              module.verbose('Adding clear icon');\r\n              $clear = $('<i />')\r\n                .addClass('remove icon')\r\n                .insertBefore($text)\r\n              ;\r\n            }\r\n            if( module.is.search() && !module.has.search() ) {\r\n              module.verbose('Adding search input');\r\n              $search = $('<input />')\r\n                .addClass(className.search)\r\n                .prop('autocomplete', 'off')\r\n                .insertBefore($text)\r\n              ;\r\n            }\r\n            if( module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\r\n              module.create.sizer();\r\n            }\r\n            if(settings.allowTab) {\r\n              module.set.tabbable();\r\n            }\r\n          },\r\n          select: function() {\r\n            var\r\n              selectValues  = module.get.selectValues()\r\n            ;\r\n            module.debug('Dropdown initialized on a select', selectValues);\r\n            if( $module.is('select') ) {\r\n              $input = $module;\r\n            }\r\n            // see if select is placed correctly already\r\n            if($input.parent(selector.dropdown).length > 0) {\r\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\r\n              $module = $input.closest(selector.dropdown);\r\n              if( !module.has.menu() ) {\r\n                module.create.menu();\r\n              }\r\n              $menu = $module.children(selector.menu);\r\n              module.setup.menu(selectValues);\r\n            }\r\n            else {\r\n              module.debug('Creating entire dropdown from select');\r\n              $module = $('<div />')\r\n                .attr('class', $input.attr('class') )\r\n                .addClass(className.selection)\r\n                .addClass(className.dropdown)\r\n                .html( templates.dropdown(selectValues, fields, settings.preserveHTML, settings.className) )\r\n                .insertBefore($input)\r\n              ;\r\n              if($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\r\n                module.error(error.missingMultiple);\r\n                $input.prop('multiple', true);\r\n              }\r\n              if($input.is('[multiple]')) {\r\n                module.set.multiple();\r\n              }\r\n              if ($input.prop('disabled')) {\r\n                module.debug('Disabling dropdown');\r\n                $module.addClass(className.disabled);\r\n              }\r\n              $input\r\n                .removeAttr('required')\r\n                .removeAttr('class')\r\n                .detach()\r\n                .prependTo($module)\r\n              ;\r\n            }\r\n            module.refresh();\r\n          },\r\n          menu: function(values) {\r\n            $menu.html( templates.menu(values, fields,settings.preserveHTML,settings.className));\r\n            $item    = $menu.find(selector.item);\r\n            $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\r\n          },\r\n          reference: function() {\r\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown');\r\n            // replace module reference\r\n            $module  = $module.parent(selector.dropdown);\r\n            instance = $module.data(moduleNamespace);\r\n            element  = $module.get(0);\r\n            module.refresh();\r\n            module.setup.returnedObject();\r\n          },\r\n          returnedObject: function() {\r\n            var\r\n              $firstModules = $allModules.slice(0, elementIndex),\r\n              $lastModules  = $allModules.slice(elementIndex + 1)\r\n            ;\r\n            // adjust all modules to use correct reference\r\n            $allModules = $firstModules.add($module).add($lastModules);\r\n          }\r\n        },\r\n\r\n        refresh: function() {\r\n          module.refreshSelectors();\r\n          module.refreshData();\r\n        },\r\n\r\n        refreshItems: function() {\r\n          $item    = $menu.find(selector.item);\r\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\r\n        },\r\n\r\n        refreshSelectors: function() {\r\n          module.verbose('Refreshing selector cache');\r\n          $text   = $module.find(selector.text);\r\n          $search = $module.find(selector.search);\r\n          $input  = $module.find(selector.input);\r\n          $icon   = $module.find(selector.icon);\r\n          $combo  = ($module.prev().find(selector.text).length > 0)\r\n            ? $module.prev().find(selector.text)\r\n            : $module.prev()\r\n          ;\r\n          $menu    = $module.children(selector.menu);\r\n          $item    = $menu.find(selector.item);\r\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\r\n        },\r\n\r\n        refreshData: function() {\r\n          module.verbose('Refreshing cached metadata');\r\n          $item\r\n            .removeData(metadata.text)\r\n            .removeData(metadata.value)\r\n          ;\r\n        },\r\n\r\n        clearData: function() {\r\n          module.verbose('Clearing metadata');\r\n          $item\r\n            .removeData(metadata.text)\r\n            .removeData(metadata.value)\r\n          ;\r\n          $module\r\n            .removeData(metadata.defaultText)\r\n            .removeData(metadata.defaultValue)\r\n            .removeData(metadata.placeholderText)\r\n          ;\r\n        },\r\n\r\n        toggle: function() {\r\n          module.verbose('Toggling menu visibility');\r\n          if( !module.is.active() ) {\r\n            module.show();\r\n          }\r\n          else {\r\n            module.hide();\r\n          }\r\n        },\r\n\r\n        show: function(callback, preventFocus) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if(!module.can.show() && module.is.remote()) {\r\n            module.debug('No API results retrieved, searching before show');\r\n            module.queryRemote(module.get.query(), module.show);\r\n          }\r\n          if( module.can.show() && !module.is.active() ) {\r\n            module.debug('Showing dropdown');\r\n            if(module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {\r\n              module.remove.message();\r\n            }\r\n            if(module.is.allFiltered()) {\r\n              return true;\r\n            }\r\n            if(settings.onShow.call(element) !== false) {\r\n              module.animate.show(function() {\r\n                if( module.can.click() ) {\r\n                  module.bind.intent();\r\n                }\r\n                if(module.has.search() && !preventFocus) {\r\n                  module.focusSearch();\r\n                }\r\n                module.set.visible();\r\n                callback.call(element);\r\n              });\r\n            }\r\n          }\r\n        },\r\n\r\n        hide: function(callback, preventBlur) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if( module.is.active() && !module.is.animatingOutward() ) {\r\n            module.debug('Hiding dropdown');\r\n            if(settings.onHide.call(element) !== false) {\r\n              module.animate.hide(function() {\r\n                module.remove.visible();\r\n                // hidding search focus\r\n                if ( module.is.focusedOnSearch() && preventBlur !== true ) {\r\n                  $search.blur();\r\n                }\r\n                callback.call(element);\r\n              });\r\n            }\r\n          } else if( module.can.click() ) {\r\n              module.unbind.intent();\r\n          }\r\n          iconClicked = false;\r\n        },\r\n\r\n        hideOthers: function() {\r\n          module.verbose('Finding other dropdowns to hide');\r\n          $allModules\r\n            .not($module)\r\n              .has(selector.menu + '.' + className.visible)\r\n                .dropdown('hide')\r\n          ;\r\n        },\r\n\r\n        hideMenu: function() {\r\n          module.verbose('Hiding menu  instantaneously');\r\n          module.remove.active();\r\n          module.remove.visible();\r\n          $menu.transition('hide');\r\n        },\r\n\r\n        hideSubMenus: function() {\r\n          var\r\n            $subMenus = $menu.children(selector.item).find(selector.menu)\r\n          ;\r\n          module.verbose('Hiding sub menus', $subMenus);\r\n          $subMenus.transition('hide');\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.bind.keyboardEvents();\r\n            module.bind.inputEvents();\r\n            module.bind.mouseEvents();\r\n          },\r\n          keyboardEvents: function() {\r\n            module.verbose('Binding keyboard events');\r\n            $module\r\n              .on('keydown' + eventNamespace, module.event.keydown)\r\n            ;\r\n            if( module.has.search() ) {\r\n              $module\r\n                .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)\r\n              ;\r\n            }\r\n            if( module.is.multiple() ) {\r\n              $document\r\n                .on('keydown' + elementNamespace, module.event.document.keydown)\r\n              ;\r\n            }\r\n          },\r\n          inputEvents: function() {\r\n            module.verbose('Binding input change events');\r\n            $module\r\n              .on('change' + eventNamespace, selector.input, module.event.change)\r\n            ;\r\n          },\r\n          mouseEvents: function() {\r\n            module.verbose('Binding mouse events');\r\n            if(module.is.multiple()) {\r\n              $module\r\n                .on(clickEvent   + eventNamespace, selector.label,  module.event.label.click)\r\n                .on(clickEvent   + eventNamespace, selector.remove, module.event.remove.click)\r\n              ;\r\n            }\r\n            if( module.is.searchSelection() ) {\r\n              $module\r\n                .on('mousedown' + eventNamespace, module.event.mousedown)\r\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\r\n                .on('mousedown' + eventNamespace, selector.menu,   module.event.menu.mousedown)\r\n                .on('mouseup'   + eventNamespace, selector.menu,   module.event.menu.mouseup)\r\n                .on(clickEvent  + eventNamespace, selector.icon,   module.event.icon.click)\r\n                .on(clickEvent  + eventNamespace, selector.clearIcon, module.event.clearIcon.click)\r\n                .on('focus'     + eventNamespace, selector.search, module.event.search.focus)\r\n                .on(clickEvent  + eventNamespace, selector.search, module.event.search.focus)\r\n                .on('blur'      + eventNamespace, selector.search, module.event.search.blur)\r\n                .on(clickEvent  + eventNamespace, selector.text,   module.event.text.focus)\r\n              ;\r\n              if(module.is.multiple()) {\r\n                $module\r\n                  .on(clickEvent + eventNamespace, module.event.click)\r\n                ;\r\n              }\r\n            }\r\n            else {\r\n              if(settings.on == 'click') {\r\n                $module\r\n                  .on(clickEvent + eventNamespace, selector.icon, module.event.icon.click)\r\n                  .on(clickEvent + eventNamespace, module.event.test.toggle)\r\n                ;\r\n              }\r\n              else if(settings.on == 'hover') {\r\n                $module\r\n                  .on('mouseenter' + eventNamespace, module.delay.show)\r\n                  .on('mouseleave' + eventNamespace, module.delay.hide)\r\n                ;\r\n              }\r\n              else {\r\n                $module\r\n                  .on(settings.on + eventNamespace, module.toggle)\r\n                ;\r\n              }\r\n              $module\r\n                .on('mousedown' + eventNamespace, module.event.mousedown)\r\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\r\n                .on('focus'     + eventNamespace, module.event.focus)\r\n                .on(clickEvent  + eventNamespace, selector.clearIcon, module.event.clearIcon.click)\r\n              ;\r\n              if(module.has.menuSearch() ) {\r\n                $module\r\n                  .on('blur' + eventNamespace, selector.search, module.event.search.blur)\r\n                ;\r\n              }\r\n              else {\r\n                $module\r\n                  .on('blur' + eventNamespace, module.event.blur)\r\n                ;\r\n              }\r\n            }\r\n            $menu\r\n              .on((hasTouch ? 'touchstart' : 'mouseenter') + eventNamespace, selector.item, module.event.item.mouseenter)\r\n              .on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave)\r\n              .on('click'      + eventNamespace, selector.item, module.event.item.click)\r\n            ;\r\n          },\r\n          intent: function() {\r\n            module.verbose('Binding hide intent event to document');\r\n            if(hasTouch) {\r\n              $document\r\n                .on('touchstart' + elementNamespace, module.event.test.touch)\r\n                .on('touchmove'  + elementNamespace, module.event.test.touch)\r\n              ;\r\n            }\r\n            $document\r\n              .on(clickEvent + elementNamespace, module.event.test.hide)\r\n            ;\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          intent: function() {\r\n            module.verbose('Removing hide intent event from document');\r\n            if(hasTouch) {\r\n              $document\r\n                .off('touchstart' + elementNamespace)\r\n                .off('touchmove' + elementNamespace)\r\n              ;\r\n            }\r\n            $document\r\n              .off(clickEvent + elementNamespace)\r\n            ;\r\n          }\r\n        },\r\n\r\n        filter: function(query) {\r\n          var\r\n            searchTerm = (query !== undefined)\r\n              ? query\r\n              : module.get.query(),\r\n            afterFiltered = function() {\r\n              if(module.is.multiple()) {\r\n                module.filterActive();\r\n              }\r\n              if(query || (!query && module.get.activeItem().length == 0)) {\r\n                module.select.firstUnfiltered();\r\n              }\r\n              if( module.has.allResultsFiltered() ) {\r\n                if( settings.onNoResults.call(element, searchTerm) ) {\r\n                  if(settings.allowAdditions) {\r\n                    if(settings.hideAdditions) {\r\n                      module.verbose('User addition with no menu, setting empty style');\r\n                      module.set.empty();\r\n                      module.hideMenu();\r\n                    }\r\n                  }\r\n                  else {\r\n                    module.verbose('All items filtered, showing message', searchTerm);\r\n                    module.add.message(message.noResults);\r\n                  }\r\n                }\r\n                else {\r\n                  module.verbose('All items filtered, hiding dropdown', searchTerm);\r\n                  module.hideMenu();\r\n                }\r\n              }\r\n              else {\r\n                module.remove.empty();\r\n                module.remove.message();\r\n              }\r\n              if(settings.allowAdditions) {\r\n                module.add.userSuggestion(module.escape.htmlEntities(query));\r\n              }\r\n              if(module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch() ) {\r\n                module.show();\r\n              }\r\n            }\r\n          ;\r\n          if(settings.useLabels && module.has.maxSelections()) {\r\n            return;\r\n          }\r\n          if(settings.apiSettings) {\r\n            if( module.can.useAPI() ) {\r\n              module.queryRemote(searchTerm, function() {\r\n                if(settings.filterRemoteData) {\r\n                  module.filterItems(searchTerm);\r\n                }\r\n                var preSelected = $input.val();\r\n                if(!Array.isArray(preSelected)) {\r\n                    preSelected = preSelected && preSelected!==\"\" ? preSelected.split(settings.delimiter) : [];\r\n                }\r\n                $.each(preSelected,function(index,value){\r\n                  $item.filter('[data-value=\"'+value+'\"]')\r\n                      .addClass(className.filtered)\r\n                  ;\r\n                });\r\n                afterFiltered();\r\n              });\r\n            }\r\n            else {\r\n              module.error(error.noAPI);\r\n            }\r\n          }\r\n          else {\r\n            module.filterItems(searchTerm);\r\n            afterFiltered();\r\n          }\r\n        },\r\n\r\n        queryRemote: function(query, callback) {\r\n          var\r\n            apiSettings = {\r\n              errorDuration : false,\r\n              cache         : 'local',\r\n              throttle      : settings.throttle,\r\n              urlData       : {\r\n                query: query\r\n              },\r\n              onError: function() {\r\n                module.add.message(message.serverError);\r\n                callback();\r\n              },\r\n              onFailure: function() {\r\n                module.add.message(message.serverError);\r\n                callback();\r\n              },\r\n              onSuccess : function(response) {\r\n                var\r\n                  values          = response[fields.remoteValues]\r\n                ;\r\n                if (!Array.isArray(values)){\r\n                    values = [];\r\n                }\r\n                module.remove.message();\r\n                module.setup.menu({\r\n                  values: values\r\n                });\r\n\r\n                if(values.length===0 && !settings.allowAdditions) {\r\n                  module.add.message(message.noResults);\r\n                }\r\n                callback();\r\n              }\r\n            }\r\n          ;\r\n          if( !$module.api('get request') ) {\r\n            module.setup.api();\r\n          }\r\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\r\n          $module\r\n            .api('setting', apiSettings)\r\n            .api('query')\r\n          ;\r\n        },\r\n\r\n        filterItems: function(query) {\r\n          var\r\n            searchTerm = module.remove.diacritics(query !== undefined\r\n              ? query\r\n              : module.get.query()\r\n            ),\r\n            results          =  null,\r\n            escapedTerm      = module.escape.string(searchTerm),\r\n            regExpFlags      = (settings.ignoreSearchCase ? 'i' : '') + 'gm',\r\n            beginsWithRegExp = new RegExp('^' + escapedTerm, regExpFlags)\r\n          ;\r\n          // avoid loop if we're matching nothing\r\n          if( module.has.query() ) {\r\n            results = [];\r\n\r\n            module.verbose('Searching for matching values', searchTerm);\r\n            $item\r\n              .each(function(){\r\n                var\r\n                  $choice = $(this),\r\n                  text,\r\n                  value\r\n                ;\r\n                if($choice.hasClass(className.unfilterable)) {\r\n                  results.push(this);\r\n                  return true;\r\n                }\r\n                if(settings.match === 'both' || settings.match === 'text') {\r\n                  text = module.remove.diacritics(String(module.get.choiceText($choice, false)));\r\n                  if(text.search(beginsWithRegExp) !== -1) {\r\n                    results.push(this);\r\n                    return true;\r\n                  }\r\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\r\n                    results.push(this);\r\n                    return true;\r\n                  }\r\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\r\n                    results.push(this);\r\n                    return true;\r\n                  }\r\n                }\r\n                if(settings.match === 'both' || settings.match === 'value') {\r\n                  value = module.remove.diacritics(String(module.get.choiceValue($choice, text)));\r\n                  if(value.search(beginsWithRegExp) !== -1) {\r\n                    results.push(this);\r\n                    return true;\r\n                  }\r\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\r\n                    results.push(this);\r\n                    return true;\r\n                  }\r\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\r\n                    results.push(this);\r\n                    return true;\r\n                  }\r\n                }\r\n              })\r\n            ;\r\n          }\r\n          module.debug('Showing only matched items', searchTerm);\r\n          module.remove.filteredItem();\r\n          if(results) {\r\n            $item\r\n              .not(results)\r\n              .addClass(className.filtered)\r\n            ;\r\n          }\r\n\r\n          if(!module.has.query()) {\r\n            $divider\r\n              .removeClass(className.hidden);\r\n          } else if(settings.hideDividers === true) {\r\n            $divider\r\n              .addClass(className.hidden);\r\n          } else if(settings.hideDividers === 'empty') {\r\n            $divider\r\n              .removeClass(className.hidden)\r\n              .filter(function() {\r\n                // First find the last divider in this divider group\r\n                // Dividers which are direct siblings are considered a group\r\n                var lastDivider = $(this).nextUntil(selector.item);\r\n\r\n                return (lastDivider.length ? lastDivider : $(this))\r\n                // Count all non-filtered items until the next divider (or end of the dropdown)\r\n                  .nextUntil(selector.divider)\r\n                  .filter(selector.item + \":not(.\" + className.filtered + \")\")\r\n                  // Hide divider if no items are found\r\n                  .length === 0;\r\n              })\r\n              .addClass(className.hidden);\r\n          }\r\n        },\r\n\r\n        fuzzySearch: function(query, term) {\r\n          var\r\n            termLength  = term.length,\r\n            queryLength = query.length\r\n          ;\r\n          query = (settings.ignoreSearchCase ? query.toLowerCase() : query);\r\n          term  = (settings.ignoreSearchCase ? term.toLowerCase() : term);\r\n          if(queryLength > termLength) {\r\n            return false;\r\n          }\r\n          if(queryLength === termLength) {\r\n            return (query === term);\r\n          }\r\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\r\n            var\r\n              queryCharacter = query.charCodeAt(characterIndex)\r\n            ;\r\n            while(nextCharacterIndex < termLength) {\r\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\r\n                continue search;\r\n              }\r\n            }\r\n            return false;\r\n          }\r\n          return true;\r\n        },\r\n        exactSearch: function (query, term) {\r\n          query = (settings.ignoreSearchCase ? query.toLowerCase() : query);\r\n          term  = (settings.ignoreSearchCase ? term.toLowerCase() : term);\r\n          return term.indexOf(query) > -1;\r\n\r\n        },\r\n        filterActive: function() {\r\n          if(settings.useLabels) {\r\n            $item.filter('.' + className.active)\r\n              .addClass(className.filtered)\r\n            ;\r\n          }\r\n        },\r\n\r\n        focusSearch: function(skipHandler) {\r\n          if( module.has.search() && !module.is.focusedOnSearch() ) {\r\n            if(skipHandler) {\r\n              $module.off('focus' + eventNamespace, selector.search);\r\n              $search.focus();\r\n              $module.on('focus'  + eventNamespace, selector.search, module.event.search.focus);\r\n            }\r\n            else {\r\n              $search.focus();\r\n            }\r\n          }\r\n        },\r\n\r\n        blurSearch: function() {\r\n          if( module.has.search() ) {\r\n            $search.blur();\r\n          }\r\n        },\r\n\r\n        forceSelection: function() {\r\n          var\r\n            $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\r\n            $activeItem        = $item.not(className.filtered).filter('.' + className.active).eq(0),\r\n            $selectedItem      = ($currentlySelected.length > 0)\r\n              ? $currentlySelected\r\n              : $activeItem,\r\n            hasSelected = ($selectedItem.length > 0)\r\n          ;\r\n          if(settings.allowAdditions || (hasSelected && !module.is.multiple())) {\r\n            module.debug('Forcing partial selection to selected item', $selectedItem);\r\n            module.event.item.click.call($selectedItem, {}, true);\r\n          }\r\n          else {\r\n            module.remove.searchTerm();\r\n          }\r\n        },\r\n\r\n        change: {\r\n          values: function(values) {\r\n            if(!settings.allowAdditions) {\r\n              module.clear();\r\n            }\r\n            module.debug('Creating dropdown with specified values', values);\r\n            module.setup.menu({values: values});\r\n            $.each(values, function(index, item) {\r\n              if(item.selected == true) {\r\n                module.debug('Setting initial selection to', item[fields.value]);\r\n                module.set.selected(item[fields.value]);\r\n                if(!module.is.multiple()) {\r\n                  return false;\r\n                }\r\n              }\r\n            });\r\n\r\n            if(module.has.selectInput()) {\r\n              module.disconnect.selectObserver();\r\n              $input.html('');\r\n              $input.append('<option disabled selected value></option>');\r\n              $.each(values, function(index, item) {\r\n                var\r\n                  value = settings.templates.deQuote(item[fields.value]),\r\n                  name = settings.templates.escape(\r\n                    item[fields.name] || '',\r\n                    settings.preserveHTML\r\n                  )\r\n                ;\r\n                $input.append('<option value=\"' + value + '\">' + name + '</option>');\r\n              });\r\n              module.observe.select();\r\n            }\r\n          }\r\n        },\r\n\r\n        event: {\r\n          change: function() {\r\n            if(!internalChange) {\r\n              module.debug('Input changed, updating selection');\r\n              module.set.selected();\r\n            }\r\n          },\r\n          focus: function() {\r\n            if(settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\r\n              module.show();\r\n            }\r\n          },\r\n          blur: function(event) {\r\n            pageLostFocus = (document.activeElement === this);\r\n            if(!activated && !pageLostFocus) {\r\n              module.remove.activeLabel();\r\n              module.hide();\r\n            }\r\n          },\r\n          mousedown: function() {\r\n            if(module.is.searchSelection()) {\r\n              // prevent menu hiding on immediate re-focus\r\n              willRefocus = true;\r\n            }\r\n            else {\r\n              // prevents focus callback from occurring on mousedown\r\n              activated = true;\r\n            }\r\n          },\r\n          mouseup: function() {\r\n            if(module.is.searchSelection()) {\r\n              // prevent menu hiding on immediate re-focus\r\n              willRefocus = false;\r\n            }\r\n            else {\r\n              activated = false;\r\n            }\r\n          },\r\n          click: function(event) {\r\n            var\r\n              $target = $(event.target)\r\n            ;\r\n            // focus search\r\n            if($target.is($module)) {\r\n              if(!module.is.focusedOnSearch()) {\r\n                module.focusSearch();\r\n              }\r\n              else {\r\n                module.show();\r\n              }\r\n            }\r\n          },\r\n          search: {\r\n            focus: function(event) {\r\n              activated = true;\r\n              if(module.is.multiple()) {\r\n                module.remove.activeLabel();\r\n              }\r\n              if(settings.showOnFocus || (event.type !== 'focus' && event.type !== 'focusin')) {\r\n                module.search();\r\n              }\r\n            },\r\n            blur: function(event) {\r\n              pageLostFocus = (document.activeElement === this);\r\n              if(module.is.searchSelection() && !willRefocus) {\r\n                if(!itemActivated && !pageLostFocus) {\r\n                  if(settings.forceSelection) {\r\n                    module.forceSelection();\r\n                  } else if(!settings.allowAdditions){\r\n                    module.remove.searchTerm();\r\n                  }\r\n                  module.hide();\r\n                }\r\n              }\r\n              willRefocus = false;\r\n            }\r\n          },\r\n          clearIcon: {\r\n            click: function(event) {\r\n              module.clear();\r\n              if(module.is.searchSelection()) {\r\n                module.remove.searchTerm();\r\n              }\r\n              module.hide();\r\n              event.stopPropagation();\r\n            }\r\n          },\r\n          icon: {\r\n            click: function(event) {\r\n              iconClicked=true;\r\n              if(module.has.search()) {\r\n                if(!module.is.active()) {\r\n                    if(settings.showOnFocus){\r\n                      module.focusSearch();\r\n                    } else {\r\n                      module.toggle();\r\n                    }\r\n                } else {\r\n                  module.blurSearch();\r\n                }\r\n              } else {\r\n                module.toggle();\r\n              }\r\n            }\r\n          },\r\n          text: {\r\n            focus: function(event) {\r\n              activated = true;\r\n              module.focusSearch();\r\n            }\r\n          },\r\n          input: function(event) {\r\n            if(module.is.multiple() || module.is.searchSelection()) {\r\n              module.set.filtered();\r\n            }\r\n            clearTimeout(module.timer);\r\n            module.timer = setTimeout(module.search, settings.delay.search);\r\n          },\r\n          label: {\r\n            click: function(event) {\r\n              var\r\n                $label        = $(this),\r\n                $labels       = $module.find(selector.label),\r\n                $activeLabels = $labels.filter('.' + className.active),\r\n                $nextActive   = $label.nextAll('.' + className.active),\r\n                $prevActive   = $label.prevAll('.' + className.active),\r\n                $range = ($nextActive.length > 0)\r\n                  ? $label.nextUntil($nextActive).add($activeLabels).add($label)\r\n                  : $label.prevUntil($prevActive).add($activeLabels).add($label)\r\n              ;\r\n              if(event.shiftKey) {\r\n                $activeLabels.removeClass(className.active);\r\n                $range.addClass(className.active);\r\n              }\r\n              else if(event.ctrlKey) {\r\n                $label.toggleClass(className.active);\r\n              }\r\n              else {\r\n                $activeLabels.removeClass(className.active);\r\n                $label.addClass(className.active);\r\n              }\r\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\r\n            }\r\n          },\r\n          remove: {\r\n            click: function() {\r\n              var\r\n                $label = $(this).parent()\r\n              ;\r\n              if( $label.hasClass(className.active) ) {\r\n                // remove all selected labels\r\n                module.remove.activeLabels();\r\n              }\r\n              else {\r\n                // remove this label only\r\n                module.remove.activeLabels( $label );\r\n              }\r\n            }\r\n          },\r\n          test: {\r\n            toggle: function(event) {\r\n              var\r\n                toggleBehavior = (module.is.multiple())\r\n                  ? module.show\r\n                  : module.toggle\r\n              ;\r\n              if(module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\r\n                return;\r\n              }\r\n              if( module.determine.eventOnElement(event, toggleBehavior) ) {\r\n                event.preventDefault();\r\n              }\r\n            },\r\n            touch: function(event) {\r\n              module.determine.eventOnElement(event, function() {\r\n                if(event.type == 'touchstart') {\r\n                  module.timer = setTimeout(function() {\r\n                    module.hide();\r\n                  }, settings.delay.touch);\r\n                }\r\n                else if(event.type == 'touchmove') {\r\n                  clearTimeout(module.timer);\r\n                }\r\n              });\r\n              event.stopPropagation();\r\n            },\r\n            hide: function(event) {\r\n              if(module.determine.eventInModule(event, module.hide)){\r\n                if(element.id && $(event.target).attr('for') === element.id){\r\n                  event.preventDefault();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          select: {\r\n            mutation: function(mutations) {\r\n              module.debug('<select> modified, recreating menu');\r\n              if(module.is.selectMutation(mutations)) {\r\n                module.disconnect.selectObserver();\r\n                module.refresh();\r\n                module.setup.select();\r\n                module.set.selected();\r\n                module.observe.select();\r\n              }\r\n            }\r\n          },\r\n          menu: {\r\n            mutation: function(mutations) {\r\n              var\r\n                mutation   = mutations[0],\r\n                $addedNode = mutation.addedNodes\r\n                  ? $(mutation.addedNodes[0])\r\n                  : $(false),\r\n                $removedNode = mutation.removedNodes\r\n                  ? $(mutation.removedNodes[0])\r\n                  : $(false),\r\n                $changedNodes  = $addedNode.add($removedNode),\r\n                isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\r\n                isMessage      = $changedNodes.is(selector.message)  || $changedNodes.closest(selector.message).length > 0\r\n              ;\r\n              if(isUserAddition || isMessage) {\r\n                module.debug('Updating item selector cache');\r\n                module.refreshItems();\r\n              }\r\n              else {\r\n                module.debug('Menu modified, updating selector cache');\r\n                module.refresh();\r\n              }\r\n            },\r\n            mousedown: function() {\r\n              itemActivated = true;\r\n            },\r\n            mouseup: function() {\r\n              itemActivated = false;\r\n            }\r\n          },\r\n          item: {\r\n            mouseenter: function(event) {\r\n              var\r\n                $target        = $(event.target),\r\n                $item          = $(this),\r\n                $subMenu       = $item.children(selector.menu),\r\n                $otherMenus    = $item.siblings(selector.item).children(selector.menu),\r\n                hasSubMenu     = ($subMenu.length > 0),\r\n                isBubbledEvent = ($subMenu.find($target).length > 0)\r\n              ;\r\n              if( !isBubbledEvent && hasSubMenu ) {\r\n                clearTimeout(module.itemTimer);\r\n                module.itemTimer = setTimeout(function() {\r\n                  module.verbose('Showing sub-menu', $subMenu);\r\n                  $.each($otherMenus, function() {\r\n                    module.animate.hide(false, $(this));\r\n                  });\r\n                  module.animate.show(false, $subMenu);\r\n                }, settings.delay.show);\r\n                event.preventDefault();\r\n              }\r\n            },\r\n            mouseleave: function(event) {\r\n              var\r\n                $subMenu = $(this).children(selector.menu)\r\n              ;\r\n              if($subMenu.length > 0) {\r\n                clearTimeout(module.itemTimer);\r\n                module.itemTimer = setTimeout(function() {\r\n                  module.verbose('Hiding sub-menu', $subMenu);\r\n                  module.animate.hide(false, $subMenu);\r\n                }, settings.delay.hide);\r\n              }\r\n            },\r\n            click: function (event, skipRefocus) {\r\n              var\r\n                $choice        = $(this),\r\n                $target        = (event)\r\n                  ? $(event.target)\r\n                  : $(''),\r\n                $subMenu       = $choice.find(selector.menu),\r\n                text           = module.get.choiceText($choice),\r\n                value          = module.get.choiceValue($choice, text),\r\n                hasSubMenu     = ($subMenu.length > 0),\r\n                isBubbledEvent = ($subMenu.find($target).length > 0)\r\n              ;\r\n              // prevents IE11 bug where menu receives focus even though `tabindex=-1`\r\n              if (document.activeElement.tagName.toLowerCase() !== 'input') {\r\n                $(document.activeElement).blur();\r\n              }\r\n              if(!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\r\n                if(module.is.searchSelection()) {\r\n                  if(settings.allowAdditions) {\r\n                    module.remove.userAddition();\r\n                  }\r\n                  module.remove.searchTerm();\r\n                  if(!module.is.focusedOnSearch() && !(skipRefocus == true)) {\r\n                    module.focusSearch(true);\r\n                  }\r\n                }\r\n                if(!settings.useLabels) {\r\n                  module.remove.filteredItem();\r\n                  module.set.scrollPosition($choice);\r\n                }\r\n                module.determine.selectAction.call(this, text, value);\r\n              }\r\n            }\r\n          },\r\n\r\n          document: {\r\n            // label selection should occur even when element has no focus\r\n            keydown: function(event) {\r\n              var\r\n                pressedKey    = event.which,\r\n                isShortcutKey = module.is.inObject(pressedKey, keys)\r\n              ;\r\n              if(isShortcutKey) {\r\n                var\r\n                  $label            = $module.find(selector.label),\r\n                  $activeLabel      = $label.filter('.' + className.active),\r\n                  activeValue       = $activeLabel.data(metadata.value),\r\n                  labelIndex        = $label.index($activeLabel),\r\n                  labelCount        = $label.length,\r\n                  hasActiveLabel    = ($activeLabel.length > 0),\r\n                  hasMultipleActive = ($activeLabel.length > 1),\r\n                  isFirstLabel      = (labelIndex === 0),\r\n                  isLastLabel       = (labelIndex + 1 == labelCount),\r\n                  isSearch          = module.is.searchSelection(),\r\n                  isFocusedOnSearch = module.is.focusedOnSearch(),\r\n                  isFocused         = module.is.focused(),\r\n                  caretAtStart      = (isFocusedOnSearch && module.get.caretPosition(false) === 0),\r\n                  isSelectedSearch  = (caretAtStart && module.get.caretPosition(true) !== 0),\r\n                  $nextLabel\r\n                ;\r\n                if(isSearch && !hasActiveLabel && !isFocusedOnSearch) {\r\n                  return;\r\n                }\r\n\r\n                if(pressedKey == keys.leftArrow) {\r\n                  // activate previous label\r\n                  if((isFocused || caretAtStart) && !hasActiveLabel) {\r\n                    module.verbose('Selecting previous label');\r\n                    $label.last().addClass(className.active);\r\n                  }\r\n                  else if(hasActiveLabel) {\r\n                    if(!event.shiftKey) {\r\n                      module.verbose('Selecting previous label');\r\n                      $label.removeClass(className.active);\r\n                    }\r\n                    else {\r\n                      module.verbose('Adding previous label to selection');\r\n                    }\r\n                    if(isFirstLabel && !hasMultipleActive) {\r\n                      $activeLabel.addClass(className.active);\r\n                    }\r\n                    else {\r\n                      $activeLabel.prev(selector.siblingLabel)\r\n                        .addClass(className.active)\r\n                        .end()\r\n                      ;\r\n                    }\r\n                    event.preventDefault();\r\n                  }\r\n                }\r\n                else if(pressedKey == keys.rightArrow) {\r\n                  // activate first label\r\n                  if(isFocused && !hasActiveLabel) {\r\n                    $label.first().addClass(className.active);\r\n                  }\r\n                  // activate next label\r\n                  if(hasActiveLabel) {\r\n                    if(!event.shiftKey) {\r\n                      module.verbose('Selecting next label');\r\n                      $label.removeClass(className.active);\r\n                    }\r\n                    else {\r\n                      module.verbose('Adding next label to selection');\r\n                    }\r\n                    if(isLastLabel) {\r\n                      if(isSearch) {\r\n                        if(!isFocusedOnSearch) {\r\n                          module.focusSearch();\r\n                        }\r\n                        else {\r\n                          $label.removeClass(className.active);\r\n                        }\r\n                      }\r\n                      else if(hasMultipleActive) {\r\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\r\n                      }\r\n                      else {\r\n                        $activeLabel.addClass(className.active);\r\n                      }\r\n                    }\r\n                    else {\r\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\r\n                    }\r\n                    event.preventDefault();\r\n                  }\r\n                }\r\n                else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\r\n                  if(hasActiveLabel) {\r\n                    module.verbose('Removing active labels');\r\n                    if(isLastLabel) {\r\n                      if(isSearch && !isFocusedOnSearch) {\r\n                        module.focusSearch();\r\n                      }\r\n                    }\r\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\r\n                    module.remove.activeLabels($activeLabel);\r\n                    event.preventDefault();\r\n                  }\r\n                  else if(caretAtStart && !isSelectedSearch && !hasActiveLabel && pressedKey == keys.backspace) {\r\n                    module.verbose('Removing last label on input backspace');\r\n                    $activeLabel = $label.last().addClass(className.active);\r\n                    module.remove.activeLabels($activeLabel);\r\n                  }\r\n                }\r\n                else {\r\n                  $activeLabel.removeClass(className.active);\r\n                }\r\n              }\r\n            }\r\n          },\r\n\r\n          keydown: function(event) {\r\n            var\r\n              pressedKey    = event.which,\r\n              isShortcutKey = module.is.inObject(pressedKey, keys)\r\n            ;\r\n            if(isShortcutKey) {\r\n              var\r\n                $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\r\n                $activeItem        = $menu.children('.' + className.active).eq(0),\r\n                $selectedItem      = ($currentlySelected.length > 0)\r\n                  ? $currentlySelected\r\n                  : $activeItem,\r\n                $visibleItems = ($selectedItem.length > 0)\r\n                  ? $selectedItem.siblings(':not(.' + className.filtered +')').addBack()\r\n                  : $menu.children(':not(.' + className.filtered +')'),\r\n                $subMenu              = $selectedItem.children(selector.menu),\r\n                $parentMenu           = $selectedItem.closest(selector.menu),\r\n                inVisibleMenu         = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0),\r\n                hasSubMenu            = ($subMenu.length> 0),\r\n                hasSelectedItem       = ($selectedItem.length > 0),\r\n                selectedIsSelectable  = ($selectedItem.not(selector.unselectable).length > 0),\r\n                delimiterPressed      = (pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple()),\r\n                isAdditionWithoutMenu = (settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable),\r\n                $nextItem,\r\n                isSubMenuItem,\r\n                newIndex\r\n              ;\r\n              // allow selection with menu closed\r\n              if(isAdditionWithoutMenu) {\r\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\r\n                module.event.item.click.call($selectedItem, event);\r\n                if(module.is.searchSelection()) {\r\n                  module.remove.searchTerm();\r\n                }\r\n                if(module.is.multiple()){\r\n                    event.preventDefault();\r\n                }\r\n              }\r\n\r\n              // visible menu keyboard shortcuts\r\n              if( module.is.visible() ) {\r\n\r\n                // enter (select or open sub-menu)\r\n                if(pressedKey == keys.enter || delimiterPressed) {\r\n                  if(pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\r\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\r\n                    pressedKey = keys.rightArrow;\r\n                  }\r\n                  else if(selectedIsSelectable) {\r\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\r\n                    module.event.item.click.call($selectedItem, event);\r\n                    if(module.is.searchSelection()) {\r\n                      module.remove.searchTerm();\r\n                      if(module.is.multiple()) {\r\n                          $search.focus();\r\n                      }\r\n                    }\r\n                  }\r\n                  event.preventDefault();\r\n                }\r\n\r\n                // sub-menu actions\r\n                if(hasSelectedItem) {\r\n\r\n                  if(pressedKey == keys.leftArrow) {\r\n\r\n                    isSubMenuItem = ($parentMenu[0] !== $menu[0]);\r\n\r\n                    if(isSubMenuItem) {\r\n                      module.verbose('Left key pressed, closing sub-menu');\r\n                      module.animate.hide(false, $parentMenu);\r\n                      $selectedItem\r\n                        .removeClass(className.selected)\r\n                      ;\r\n                      $parentMenu\r\n                        .closest(selector.item)\r\n                          .addClass(className.selected)\r\n                      ;\r\n                      event.preventDefault();\r\n                    }\r\n                  }\r\n\r\n                  // right arrow (show sub-menu)\r\n                  if(pressedKey == keys.rightArrow) {\r\n                    if(hasSubMenu) {\r\n                      module.verbose('Right key pressed, opening sub-menu');\r\n                      module.animate.show(false, $subMenu);\r\n                      $selectedItem\r\n                        .removeClass(className.selected)\r\n                      ;\r\n                      $subMenu\r\n                        .find(selector.item).eq(0)\r\n                          .addClass(className.selected)\r\n                      ;\r\n                      event.preventDefault();\r\n                    }\r\n                  }\r\n                }\r\n\r\n                // up arrow (traverse menu up)\r\n                if(pressedKey == keys.upArrow) {\r\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\r\n                    ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\r\n                    : $item.eq(0)\r\n                  ;\r\n                  if($visibleItems.index( $nextItem ) < 0) {\r\n                    module.verbose('Up key pressed but reached top of current menu');\r\n                    event.preventDefault();\r\n                    return;\r\n                  }\r\n                  else {\r\n                    module.verbose('Up key pressed, changing active item');\r\n                    $selectedItem\r\n                      .removeClass(className.selected)\r\n                    ;\r\n                    $nextItem\r\n                      .addClass(className.selected)\r\n                    ;\r\n                    module.set.scrollPosition($nextItem);\r\n                    if(settings.selectOnKeydown && module.is.single()) {\r\n                      module.set.selectedItem($nextItem);\r\n                    }\r\n                  }\r\n                  event.preventDefault();\r\n                }\r\n\r\n                // down arrow (traverse menu down)\r\n                if(pressedKey == keys.downArrow) {\r\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\r\n                    ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\r\n                    : $item.eq(0)\r\n                  ;\r\n                  if($nextItem.length === 0) {\r\n                    module.verbose('Down key pressed but reached bottom of current menu');\r\n                    event.preventDefault();\r\n                    return;\r\n                  }\r\n                  else {\r\n                    module.verbose('Down key pressed, changing active item');\r\n                    $item\r\n                      .removeClass(className.selected)\r\n                    ;\r\n                    $nextItem\r\n                      .addClass(className.selected)\r\n                    ;\r\n                    module.set.scrollPosition($nextItem);\r\n                    if(settings.selectOnKeydown && module.is.single()) {\r\n                      module.set.selectedItem($nextItem);\r\n                    }\r\n                  }\r\n                  event.preventDefault();\r\n                }\r\n\r\n                // page down (show next page)\r\n                if(pressedKey == keys.pageUp) {\r\n                  module.scrollPage('up');\r\n                  event.preventDefault();\r\n                }\r\n                if(pressedKey == keys.pageDown) {\r\n                  module.scrollPage('down');\r\n                  event.preventDefault();\r\n                }\r\n\r\n                // escape (close menu)\r\n                if(pressedKey == keys.escape) {\r\n                  module.verbose('Escape key pressed, closing dropdown');\r\n                  module.hide();\r\n                }\r\n\r\n              }\r\n              else {\r\n                // delimiter key\r\n                if(delimiterPressed) {\r\n                  event.preventDefault();\r\n                }\r\n                // down arrow (open menu)\r\n                if(pressedKey == keys.downArrow && !module.is.visible()) {\r\n                  module.verbose('Down key pressed, showing dropdown');\r\n                  module.show();\r\n                  event.preventDefault();\r\n                }\r\n              }\r\n            }\r\n            else {\r\n              if( !module.has.search() ) {\r\n                module.set.selectedLetter( String.fromCharCode(pressedKey) );\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        trigger: {\r\n          change: function() {\r\n            var\r\n              events       = document.createEvent('HTMLEvents'),\r\n              inputElement = $input[0]\r\n            ;\r\n            if(inputElement) {\r\n              module.verbose('Triggering native change event');\r\n              events.initEvent('change', true, false);\r\n              inputElement.dispatchEvent(events);\r\n            }\r\n          }\r\n        },\r\n\r\n        determine: {\r\n          selectAction: function(text, value) {\r\n            selectActionActive = true;\r\n            module.verbose('Determining action', settings.action);\r\n            if( $.isFunction( module.action[settings.action] ) ) {\r\n              module.verbose('Triggering preset action', settings.action, text, value);\r\n              module.action[ settings.action ].call(element, text, value, this);\r\n            }\r\n            else if( $.isFunction(settings.action) ) {\r\n              module.verbose('Triggering user action', settings.action, text, value);\r\n              settings.action.call(element, text, value, this);\r\n            }\r\n            else {\r\n              module.error(error.action, settings.action);\r\n            }\r\n            selectActionActive = false;\r\n          },\r\n          eventInModule: function(event, callback) {\r\n            var\r\n              $target    = $(event.target),\r\n              inDocument = ($target.closest(document.documentElement).length > 0),\r\n              inModule   = ($target.closest($module).length > 0)\r\n            ;\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            if(inDocument && !inModule) {\r\n              module.verbose('Triggering event', callback);\r\n              callback();\r\n              return true;\r\n            }\r\n            else {\r\n              module.verbose('Event occurred in dropdown, canceling callback');\r\n              return false;\r\n            }\r\n          },\r\n          eventOnElement: function(event, callback) {\r\n            var\r\n              $target      = $(event.target),\r\n              $label       = $target.closest(selector.siblingLabel),\r\n              inVisibleDOM = document.body.contains(event.target),\r\n              notOnLabel   = ($module.find($label).length === 0 || !(module.is.multiple() && settings.useLabels)),\r\n              notInMenu    = ($target.closest($menu).length === 0)\r\n            ;\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            if(inVisibleDOM && notOnLabel && notInMenu) {\r\n              module.verbose('Triggering event', callback);\r\n              callback();\r\n              return true;\r\n            }\r\n            else {\r\n              module.verbose('Event occurred in dropdown menu, canceling callback');\r\n              return false;\r\n            }\r\n          }\r\n        },\r\n\r\n        action: {\r\n\r\n          nothing: function() {},\r\n\r\n          activate: function(text, value, element) {\r\n            value = (value !== undefined)\r\n              ? value\r\n              : text\r\n            ;\r\n            if( module.can.activate( $(element) ) ) {\r\n              module.set.selected(value, $(element));\r\n              if(!module.is.multiple()) {\r\n                module.hideAndClear();\r\n              }\r\n            }\r\n          },\r\n\r\n          select: function(text, value, element) {\r\n            value = (value !== undefined)\r\n              ? value\r\n              : text\r\n            ;\r\n            if( module.can.activate( $(element) ) ) {\r\n              module.set.value(value, text, $(element));\r\n              if(!module.is.multiple()) {\r\n                module.hideAndClear();\r\n              }\r\n            }\r\n          },\r\n\r\n          combo: function(text, value, element) {\r\n            value = (value !== undefined)\r\n              ? value\r\n              : text\r\n            ;\r\n            module.set.selected(value, $(element));\r\n            module.hideAndClear();\r\n          },\r\n\r\n          hide: function(text, value, element) {\r\n            module.set.value(value, text, $(element));\r\n            module.hideAndClear();\r\n          }\r\n\r\n        },\r\n\r\n        get: {\r\n          id: function() {\r\n            return id;\r\n          },\r\n          defaultText: function() {\r\n            return $module.data(metadata.defaultText);\r\n          },\r\n          defaultValue: function() {\r\n            return $module.data(metadata.defaultValue);\r\n          },\r\n          placeholderText: function() {\r\n            if(settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\r\n              return settings.placeholder;\r\n            }\r\n            return $module.data(metadata.placeholderText) || '';\r\n          },\r\n          text: function() {\r\n            return $text.text();\r\n          },\r\n          query: function() {\r\n            return String($search.val()).trim();\r\n          },\r\n          searchWidth: function(value) {\r\n            value = (value !== undefined)\r\n              ? value\r\n              : $search.val()\r\n            ;\r\n            $sizer.text(value);\r\n            // prevent rounding issues\r\n            return Math.ceil( $sizer.width() + 1);\r\n          },\r\n          selectionCount: function() {\r\n            var\r\n              values = module.get.values(),\r\n              count\r\n            ;\r\n            count = ( module.is.multiple() )\r\n              ? Array.isArray(values)\r\n                ? values.length\r\n                : 0\r\n              : (module.get.value() !== '')\r\n                ? 1\r\n                : 0\r\n            ;\r\n            return count;\r\n          },\r\n          transition: function($subMenu) {\r\n            return (settings.transition == 'auto')\r\n              ? module.is.upward($subMenu)\r\n                ? 'slide up'\r\n                : 'slide down'\r\n              : settings.transition\r\n            ;\r\n          },\r\n          userValues: function() {\r\n            var\r\n              values = module.get.values()\r\n            ;\r\n            if(!values) {\r\n              return false;\r\n            }\r\n            values = Array.isArray(values)\r\n              ? values\r\n              : [values]\r\n            ;\r\n            return $.grep(values, function(value) {\r\n              return (module.get.item(value) === false);\r\n            });\r\n          },\r\n          uniqueArray: function(array) {\r\n            return $.grep(array, function (value, index) {\r\n                return $.inArray(value, array) === index;\r\n            });\r\n          },\r\n          caretPosition: function(returnEndPos) {\r\n            var\r\n              input = $search.get(0),\r\n              range,\r\n              rangeLength\r\n            ;\r\n            if(returnEndPos && 'selectionEnd' in input){\r\n              return input.selectionEnd;\r\n            }\r\n            else if(!returnEndPos && 'selectionStart' in input) {\r\n              return input.selectionStart;\r\n            }\r\n            if (document.selection) {\r\n              input.focus();\r\n              range       = document.selection.createRange();\r\n              rangeLength = range.text.length;\r\n              if(returnEndPos) {\r\n                return rangeLength;\r\n              }\r\n              range.moveStart('character', -input.value.length);\r\n              return range.text.length - rangeLength;\r\n            }\r\n          },\r\n          value: function() {\r\n            var\r\n              value = ($input.length > 0)\r\n                ? $input.val()\r\n                : $module.data(metadata.value),\r\n              isEmptyMultiselect = (Array.isArray(value) && value.length === 1 && value[0] === '')\r\n            ;\r\n            // prevents placeholder element from being selected when multiple\r\n            return (value === undefined || isEmptyMultiselect)\r\n              ? ''\r\n              : value\r\n            ;\r\n          },\r\n          values: function() {\r\n            var\r\n              value = module.get.value()\r\n            ;\r\n            if(value === '') {\r\n              return '';\r\n            }\r\n            return ( !module.has.selectInput() && module.is.multiple() )\r\n              ? (typeof value == 'string') // delimited string\r\n                ? module.escape.htmlEntities(value).split(settings.delimiter)\r\n                : ''\r\n              : value\r\n            ;\r\n          },\r\n          remoteValues: function() {\r\n            var\r\n              values = module.get.values(),\r\n              remoteValues = false\r\n            ;\r\n            if(values) {\r\n              if(typeof values == 'string') {\r\n                values = [values];\r\n              }\r\n              $.each(values, function(index, value) {\r\n                var\r\n                  name = module.read.remoteData(value)\r\n                ;\r\n                module.verbose('Restoring value from session data', name, value);\r\n                if(name) {\r\n                  if(!remoteValues) {\r\n                    remoteValues = {};\r\n                  }\r\n                  remoteValues[value] = name;\r\n                }\r\n              });\r\n            }\r\n            return remoteValues;\r\n          },\r\n          choiceText: function($choice, preserveHTML) {\r\n            preserveHTML = (preserveHTML !== undefined)\r\n              ? preserveHTML\r\n              : settings.preserveHTML\r\n            ;\r\n            if($choice) {\r\n              if($choice.find(selector.menu).length > 0) {\r\n                module.verbose('Retrieving text of element with sub-menu');\r\n                $choice = $choice.clone();\r\n                $choice.find(selector.menu).remove();\r\n                $choice.find(selector.menuIcon).remove();\r\n              }\r\n              return ($choice.data(metadata.text) !== undefined)\r\n                ? $choice.data(metadata.text)\r\n                : (preserveHTML)\r\n                  ? $choice.html().trim()\r\n                  : $choice.text().trim()\r\n              ;\r\n            }\r\n          },\r\n          choiceValue: function($choice, choiceText) {\r\n            choiceText = choiceText || module.get.choiceText($choice);\r\n            if(!$choice) {\r\n              return false;\r\n            }\r\n            return ($choice.data(metadata.value) !== undefined)\r\n              ? String( $choice.data(metadata.value) )\r\n              : (typeof choiceText === 'string')\r\n                ? String(\r\n                  settings.ignoreSearchCase\r\n                  ? choiceText.toLowerCase()\r\n                  : choiceText\r\n                ).trim()\r\n                : String(choiceText)\r\n            ;\r\n          },\r\n          inputEvent: function() {\r\n            var\r\n              input = $search[0]\r\n            ;\r\n            if(input) {\r\n              return (input.oninput !== undefined)\r\n                ? 'input'\r\n                : (input.onpropertychange !== undefined)\r\n                  ? 'propertychange'\r\n                  : 'keyup'\r\n              ;\r\n            }\r\n            return false;\r\n          },\r\n          selectValues: function() {\r\n            var\r\n              select = {},\r\n              oldGroup = []\r\n            ;\r\n            select.values = [];\r\n            $module\r\n              .find('option')\r\n                .each(function() {\r\n                  var\r\n                    $option  = $(this),\r\n                    name     = $option.html(),\r\n                    disabled = $option.attr('disabled'),\r\n                    value    = ( $option.attr('value') !== undefined )\r\n                      ? $option.attr('value')\r\n                      : name,\r\n                    text     = ( $option.data(metadata.text) !== undefined )\r\n                      ? $option.data(metadata.text)\r\n                      : name,\r\n                    group = $option.parent('optgroup')\r\n                  ;\r\n                  if(settings.placeholder === 'auto' && value === '') {\r\n                    select.placeholder = name;\r\n                  }\r\n                  else {\r\n                    if(group.length !== oldGroup.length || group[0] !== oldGroup[0]) {\r\n                      select.values.push({\r\n                        type: 'header',\r\n                        divider: settings.headerDivider,\r\n                        name: group.attr('label') || ''\r\n                      });\r\n                      oldGroup = group;\r\n                    }\r\n                    select.values.push({\r\n                      name     : name,\r\n                      value    : value,\r\n                      text     : text,\r\n                      disabled : disabled\r\n                    });\r\n                  }\r\n                })\r\n            ;\r\n            if(settings.placeholder && settings.placeholder !== 'auto') {\r\n              module.debug('Setting placeholder value to', settings.placeholder);\r\n              select.placeholder = settings.placeholder;\r\n            }\r\n            if(settings.sortSelect) {\r\n              if(settings.sortSelect === true) {\r\n                select.values.sort(function(a, b) {\r\n                  return a.name.localeCompare(b.name);\r\n                });\r\n              } else if(settings.sortSelect === 'natural') {\r\n                select.values.sort(function(a, b) {\r\n                  return (a.name.toLowerCase().localeCompare(b.name.toLowerCase()));\r\n                });\r\n              } else if($.isFunction(settings.sortSelect)) {\r\n                select.values.sort(settings.sortSelect);\r\n              }\r\n              module.debug('Retrieved and sorted values from select', select);\r\n            }\r\n            else {\r\n              module.debug('Retrieved values from select', select);\r\n            }\r\n            return select;\r\n          },\r\n          activeItem: function() {\r\n            return $item.filter('.'  + className.active);\r\n          },\r\n          selectedItem: function() {\r\n            var\r\n              $selectedItem = $item.not(selector.unselectable).filter('.'  + className.selected)\r\n            ;\r\n            return ($selectedItem.length > 0)\r\n              ? $selectedItem\r\n              : $item.eq(0)\r\n            ;\r\n          },\r\n          itemWithAdditions: function(value) {\r\n            var\r\n              $items       = module.get.item(value),\r\n              $userItems   = module.create.userChoice(value),\r\n              hasUserItems = ($userItems && $userItems.length > 0)\r\n            ;\r\n            if(hasUserItems) {\r\n              $items = ($items.length > 0)\r\n                ? $items.add($userItems)\r\n                : $userItems\r\n              ;\r\n            }\r\n            return $items;\r\n          },\r\n          item: function(value, strict) {\r\n            var\r\n              $selectedItem = false,\r\n              shouldSearch,\r\n              isMultiple\r\n            ;\r\n            value = (value !== undefined)\r\n              ? value\r\n              : ( module.get.values() !== undefined)\r\n                ? module.get.values()\r\n                : module.get.text()\r\n            ;\r\n            isMultiple = (module.is.multiple() && Array.isArray(value));\r\n            shouldSearch = (isMultiple)\r\n              ? (value.length > 0)\r\n              : (value !== undefined && value !== null)\r\n            ;\r\n            strict     = (value === '' || value === false  || value === true)\r\n              ? true\r\n              : strict || false\r\n            ;\r\n            if(shouldSearch) {\r\n              $item\r\n                .each(function() {\r\n                  var\r\n                    $choice       = $(this),\r\n                    optionText    = module.get.choiceText($choice),\r\n                    optionValue   = module.get.choiceValue($choice, optionText)\r\n                  ;\r\n                  // safe early exit\r\n                  if(optionValue === null || optionValue === undefined) {\r\n                    return;\r\n                  }\r\n                  if(isMultiple) {\r\n                    if($.inArray(module.escape.htmlEntities(String(optionValue)), value.map(function(v){return String(v);})) !== -1) {\r\n                      $selectedItem = ($selectedItem)\r\n                        ? $selectedItem.add($choice)\r\n                        : $choice\r\n                      ;\r\n                    }\r\n                  }\r\n                  else if(strict) {\r\n                    module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\r\n                    if( optionValue === value) {\r\n                      $selectedItem = $choice;\r\n                      return true;\r\n                    }\r\n                  }\r\n                  else {\r\n                    if(settings.ignoreCase) {\r\n                      optionValue = optionValue.toLowerCase();\r\n                      value = value.toLowerCase();\r\n                    }\r\n                    if(module.escape.htmlEntities(String(optionValue)) === module.escape.htmlEntities(String(value))) {\r\n                      module.verbose('Found select item by value', optionValue, value);\r\n                      $selectedItem = $choice;\r\n                      return true;\r\n                    }\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            return $selectedItem;\r\n          }\r\n        },\r\n\r\n        check: {\r\n          maxSelections: function(selectionCount) {\r\n            if(settings.maxSelections) {\r\n              selectionCount = (selectionCount !== undefined)\r\n                ? selectionCount\r\n                : module.get.selectionCount()\r\n              ;\r\n              if(selectionCount >= settings.maxSelections) {\r\n                module.debug('Maximum selection count reached');\r\n                if(settings.useLabels) {\r\n                  $item.addClass(className.filtered);\r\n                  module.add.message(message.maxSelections);\r\n                }\r\n                return true;\r\n              }\r\n              else {\r\n                module.verbose('No longer at maximum selection count');\r\n                module.remove.message();\r\n                module.remove.filteredItem();\r\n                if(module.is.searchSelection()) {\r\n                  module.filterItems();\r\n                }\r\n                return false;\r\n              }\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        restore: {\r\n          defaults: function(preventChangeTrigger) {\r\n            module.clear(preventChangeTrigger);\r\n            module.restore.defaultText();\r\n            module.restore.defaultValue();\r\n          },\r\n          defaultText: function() {\r\n            var\r\n              defaultText     = module.get.defaultText(),\r\n              placeholderText = module.get.placeholderText\r\n            ;\r\n            if(defaultText === placeholderText) {\r\n              module.debug('Restoring default placeholder text', defaultText);\r\n              module.set.placeholderText(defaultText);\r\n            }\r\n            else {\r\n              module.debug('Restoring default text', defaultText);\r\n              module.set.text(defaultText);\r\n            }\r\n          },\r\n          placeholderText: function() {\r\n            module.set.placeholderText();\r\n          },\r\n          defaultValue: function() {\r\n            var\r\n              defaultValue = module.get.defaultValue()\r\n            ;\r\n            if(defaultValue !== undefined) {\r\n              module.debug('Restoring default value', defaultValue);\r\n              if(defaultValue !== '') {\r\n                module.set.value(defaultValue);\r\n                module.set.selected();\r\n              }\r\n              else {\r\n                module.remove.activeItem();\r\n                module.remove.selectedItem();\r\n              }\r\n            }\r\n          },\r\n          labels: function() {\r\n            if(settings.allowAdditions) {\r\n              if(!settings.useLabels) {\r\n                module.error(error.labels);\r\n                settings.useLabels = true;\r\n              }\r\n              module.debug('Restoring selected values');\r\n              module.create.userLabels();\r\n            }\r\n            module.check.maxSelections();\r\n          },\r\n          selected: function() {\r\n            module.restore.values();\r\n            if(module.is.multiple()) {\r\n              module.debug('Restoring previously selected values and labels');\r\n              module.restore.labels();\r\n            }\r\n            else {\r\n              module.debug('Restoring previously selected values');\r\n            }\r\n          },\r\n          values: function() {\r\n            // prevents callbacks from occurring on initial load\r\n            module.set.initialLoad();\r\n            if(settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\r\n              module.restore.remoteValues();\r\n            }\r\n            else {\r\n              module.set.selected();\r\n            }\r\n            var value = module.get.value();\r\n            if(value && value !== '' && !(Array.isArray(value) && value.length === 0)) {\r\n              $input.removeClass(className.noselection);\r\n            } else {\r\n              $input.addClass(className.noselection);\r\n            }\r\n            module.remove.initialLoad();\r\n          },\r\n          remoteValues: function() {\r\n            var\r\n              values = module.get.remoteValues()\r\n            ;\r\n            module.debug('Recreating selected from session data', values);\r\n            if(values) {\r\n              if( module.is.single() ) {\r\n                $.each(values, function(value, name) {\r\n                  module.set.text(name);\r\n                });\r\n              }\r\n              else {\r\n                $.each(values, function(value, name) {\r\n                  module.add.label(value, name);\r\n                });\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        read: {\r\n          remoteData: function(value) {\r\n            var\r\n              name\r\n            ;\r\n            if(window.Storage === undefined) {\r\n              module.error(error.noStorage);\r\n              return;\r\n            }\r\n            name = sessionStorage.getItem(value);\r\n            return (name !== undefined)\r\n              ? name\r\n              : false\r\n            ;\r\n          }\r\n        },\r\n\r\n        save: {\r\n          defaults: function() {\r\n            module.save.defaultText();\r\n            module.save.placeholderText();\r\n            module.save.defaultValue();\r\n          },\r\n          defaultValue: function() {\r\n            var\r\n              value = module.get.value()\r\n            ;\r\n            module.verbose('Saving default value as', value);\r\n            $module.data(metadata.defaultValue, value);\r\n          },\r\n          defaultText: function() {\r\n            var\r\n              text = module.get.text()\r\n            ;\r\n            module.verbose('Saving default text as', text);\r\n            $module.data(metadata.defaultText, text);\r\n          },\r\n          placeholderText: function() {\r\n            var\r\n              text\r\n            ;\r\n            if(settings.placeholder !== false && $text.hasClass(className.placeholder)) {\r\n              text = module.get.text();\r\n              module.verbose('Saving placeholder text as', text);\r\n              $module.data(metadata.placeholderText, text);\r\n            }\r\n          },\r\n          remoteData: function(name, value) {\r\n            if(window.Storage === undefined) {\r\n              module.error(error.noStorage);\r\n              return;\r\n            }\r\n            module.verbose('Saving remote data to session storage', value, name);\r\n            sessionStorage.setItem(value, name);\r\n          }\r\n        },\r\n\r\n        clear: function(preventChangeTrigger) {\r\n          if(module.is.multiple() && settings.useLabels) {\r\n            module.remove.labels();\r\n          }\r\n          else {\r\n            module.remove.activeItem();\r\n            module.remove.selectedItem();\r\n            module.remove.filteredItem();\r\n          }\r\n          module.set.placeholderText();\r\n          module.clearValue(preventChangeTrigger);\r\n        },\r\n\r\n        clearValue: function(preventChangeTrigger) {\r\n          module.set.value('', null, null, preventChangeTrigger);\r\n        },\r\n\r\n        scrollPage: function(direction, $selectedItem) {\r\n          var\r\n            $currentItem  = $selectedItem || module.get.selectedItem(),\r\n            $menu         = $currentItem.closest(selector.menu),\r\n            menuHeight    = $menu.outerHeight(),\r\n            currentScroll = $menu.scrollTop(),\r\n            itemHeight    = $item.eq(0).outerHeight(),\r\n            itemsPerPage  = Math.floor(menuHeight / itemHeight),\r\n            maxScroll     = $menu.prop('scrollHeight'),\r\n            newScroll     = (direction == 'up')\r\n              ? currentScroll - (itemHeight * itemsPerPage)\r\n              : currentScroll + (itemHeight * itemsPerPage),\r\n            $selectableItem = $item.not(selector.unselectable),\r\n            isWithinRange,\r\n            $nextSelectedItem,\r\n            elementIndex\r\n          ;\r\n          elementIndex      = (direction == 'up')\r\n            ? $selectableItem.index($currentItem) - itemsPerPage\r\n            : $selectableItem.index($currentItem) + itemsPerPage\r\n          ;\r\n          isWithinRange = (direction == 'up')\r\n            ? (elementIndex >= 0)\r\n            : (elementIndex < $selectableItem.length)\r\n          ;\r\n          $nextSelectedItem = (isWithinRange)\r\n            ? $selectableItem.eq(elementIndex)\r\n            : (direction == 'up')\r\n              ? $selectableItem.first()\r\n              : $selectableItem.last()\r\n          ;\r\n          if($nextSelectedItem.length > 0) {\r\n            module.debug('Scrolling page', direction, $nextSelectedItem);\r\n            $currentItem\r\n              .removeClass(className.selected)\r\n            ;\r\n            $nextSelectedItem\r\n              .addClass(className.selected)\r\n            ;\r\n            if(settings.selectOnKeydown && module.is.single()) {\r\n              module.set.selectedItem($nextSelectedItem);\r\n            }\r\n            $menu\r\n              .scrollTop(newScroll)\r\n            ;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          filtered: function() {\r\n            var\r\n              isMultiple       = module.is.multiple(),\r\n              isSearch         = module.is.searchSelection(),\r\n              isSearchMultiple = (isMultiple && isSearch),\r\n              searchValue      = (isSearch)\r\n                ? module.get.query()\r\n                : '',\r\n              hasSearchValue   = (typeof searchValue === 'string' && searchValue.length > 0),\r\n              searchWidth      = module.get.searchWidth(),\r\n              valueIsSet       = searchValue !== ''\r\n            ;\r\n            if(isMultiple && hasSearchValue) {\r\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\r\n              $search.css('width', searchWidth);\r\n            }\r\n            if(hasSearchValue || (isSearchMultiple && valueIsSet)) {\r\n              module.verbose('Hiding placeholder text');\r\n              $text.addClass(className.filtered);\r\n            }\r\n            else if(!isMultiple || (isSearchMultiple && !valueIsSet)) {\r\n              module.verbose('Showing placeholder text');\r\n              $text.removeClass(className.filtered);\r\n            }\r\n          },\r\n          empty: function() {\r\n            $module.addClass(className.empty);\r\n          },\r\n          loading: function() {\r\n            $module.addClass(className.loading);\r\n          },\r\n          placeholderText: function(text) {\r\n            text = text || module.get.placeholderText();\r\n            module.debug('Setting placeholder text', text);\r\n            module.set.text(text);\r\n            $text.addClass(className.placeholder);\r\n          },\r\n          tabbable: function() {\r\n            if( module.is.searchSelection() ) {\r\n              module.debug('Added tabindex to searchable dropdown');\r\n              $search\r\n                .val('')\r\n                .attr('tabindex', 0)\r\n              ;\r\n              $menu\r\n                .attr('tabindex', -1)\r\n              ;\r\n            }\r\n            else {\r\n              module.debug('Added tabindex to dropdown');\r\n              if( $module.attr('tabindex') === undefined) {\r\n                $module\r\n                  .attr('tabindex', 0)\r\n                ;\r\n                $menu\r\n                  .attr('tabindex', -1)\r\n                ;\r\n              }\r\n            }\r\n          },\r\n          initialLoad: function() {\r\n            module.verbose('Setting initial load');\r\n            initialLoad = true;\r\n          },\r\n          activeItem: function($item) {\r\n            if( settings.allowAdditions && $item.filter(selector.addition).length > 0 ) {\r\n              $item.addClass(className.filtered);\r\n            }\r\n            else {\r\n              $item.addClass(className.active);\r\n            }\r\n          },\r\n          partialSearch: function(text) {\r\n            var\r\n              length = module.get.query().length\r\n            ;\r\n            $search.val( text.substr(0, length));\r\n          },\r\n          scrollPosition: function($item, forceScroll) {\r\n            var\r\n              edgeTolerance = 5,\r\n              $menu,\r\n              hasActive,\r\n              offset,\r\n              itemHeight,\r\n              itemOffset,\r\n              menuOffset,\r\n              menuScroll,\r\n              menuHeight,\r\n              abovePage,\r\n              belowPage\r\n            ;\r\n\r\n            $item       = $item || module.get.selectedItem();\r\n            $menu       = $item.closest(selector.menu);\r\n            hasActive   = ($item && $item.length > 0);\r\n            forceScroll = (forceScroll !== undefined)\r\n              ? forceScroll\r\n              : false\r\n            ;\r\n            if(module.get.activeItem().length === 0){\r\n              forceScroll = false;\r\n            }\r\n            if($item && $menu.length > 0 && hasActive) {\r\n              itemOffset = $item.position().top;\r\n\r\n              $menu.addClass(className.loading);\r\n              menuScroll = $menu.scrollTop();\r\n              menuOffset = $menu.offset().top;\r\n              itemOffset = $item.offset().top;\r\n              offset     = menuScroll - menuOffset + itemOffset;\r\n              if(!forceScroll) {\r\n                menuHeight = $menu.height();\r\n                belowPage  = menuScroll + menuHeight < (offset + edgeTolerance);\r\n                abovePage  = ((offset - edgeTolerance) < menuScroll);\r\n              }\r\n              module.debug('Scrolling to active item', offset);\r\n              if(forceScroll || abovePage || belowPage) {\r\n                $menu.scrollTop(offset);\r\n              }\r\n              $menu.removeClass(className.loading);\r\n            }\r\n          },\r\n          text: function(text) {\r\n            if(settings.action === 'combo') {\r\n              module.debug('Changing combo button text', text, $combo);\r\n              if(settings.preserveHTML) {\r\n                $combo.html(text);\r\n              }\r\n              else {\r\n                $combo.text(text);\r\n              }\r\n            }\r\n            else if(settings.action === 'activate') {\r\n              if(text !== module.get.placeholderText()) {\r\n                $text.removeClass(className.placeholder);\r\n              }\r\n              module.debug('Changing text', text, $text);\r\n              $text\r\n                .removeClass(className.filtered)\r\n              ;\r\n              if(settings.preserveHTML) {\r\n                $text.html(text);\r\n              }\r\n              else {\r\n                $text.text(text);\r\n              }\r\n            }\r\n          },\r\n          selectedItem: function($item) {\r\n            var\r\n              value      = module.get.choiceValue($item),\r\n              searchText = module.get.choiceText($item, false),\r\n              text       = module.get.choiceText($item, true)\r\n            ;\r\n            module.debug('Setting user selection to item', $item);\r\n            module.remove.activeItem();\r\n            module.set.partialSearch(searchText);\r\n            module.set.activeItem($item);\r\n            module.set.selected(value, $item);\r\n            module.set.text(text);\r\n          },\r\n          selectedLetter: function(letter) {\r\n            var\r\n              $selectedItem         = $item.filter('.' + className.selected),\r\n              alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\r\n              $nextValue            = false,\r\n              $nextItem\r\n            ;\r\n            // check next of same letter\r\n            if(alreadySelectedLetter) {\r\n              $nextItem = $selectedItem.nextAll($item).eq(0);\r\n              if( module.has.firstLetter($nextItem, letter) ) {\r\n                $nextValue  = $nextItem;\r\n              }\r\n            }\r\n            // check all values\r\n            if(!$nextValue) {\r\n              $item\r\n                .each(function(){\r\n                  if(module.has.firstLetter($(this), letter)) {\r\n                    $nextValue = $(this);\r\n                    return false;\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            // set next value\r\n            if($nextValue) {\r\n              module.verbose('Scrolling to next value with letter', letter);\r\n              module.set.scrollPosition($nextValue);\r\n              $selectedItem.removeClass(className.selected);\r\n              $nextValue.addClass(className.selected);\r\n              if(settings.selectOnKeydown && module.is.single()) {\r\n                module.set.selectedItem($nextValue);\r\n              }\r\n            }\r\n          },\r\n          direction: function($menu) {\r\n            if(settings.direction == 'auto') {\r\n              // reset position, remove upward if it's base menu\r\n              if (!$menu) {\r\n                module.remove.upward();\r\n              } else if (module.is.upward($menu)) {\r\n                //we need make sure when make assertion openDownward for $menu, $menu does not have upward class\r\n                module.remove.upward($menu);\r\n              }\r\n\r\n              if(module.can.openDownward($menu)) {\r\n                module.remove.upward($menu);\r\n              }\r\n              else {\r\n                module.set.upward($menu);\r\n              }\r\n              if(!module.is.leftward($menu) && !module.can.openRightward($menu)) {\r\n                module.set.leftward($menu);\r\n              }\r\n            }\r\n            else if(settings.direction == 'upward') {\r\n              module.set.upward($menu);\r\n            }\r\n          },\r\n          upward: function($currentMenu) {\r\n            var $element = $currentMenu || $module;\r\n            $element.addClass(className.upward);\r\n          },\r\n          leftward: function($currentMenu) {\r\n            var $element = $currentMenu || $menu;\r\n            $element.addClass(className.leftward);\r\n          },\r\n          value: function(value, text, $selected, preventChangeTrigger) {\r\n            if(value !== undefined && value !== '' && !(Array.isArray(value) && value.length === 0)) {\r\n              $input.removeClass(className.noselection);\r\n            } else {\r\n              $input.addClass(className.noselection);\r\n            }\r\n            var\r\n              escapedValue = module.escape.value(value),\r\n              hasInput     = ($input.length > 0),\r\n              currentValue = module.get.values(),\r\n              stringValue  = (value !== undefined)\r\n                ? String(value)\r\n                : value,\r\n              newValue\r\n            ;\r\n            if(hasInput) {\r\n              if(!settings.allowReselection && stringValue == currentValue) {\r\n                module.verbose('Skipping value update already same value', value, currentValue);\r\n                if(!module.is.initialLoad()) {\r\n                  return;\r\n                }\r\n              }\r\n\r\n              if( module.is.single() && module.has.selectInput() && module.can.extendSelect() ) {\r\n                module.debug('Adding user option', value);\r\n                module.add.optionValue(value);\r\n              }\r\n              module.debug('Updating input value', escapedValue, currentValue);\r\n              internalChange = true;\r\n              $input\r\n                .val(escapedValue)\r\n              ;\r\n              if(settings.fireOnInit === false && module.is.initialLoad()) {\r\n                module.debug('Input native change event ignored on initial load');\r\n              }\r\n              else if(preventChangeTrigger !== true) {\r\n                module.trigger.change();\r\n              }\r\n              internalChange = false;\r\n            }\r\n            else {\r\n              module.verbose('Storing value in metadata', escapedValue, $input);\r\n              if(escapedValue !== currentValue) {\r\n                $module.data(metadata.value, stringValue);\r\n              }\r\n            }\r\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\r\n              module.verbose('No callback on initial load', settings.onChange);\r\n            }\r\n            else if(preventChangeTrigger !== true) {\r\n              settings.onChange.call(element, value, text, $selected);\r\n            }\r\n          },\r\n          active: function() {\r\n            $module\r\n              .addClass(className.active)\r\n            ;\r\n          },\r\n          multiple: function() {\r\n            $module.addClass(className.multiple);\r\n          },\r\n          visible: function() {\r\n            $module.addClass(className.visible);\r\n          },\r\n          exactly: function(value, $selectedItem) {\r\n            module.debug('Setting selected to exact values');\r\n            module.clear();\r\n            module.set.selected(value, $selectedItem);\r\n          },\r\n          selected: function(value, $selectedItem) {\r\n            var\r\n              isMultiple = module.is.multiple()\r\n            ;\r\n            $selectedItem = (settings.allowAdditions)\r\n              ? $selectedItem || module.get.itemWithAdditions(value)\r\n              : $selectedItem || module.get.item(value)\r\n            ;\r\n            if(!$selectedItem) {\r\n              return;\r\n            }\r\n            module.debug('Setting selected menu item to', $selectedItem);\r\n            if(module.is.multiple()) {\r\n              module.remove.searchWidth();\r\n            }\r\n            if(module.is.single()) {\r\n              module.remove.activeItem();\r\n              module.remove.selectedItem();\r\n            }\r\n            else if(settings.useLabels) {\r\n              module.remove.selectedItem();\r\n            }\r\n            // select each item\r\n            $selectedItem\r\n              .each(function() {\r\n                var\r\n                  $selected      = $(this),\r\n                  selectedText   = module.get.choiceText($selected),\r\n                  selectedValue  = module.get.choiceValue($selected, selectedText),\r\n\r\n                  isFiltered     = $selected.hasClass(className.filtered),\r\n                  isActive       = $selected.hasClass(className.active),\r\n                  isUserValue    = $selected.hasClass(className.addition),\r\n                  shouldAnimate  = (isMultiple && $selectedItem.length == 1)\r\n                ;\r\n                if(isMultiple) {\r\n                  if(!isActive || isUserValue) {\r\n                    if(settings.apiSettings && settings.saveRemoteData) {\r\n                      module.save.remoteData(selectedText, selectedValue);\r\n                    }\r\n                    if(settings.useLabels) {\r\n                      module.add.label(selectedValue, selectedText, shouldAnimate);\r\n                      module.add.value(selectedValue, selectedText, $selected);\r\n                      module.set.activeItem($selected);\r\n                      module.filterActive();\r\n                      module.select.nextAvailable($selectedItem);\r\n                    }\r\n                    else {\r\n                      module.add.value(selectedValue, selectedText, $selected);\r\n                      module.set.text(module.add.variables(message.count));\r\n                      module.set.activeItem($selected);\r\n                    }\r\n                  }\r\n                  else if(!isFiltered && (settings.useLabels || selectActionActive)) {\r\n                    module.debug('Selected active value, removing label');\r\n                    module.remove.selected(selectedValue);\r\n                  }\r\n                }\r\n                else {\r\n                  if(settings.apiSettings && settings.saveRemoteData) {\r\n                    module.save.remoteData(selectedText, selectedValue);\r\n                  }\r\n                  module.set.text(selectedText);\r\n                  module.set.value(selectedValue, selectedText, $selected);\r\n                  $selected\r\n                    .addClass(className.active)\r\n                    .addClass(className.selected)\r\n                  ;\r\n                }\r\n              })\r\n            ;\r\n            module.remove.searchTerm();\r\n          }\r\n        },\r\n\r\n        add: {\r\n          label: function(value, text, shouldAnimate) {\r\n            var\r\n              $next  = module.is.searchSelection()\r\n                ? $search\r\n                : $text,\r\n              escapedValue = module.escape.value(value),\r\n              $label\r\n            ;\r\n            if(settings.ignoreCase) {\r\n              escapedValue = escapedValue.toLowerCase();\r\n            }\r\n            $label =  $('<a />')\r\n              .addClass(className.label)\r\n              .attr('data-' + metadata.value, escapedValue)\r\n              .html(templates.label(escapedValue, text, settings.preserveHTML, settings.className))\r\n            ;\r\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\r\n\r\n            if(module.has.label(value)) {\r\n              module.debug('User selection already exists, skipping', escapedValue);\r\n              return;\r\n            }\r\n            if(settings.label.variation) {\r\n              $label.addClass(settings.label.variation);\r\n            }\r\n            if(shouldAnimate === true) {\r\n              module.debug('Animating in label', $label);\r\n              $label\r\n                .addClass(className.hidden)\r\n                .insertBefore($next)\r\n                .transition({\r\n                    animation  : settings.label.transition,\r\n                    debug      : settings.debug,\r\n                    verbose    : settings.verbose,\r\n                    duration   : settings.label.duration\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.debug('Adding selection label', $label);\r\n              $label\r\n                .insertBefore($next)\r\n              ;\r\n            }\r\n          },\r\n          message: function(message) {\r\n            var\r\n              $message = $menu.children(selector.message),\r\n              html     = settings.templates.message(module.add.variables(message))\r\n            ;\r\n            if($message.length > 0) {\r\n              $message\r\n                .html(html)\r\n              ;\r\n            }\r\n            else {\r\n              $message = $('<div/>')\r\n                .html(html)\r\n                .addClass(className.message)\r\n                .appendTo($menu)\r\n              ;\r\n            }\r\n          },\r\n          optionValue: function(value) {\r\n            var\r\n              escapedValue = module.escape.value(value),\r\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\r\n              hasOption    = ($option.length > 0)\r\n            ;\r\n            if(hasOption) {\r\n              return;\r\n            }\r\n            // temporarily disconnect observer\r\n            module.disconnect.selectObserver();\r\n            if( module.is.single() ) {\r\n              module.verbose('Removing previous user addition');\r\n              $input.find('option.' + className.addition).remove();\r\n            }\r\n            $('<option/>')\r\n              .prop('value', escapedValue)\r\n              .addClass(className.addition)\r\n              .html(value)\r\n              .appendTo($input)\r\n            ;\r\n            module.verbose('Adding user addition as an <option>', value);\r\n            module.observe.select();\r\n          },\r\n          userSuggestion: function(value) {\r\n            var\r\n              $addition         = $menu.children(selector.addition),\r\n              $existingItem     = module.get.item(value),\r\n              alreadyHasValue   = $existingItem && $existingItem.not(selector.addition).length,\r\n              hasUserSuggestion = $addition.length > 0,\r\n              html\r\n            ;\r\n            if(settings.useLabels && module.has.maxSelections()) {\r\n              return;\r\n            }\r\n            if(value === '' || alreadyHasValue) {\r\n              $addition.remove();\r\n              return;\r\n            }\r\n            if(hasUserSuggestion) {\r\n              $addition\r\n                .data(metadata.value, value)\r\n                .data(metadata.text, value)\r\n                .attr('data-' + metadata.value, value)\r\n                .attr('data-' + metadata.text, value)\r\n                .removeClass(className.filtered)\r\n              ;\r\n              if(!settings.hideAdditions) {\r\n                html = settings.templates.addition( module.add.variables(message.addResult, value) );\r\n                $addition\r\n                  .html(html)\r\n                ;\r\n              }\r\n              module.verbose('Replacing user suggestion with new value', $addition);\r\n            }\r\n            else {\r\n              $addition = module.create.userChoice(value);\r\n              $addition\r\n                .prependTo($menu)\r\n              ;\r\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\r\n            }\r\n            if(!settings.hideAdditions || module.is.allFiltered()) {\r\n              $addition\r\n                .addClass(className.selected)\r\n                .siblings()\r\n                .removeClass(className.selected)\r\n              ;\r\n            }\r\n            module.refreshItems();\r\n          },\r\n          variables: function(message, term) {\r\n            var\r\n              hasCount    = (message.search('{count}') !== -1),\r\n              hasMaxCount = (message.search('{maxCount}') !== -1),\r\n              hasTerm     = (message.search('{term}') !== -1),\r\n              count,\r\n              query\r\n            ;\r\n            module.verbose('Adding templated variables to message', message);\r\n            if(hasCount) {\r\n              count  = module.get.selectionCount();\r\n              message = message.replace('{count}', count);\r\n            }\r\n            if(hasMaxCount) {\r\n              count  = module.get.selectionCount();\r\n              message = message.replace('{maxCount}', settings.maxSelections);\r\n            }\r\n            if(hasTerm) {\r\n              query   = term || module.get.query();\r\n              message = message.replace('{term}', query);\r\n            }\r\n            return message;\r\n          },\r\n          value: function(addedValue, addedText, $selectedItem) {\r\n            var\r\n              currentValue = module.get.values(),\r\n              newValue\r\n            ;\r\n            if(module.has.value(addedValue)) {\r\n              module.debug('Value already selected');\r\n              return;\r\n            }\r\n            if(addedValue === '') {\r\n              module.debug('Cannot select blank values from multiselect');\r\n              return;\r\n            }\r\n            // extend current array\r\n            if(Array.isArray(currentValue)) {\r\n              newValue = currentValue.concat([addedValue]);\r\n              newValue = module.get.uniqueArray(newValue);\r\n            }\r\n            else {\r\n              newValue = [addedValue];\r\n            }\r\n            // add values\r\n            if( module.has.selectInput() ) {\r\n              if(module.can.extendSelect()) {\r\n                module.debug('Adding value to select', addedValue, newValue, $input);\r\n                module.add.optionValue(addedValue);\r\n              }\r\n            }\r\n            else {\r\n              newValue = newValue.join(settings.delimiter);\r\n              module.debug('Setting hidden input to delimited value', newValue, $input);\r\n            }\r\n\r\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\r\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\r\n            }\r\n            else {\r\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\r\n            }\r\n            module.set.value(newValue, addedText, $selectedItem);\r\n            module.check.maxSelections();\r\n          },\r\n        },\r\n\r\n        remove: {\r\n          active: function() {\r\n            $module.removeClass(className.active);\r\n          },\r\n          activeLabel: function() {\r\n            $module.find(selector.label).removeClass(className.active);\r\n          },\r\n          empty: function() {\r\n            $module.removeClass(className.empty);\r\n          },\r\n          loading: function() {\r\n            $module.removeClass(className.loading);\r\n          },\r\n          initialLoad: function() {\r\n            initialLoad = false;\r\n          },\r\n          upward: function($currentMenu) {\r\n            var $element = $currentMenu || $module;\r\n            $element.removeClass(className.upward);\r\n          },\r\n          leftward: function($currentMenu) {\r\n            var $element = $currentMenu || $menu;\r\n            $element.removeClass(className.leftward);\r\n          },\r\n          visible: function() {\r\n            $module.removeClass(className.visible);\r\n          },\r\n          activeItem: function() {\r\n            $item.removeClass(className.active);\r\n          },\r\n          filteredItem: function() {\r\n            if(settings.useLabels && module.has.maxSelections() ) {\r\n              return;\r\n            }\r\n            if(settings.useLabels && module.is.multiple()) {\r\n              $item.not('.' + className.active).removeClass(className.filtered);\r\n            }\r\n            else {\r\n              $item.removeClass(className.filtered);\r\n            }\r\n            if(settings.hideDividers) {\r\n              $divider.removeClass(className.hidden);\r\n            }\r\n            module.remove.empty();\r\n          },\r\n          optionValue: function(value) {\r\n            var\r\n              escapedValue = module.escape.value(value),\r\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\r\n              hasOption    = ($option.length > 0)\r\n            ;\r\n            if(!hasOption || !$option.hasClass(className.addition)) {\r\n              return;\r\n            }\r\n            // temporarily disconnect observer\r\n            if(selectObserver) {\r\n              selectObserver.disconnect();\r\n              module.verbose('Temporarily disconnecting mutation observer');\r\n            }\r\n            $option.remove();\r\n            module.verbose('Removing user addition as an <option>', escapedValue);\r\n            if(selectObserver) {\r\n              selectObserver.observe($input[0], {\r\n                childList : true,\r\n                subtree   : true\r\n              });\r\n            }\r\n          },\r\n          message: function() {\r\n            $menu.children(selector.message).remove();\r\n          },\r\n          searchWidth: function() {\r\n            $search.css('width', '');\r\n          },\r\n          searchTerm: function() {\r\n            module.verbose('Cleared search term');\r\n            $search.val('');\r\n            module.set.filtered();\r\n          },\r\n          userAddition: function() {\r\n            $item.filter(selector.addition).remove();\r\n          },\r\n          selected: function(value, $selectedItem) {\r\n            $selectedItem = (settings.allowAdditions)\r\n              ? $selectedItem || module.get.itemWithAdditions(value)\r\n              : $selectedItem || module.get.item(value)\r\n            ;\r\n\r\n            if(!$selectedItem) {\r\n              return false;\r\n            }\r\n\r\n            $selectedItem\r\n              .each(function() {\r\n                var\r\n                  $selected     = $(this),\r\n                  selectedText  = module.get.choiceText($selected),\r\n                  selectedValue = module.get.choiceValue($selected, selectedText)\r\n                ;\r\n                if(module.is.multiple()) {\r\n                  if(settings.useLabels) {\r\n                    module.remove.value(selectedValue, selectedText, $selected);\r\n                    module.remove.label(selectedValue);\r\n                  }\r\n                  else {\r\n                    module.remove.value(selectedValue, selectedText, $selected);\r\n                    if(module.get.selectionCount() === 0) {\r\n                      module.set.placeholderText();\r\n                    }\r\n                    else {\r\n                      module.set.text(module.add.variables(message.count));\r\n                    }\r\n                  }\r\n                }\r\n                else {\r\n                  module.remove.value(selectedValue, selectedText, $selected);\r\n                }\r\n                $selected\r\n                  .removeClass(className.filtered)\r\n                  .removeClass(className.active)\r\n                ;\r\n                if(settings.useLabels) {\r\n                  $selected.removeClass(className.selected);\r\n                }\r\n              })\r\n            ;\r\n          },\r\n          selectedItem: function() {\r\n            $item.removeClass(className.selected);\r\n          },\r\n          value: function(removedValue, removedText, $removedItem) {\r\n            var\r\n              values = module.get.values(),\r\n              newValue\r\n            ;\r\n            removedValue = module.escape.htmlEntities(removedValue);\r\n            if( module.has.selectInput() ) {\r\n              module.verbose('Input is <select> removing selected option', removedValue);\r\n              newValue = module.remove.arrayValue(removedValue, values);\r\n              module.remove.optionValue(removedValue);\r\n            }\r\n            else {\r\n              module.verbose('Removing from delimited values', removedValue);\r\n              newValue = module.remove.arrayValue(removedValue, values);\r\n              newValue = newValue.join(settings.delimiter);\r\n            }\r\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\r\n              module.verbose('No callback on initial load', settings.onRemove);\r\n            }\r\n            else {\r\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\r\n            }\r\n            module.set.value(newValue, removedText, $removedItem);\r\n            module.check.maxSelections();\r\n          },\r\n          arrayValue: function(removedValue, values) {\r\n            if( !Array.isArray(values) ) {\r\n              values = [values];\r\n            }\r\n            values = $.grep(values, function(value){\r\n              return (removedValue != value);\r\n            });\r\n            module.verbose('Removed value from delimited string', removedValue, values);\r\n            return values;\r\n          },\r\n          label: function(value, shouldAnimate) {\r\n            var\r\n              $labels       = $module.find(selector.label),\r\n              $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(settings.ignoreCase ? value.toLowerCase() : value) +'\"]')\r\n            ;\r\n            module.verbose('Removing label', $removedLabel);\r\n            $removedLabel.remove();\r\n          },\r\n          activeLabels: function($activeLabels) {\r\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\r\n            module.verbose('Removing active label selections', $activeLabels);\r\n            module.remove.labels($activeLabels);\r\n          },\r\n          labels: function($labels) {\r\n            $labels = $labels || $module.find(selector.label);\r\n            module.verbose('Removing labels', $labels);\r\n            $labels\r\n              .each(function(){\r\n                var\r\n                  $label      = $(this),\r\n                  value       = $label.data(metadata.value),\r\n                  stringValue = (value !== undefined)\r\n                    ? String(value)\r\n                    : value,\r\n                  isUserValue = module.is.userValue(stringValue)\r\n                ;\r\n                if(settings.onLabelRemove.call($label, value) === false) {\r\n                  module.debug('Label remove callback cancelled removal');\r\n                  return;\r\n                }\r\n                module.remove.message();\r\n                if(isUserValue) {\r\n                  module.remove.value(stringValue);\r\n                  module.remove.label(stringValue);\r\n                }\r\n                else {\r\n                  // selected will also remove label\r\n                  module.remove.selected(stringValue);\r\n                }\r\n              })\r\n            ;\r\n          },\r\n          tabbable: function() {\r\n            if( module.is.searchSelection() ) {\r\n              module.debug('Searchable dropdown initialized');\r\n              $search\r\n                .removeAttr('tabindex')\r\n              ;\r\n              $menu\r\n                .removeAttr('tabindex')\r\n              ;\r\n            }\r\n            else {\r\n              module.debug('Simple selection dropdown initialized');\r\n              $module\r\n                .removeAttr('tabindex')\r\n              ;\r\n              $menu\r\n                .removeAttr('tabindex')\r\n              ;\r\n            }\r\n          },\r\n          diacritics: function(text) {\r\n            return settings.ignoreDiacritics ?  text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : text;\r\n          }\r\n        },\r\n\r\n        has: {\r\n          menuSearch: function() {\r\n            return (module.has.search() && $search.closest($menu).length > 0);\r\n          },\r\n          clearItem: function() {\r\n            return ($clear.length > 0);\r\n          },\r\n          search: function() {\r\n            return ($search.length > 0);\r\n          },\r\n          sizer: function() {\r\n            return ($sizer.length > 0);\r\n          },\r\n          selectInput: function() {\r\n            return ( $input.is('select') );\r\n          },\r\n          minCharacters: function(searchTerm) {\r\n            if(settings.minCharacters && !iconClicked) {\r\n              searchTerm = (searchTerm !== undefined)\r\n                ? String(searchTerm)\r\n                : String(module.get.query())\r\n              ;\r\n              return (searchTerm.length >= settings.minCharacters);\r\n            }\r\n            iconClicked=false;\r\n            return true;\r\n          },\r\n          firstLetter: function($item, letter) {\r\n            var\r\n              text,\r\n              firstLetter\r\n            ;\r\n            if(!$item || $item.length === 0 || typeof letter !== 'string') {\r\n              return false;\r\n            }\r\n            text        = module.get.choiceText($item, false);\r\n            letter      = letter.toLowerCase();\r\n            firstLetter = String(text).charAt(0).toLowerCase();\r\n            return (letter == firstLetter);\r\n          },\r\n          input: function() {\r\n            return ($input.length > 0);\r\n          },\r\n          items: function() {\r\n            return ($item.length > 0);\r\n          },\r\n          menu: function() {\r\n            return ($menu.length > 0);\r\n          },\r\n          message: function() {\r\n            return ($menu.children(selector.message).length !== 0);\r\n          },\r\n          label: function(value) {\r\n            var\r\n              escapedValue = module.escape.value(value),\r\n              $labels      = $module.find(selector.label)\r\n            ;\r\n            if(settings.ignoreCase) {\r\n              escapedValue = escapedValue.toLowerCase();\r\n            }\r\n            return ($labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) +'\"]').length > 0);\r\n          },\r\n          maxSelections: function() {\r\n            return (settings.maxSelections && module.get.selectionCount() >= settings.maxSelections);\r\n          },\r\n          allResultsFiltered: function() {\r\n            var\r\n              $normalResults = $item.not(selector.addition)\r\n            ;\r\n            return ($normalResults.filter(selector.unselectable).length === $normalResults.length);\r\n          },\r\n          userSuggestion: function() {\r\n            return ($menu.children(selector.addition).length > 0);\r\n          },\r\n          query: function() {\r\n            return (module.get.query() !== '');\r\n          },\r\n          value: function(value) {\r\n            return (settings.ignoreCase)\r\n              ? module.has.valueIgnoringCase(value)\r\n              : module.has.valueMatchingCase(value)\r\n            ;\r\n          },\r\n          valueMatchingCase: function(value) {\r\n            var\r\n              values   = module.get.values(),\r\n              hasValue = Array.isArray(values)\r\n               ? values && ($.inArray(value, values) !== -1)\r\n               : (values == value)\r\n            ;\r\n            return (hasValue)\r\n              ? true\r\n              : false\r\n            ;\r\n          },\r\n          valueIgnoringCase: function(value) {\r\n            var\r\n              values   = module.get.values(),\r\n              hasValue = false\r\n            ;\r\n            if(!Array.isArray(values)) {\r\n              values = [values];\r\n            }\r\n            $.each(values, function(index, existingValue) {\r\n              if(String(value).toLowerCase() == String(existingValue).toLowerCase()) {\r\n                hasValue = true;\r\n                return false;\r\n              }\r\n            });\r\n            return hasValue;\r\n          }\r\n        },\r\n\r\n        is: {\r\n          active: function() {\r\n            return $module.hasClass(className.active);\r\n          },\r\n          animatingInward: function() {\r\n            return $menu.transition('is inward');\r\n          },\r\n          animatingOutward: function() {\r\n            return $menu.transition('is outward');\r\n          },\r\n          bubbledLabelClick: function(event) {\r\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\r\n          },\r\n          bubbledIconClick: function(event) {\r\n            return $(event.target).closest($icon).length > 0;\r\n          },\r\n          alreadySetup: function() {\r\n            return ($module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0);\r\n          },\r\n          animating: function($subMenu) {\r\n            return ($subMenu)\r\n              ? $subMenu.transition && $subMenu.transition('is animating')\r\n              : $menu.transition    && $menu.transition('is animating')\r\n            ;\r\n          },\r\n          leftward: function($subMenu) {\r\n            var $selectedMenu = $subMenu || $menu;\r\n            return $selectedMenu.hasClass(className.leftward);\r\n          },\r\n          clearable: function() {\r\n            return ($module.hasClass(className.clearable) || settings.clearable);\r\n          },\r\n          disabled: function() {\r\n            return $module.hasClass(className.disabled);\r\n          },\r\n          focused: function() {\r\n            return (document.activeElement === $module[0]);\r\n          },\r\n          focusedOnSearch: function() {\r\n            return (document.activeElement === $search[0]);\r\n          },\r\n          allFiltered: function() {\r\n            return( (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered() );\r\n          },\r\n          hidden: function($subMenu) {\r\n            return !module.is.visible($subMenu);\r\n          },\r\n          initialLoad: function() {\r\n            return initialLoad;\r\n          },\r\n          inObject: function(needle, object) {\r\n            var\r\n              found = false\r\n            ;\r\n            $.each(object, function(index, property) {\r\n              if(property == needle) {\r\n                found = true;\r\n                return true;\r\n              }\r\n            });\r\n            return found;\r\n          },\r\n          multiple: function() {\r\n            return $module.hasClass(className.multiple);\r\n          },\r\n          remote: function() {\r\n            return settings.apiSettings && module.can.useAPI();\r\n          },\r\n          single: function() {\r\n            return !module.is.multiple();\r\n          },\r\n          selectMutation: function(mutations) {\r\n            var\r\n              selectChanged = false\r\n            ;\r\n            $.each(mutations, function(index, mutation) {\r\n              if($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\r\n                selectChanged = true;\r\n                return false;\r\n              }\r\n            });\r\n            return selectChanged;\r\n          },\r\n          search: function() {\r\n            return $module.hasClass(className.search);\r\n          },\r\n          searchSelection: function() {\r\n            return ( module.has.search() && $search.parent(selector.dropdown).length === 1 );\r\n          },\r\n          selection: function() {\r\n            return $module.hasClass(className.selection);\r\n          },\r\n          userValue: function(value) {\r\n            return ($.inArray(value, module.get.userValues()) !== -1);\r\n          },\r\n          upward: function($menu) {\r\n            var $element = $menu || $module;\r\n            return $element.hasClass(className.upward);\r\n          },\r\n          visible: function($subMenu) {\r\n            return ($subMenu)\r\n              ? $subMenu.hasClass(className.visible)\r\n              : $menu.hasClass(className.visible)\r\n            ;\r\n          },\r\n          verticallyScrollableContext: function() {\r\n            var\r\n              overflowY = ($context.get(0) !== window)\r\n                ? $context.css('overflow-y')\r\n                : false\r\n            ;\r\n            return (overflowY == 'auto' || overflowY == 'scroll');\r\n          },\r\n          horizontallyScrollableContext: function() {\r\n            var\r\n              overflowX = ($context.get(0) !== window)\r\n                ? $context.css('overflow-X')\r\n                : false\r\n            ;\r\n            return (overflowX == 'auto' || overflowX == 'scroll');\r\n          }\r\n        },\r\n\r\n        can: {\r\n          activate: function($item) {\r\n            if(settings.useLabels) {\r\n              return true;\r\n            }\r\n            if(!module.has.maxSelections()) {\r\n              return true;\r\n            }\r\n            if(module.has.maxSelections() && $item.hasClass(className.active)) {\r\n              return true;\r\n            }\r\n            return false;\r\n          },\r\n          openDownward: function($subMenu) {\r\n            var\r\n              $currentMenu    = $subMenu || $menu,\r\n              canOpenDownward = true,\r\n              onScreen        = {},\r\n              calculations\r\n            ;\r\n            $currentMenu\r\n              .addClass(className.loading)\r\n            ;\r\n            calculations = {\r\n              context: {\r\n                offset    : ($context.get(0) === window)\r\n                  ? { top: 0, left: 0}\r\n                  : $context.offset(),\r\n                scrollTop : $context.scrollTop(),\r\n                height    : $context.outerHeight()\r\n              },\r\n              menu : {\r\n                offset: $currentMenu.offset(),\r\n                height: $currentMenu.outerHeight()\r\n              }\r\n            };\r\n            if(module.is.verticallyScrollableContext()) {\r\n              calculations.menu.offset.top += calculations.context.scrollTop;\r\n            }\r\n            onScreen = {\r\n              above : (calculations.context.scrollTop) <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\r\n              below : (calculations.context.scrollTop + calculations.context.height) >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\r\n            };\r\n            if(onScreen.below) {\r\n              module.verbose('Dropdown can fit in context downward', onScreen);\r\n              canOpenDownward = true;\r\n            }\r\n            else if(!onScreen.below && !onScreen.above) {\r\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\r\n              canOpenDownward = true;\r\n            }\r\n            else {\r\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\r\n              canOpenDownward = false;\r\n            }\r\n            $currentMenu.removeClass(className.loading);\r\n            return canOpenDownward;\r\n          },\r\n          openRightward: function($subMenu) {\r\n            var\r\n              $currentMenu     = $subMenu || $menu,\r\n              canOpenRightward = true,\r\n              isOffscreenRight = false,\r\n              calculations\r\n            ;\r\n            $currentMenu\r\n              .addClass(className.loading)\r\n            ;\r\n            calculations = {\r\n              context: {\r\n                offset     : ($context.get(0) === window)\r\n                  ? { top: 0, left: 0}\r\n                  : $context.offset(),\r\n                scrollLeft : $context.scrollLeft(),\r\n                width      : $context.outerWidth()\r\n              },\r\n              menu: {\r\n                offset : $currentMenu.offset(),\r\n                width  : $currentMenu.outerWidth()\r\n              }\r\n            };\r\n            if(module.is.horizontallyScrollableContext()) {\r\n              calculations.menu.offset.left += calculations.context.scrollLeft;\r\n            }\r\n            isOffscreenRight = (calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width);\r\n            if(isOffscreenRight) {\r\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\r\n              canOpenRightward = false;\r\n            }\r\n            $currentMenu.removeClass(className.loading);\r\n            return canOpenRightward;\r\n          },\r\n          click: function() {\r\n            return (hasTouch || settings.on == 'click');\r\n          },\r\n          extendSelect: function() {\r\n            return settings.allowAdditions || settings.apiSettings;\r\n          },\r\n          show: function() {\r\n            return !module.is.disabled() && (module.has.items() || module.has.message());\r\n          },\r\n          useAPI: function() {\r\n            return $.fn.api !== undefined;\r\n          }\r\n        },\r\n\r\n        animate: {\r\n          show: function(callback, $subMenu) {\r\n            var\r\n              $currentMenu = $subMenu || $menu,\r\n              start = ($subMenu)\r\n                ? function() {}\r\n                : function() {\r\n                  module.hideSubMenus();\r\n                  module.hideOthers();\r\n                  module.set.active();\r\n                },\r\n              transition\r\n            ;\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            module.verbose('Doing menu show animation', $currentMenu);\r\n            module.set.direction($subMenu);\r\n            transition = module.get.transition($subMenu);\r\n            if( module.is.selection() ) {\r\n              module.set.scrollPosition(module.get.selectedItem(), true);\r\n            }\r\n            if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {\r\n              if(transition == 'none') {\r\n                start();\r\n                $currentMenu.transition('show');\r\n                callback.call(element);\r\n              }\r\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\r\n                $currentMenu\r\n                  .transition({\r\n                    animation  : transition + ' in',\r\n                    debug      : settings.debug,\r\n                    verbose    : settings.verbose,\r\n                    duration   : settings.duration,\r\n                    queue      : true,\r\n                    onStart    : start,\r\n                    onComplete : function() {\r\n                      callback.call(element);\r\n                    }\r\n                  })\r\n                ;\r\n              }\r\n              else {\r\n                module.error(error.noTransition, transition);\r\n              }\r\n            }\r\n          },\r\n          hide: function(callback, $subMenu) {\r\n            var\r\n              $currentMenu = $subMenu || $menu,\r\n              start = ($subMenu)\r\n                ? function() {}\r\n                : function() {\r\n                  if( module.can.click() ) {\r\n                    module.unbind.intent();\r\n                  }\r\n                  module.remove.active();\r\n                },\r\n              transition = module.get.transition($subMenu)\r\n            ;\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {\r\n              module.verbose('Doing menu hide animation', $currentMenu);\r\n\r\n              if(transition == 'none') {\r\n                start();\r\n                $currentMenu.transition('hide');\r\n                callback.call(element);\r\n              }\r\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\r\n                $currentMenu\r\n                  .transition({\r\n                    animation  : transition + ' out',\r\n                    duration   : settings.duration,\r\n                    debug      : settings.debug,\r\n                    verbose    : settings.verbose,\r\n                    queue      : false,\r\n                    onStart    : start,\r\n                    onComplete : function() {\r\n                      callback.call(element);\r\n                    }\r\n                  })\r\n                ;\r\n              }\r\n              else {\r\n                module.error(error.transition);\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        hideAndClear: function() {\r\n          module.remove.searchTerm();\r\n          if( module.has.maxSelections() ) {\r\n            return;\r\n          }\r\n          if(module.has.search()) {\r\n            module.hide(function() {\r\n              module.remove.filteredItem();\r\n            });\r\n          }\r\n          else {\r\n            module.hide();\r\n          }\r\n        },\r\n\r\n        delay: {\r\n          show: function() {\r\n            module.verbose('Delaying show event to ensure user intent');\r\n            clearTimeout(module.timer);\r\n            module.timer = setTimeout(module.show, settings.delay.show);\r\n          },\r\n          hide: function() {\r\n            module.verbose('Delaying hide event to ensure user intent');\r\n            clearTimeout(module.timer);\r\n            module.timer = setTimeout(module.hide, settings.delay.hide);\r\n          }\r\n        },\r\n\r\n        escape: {\r\n          value: function(value) {\r\n            var\r\n              multipleValues = Array.isArray(value),\r\n              stringValue    = (typeof value === 'string'),\r\n              isUnparsable   = (!stringValue && !multipleValues),\r\n              hasQuotes      = (stringValue && value.search(regExp.quote) !== -1),\r\n              values         = []\r\n            ;\r\n            if(isUnparsable || !hasQuotes) {\r\n              return value;\r\n            }\r\n            module.debug('Encoding quote values for use in select', value);\r\n            if(multipleValues) {\r\n              $.each(value, function(index, value){\r\n                values.push(value.replace(regExp.quote, '&quot;'));\r\n              });\r\n              return values;\r\n            }\r\n            return value.replace(regExp.quote, '&quot;');\r\n          },\r\n          string: function(text) {\r\n            text =  String(text);\r\n            return text.replace(regExp.escape, '\\\\$&');\r\n          },\r\n          htmlEntities: function(string) {\r\n              var\r\n                  badChars     = /[<>\"'`]/g,\r\n                  shouldEscape = /[&<>\"'`]/,\r\n                  escape       = {\r\n                      \"<\": \"&lt;\",\r\n                      \">\": \"&gt;\",\r\n                      '\"': \"&quot;\",\r\n                      \"'\": \"&#x27;\",\r\n                      \"`\": \"&#x60;\"\r\n                  },\r\n                  escapedChar  = function(chr) {\r\n                      return escape[chr];\r\n                  }\r\n              ;\r\n              if(shouldEscape.test(string)) {\r\n                  string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\r\n                  return string.replace(badChars, escapedChar);\r\n              }\r\n              return string;\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : $allModules\r\n  ;\r\n};\r\n\r\n$.fn.dropdown.settings = {\r\n\r\n  silent                 : false,\r\n  debug                  : false,\r\n  verbose                : false,\r\n  performance            : true,\r\n\r\n  on                     : 'click',    // what event should show menu action on item selection\r\n  action                 : 'activate', // action on item selection (nothing, activate, select, combo, hide, function(){})\r\n\r\n  values                 : false,      // specify values to use for dropdown\r\n\r\n  clearable              : false,      // whether the value of the dropdown can be cleared\r\n\r\n  apiSettings            : false,\r\n  selectOnKeydown        : true,       // Whether selection should occur automatically when keyboard shortcuts used\r\n  minCharacters          : 0,          // Minimum characters required to trigger API call\r\n\r\n  filterRemoteData       : false,      // Whether API results should be filtered after being returned for query term\r\n  saveRemoteData         : true,       // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\r\n\r\n  throttle               : 200,        // How long to wait after last user input to search remotely\r\n\r\n  context                : window,     // Context to use when determining if on screen\r\n  direction              : 'auto',     // Whether dropdown should always open in one direction\r\n  keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing\r\n\r\n  match                  : 'both',     // what to match against with search selection (both, text, or label)\r\n  fullTextSearch         : false,      // search anywhere in value (set to 'exact' to require exact matches)\r\n  ignoreDiacritics       : false,      // match results also if they contain diacritics of the same base character (for example searching for \"a\" will also match \"\" or \"\" or \"\", etc...)\r\n  hideDividers           : false,      // Whether to hide any divider elements (specified in selector.divider) that are sibling to any items when searched (set to true will hide all dividers, set to 'empty' will hide them when they are not followed by a visible item)\r\n\r\n  placeholder            : 'auto',     // whether to convert blank <select> values to placeholder text\r\n  preserveHTML           : true,       // preserve html when selecting value\r\n  sortSelect             : false,      // sort selection on init\r\n\r\n  forceSelection         : true,       // force a choice on blur with search selection\r\n\r\n  allowAdditions         : false,      // whether multiple select should allow user added values\r\n  ignoreCase             : false,      // whether to consider case sensitivity when creating labels\r\n  ignoreSearchCase       : true,       // whether to consider case sensitivity when filtering items\r\n  hideAdditions          : true,       // whether or not to hide special message prompting a user they can enter a value\r\n\r\n  maxSelections          : false,      // When set to a number limits the number of selections to this count\r\n  useLabels              : true,       // whether multiple select should filter currently active selections from choices\r\n  delimiter              : ',',        // when multiselect uses normal <input> the values will be delimited with this character\r\n\r\n  showOnFocus            : true,       // show menu on focus\r\n  allowReselection       : false,      // whether current value should trigger callbacks when reselected\r\n  allowTab               : true,       // add tabindex to element\r\n  allowCategorySelection : false,      // allow elements with sub-menus to be selected\r\n\r\n  fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values\r\n\r\n  transition             : 'auto',     // auto transition will slide down or up based on direction\r\n  duration               : 200,        // duration of transition\r\n\r\n  glyphWidth             : 1.037,      // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\r\n\r\n  headerDivider          : true,       // whether option headers should have an additional divider line underneath when converted from <select> <optgroup>\r\n\r\n  // label settings on multi-select\r\n  label: {\r\n    transition : 'scale',\r\n    duration   : 200,\r\n    variation  : false\r\n  },\r\n\r\n  // delay before event\r\n  delay : {\r\n    hide   : 300,\r\n    show   : 200,\r\n    search : 20,\r\n    touch  : 50\r\n  },\r\n\r\n  /* Callbacks */\r\n  onChange      : function(value, text, $selected){},\r\n  onAdd         : function(value, text, $selected){},\r\n  onRemove      : function(value, text, $selected){},\r\n\r\n  onLabelSelect : function($selectedLabels){},\r\n  onLabelCreate : function(value, text) { return $(this); },\r\n  onLabelRemove : function(value) { return true; },\r\n  onNoResults   : function(searchTerm) { return true; },\r\n  onShow        : function(){},\r\n  onHide        : function(){},\r\n\r\n  /* Component */\r\n  name           : 'Dropdown',\r\n  namespace      : 'dropdown',\r\n\r\n  message: {\r\n    addResult     : 'Add <b>{term}</b>',\r\n    count         : '{count} selected',\r\n    maxSelections : 'Max {maxCount} selections',\r\n    noResults     : 'No results found.',\r\n    serverError   : 'There was an error contacting the server'\r\n  },\r\n\r\n  error : {\r\n    action          : 'You called a dropdown action that was not defined',\r\n    alreadySetup    : 'Once a select has been initialized behaviors must be called on the created ui dropdown',\r\n    labels          : 'Allowing user additions currently requires the use of labels.',\r\n    missingMultiple : '<select> requires multiple property to be set to correctly preserve multiple values',\r\n    method          : 'The method you called is not defined.',\r\n    noAPI           : 'The API module is required to load resources remotely',\r\n    noStorage       : 'Saving remote data requires session storage',\r\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\r\n    noNormalize     : '\"ignoreDiacritics\" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'\r\n  },\r\n\r\n  regExp : {\r\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s:=@]/g,\r\n    quote    : /\"/g\r\n  },\r\n\r\n  metadata : {\r\n    defaultText     : 'defaultText',\r\n    defaultValue    : 'defaultValue',\r\n    placeholderText : 'placeholder',\r\n    text            : 'text',\r\n    value           : 'value'\r\n  },\r\n\r\n  // property names for remote query\r\n  fields: {\r\n    remoteValues : 'results',  // grouping for api results\r\n    values       : 'values',   // grouping for all dropdown values\r\n    disabled     : 'disabled', // whether value should be disabled\r\n    name         : 'name',     // displayed dropdown text\r\n    value        : 'value',    // actual dropdown value\r\n    text         : 'text',     // displayed text when selected\r\n    type         : 'type',     // type of dropdown element\r\n    image        : 'image',    // optional image path\r\n    imageClass   : 'imageClass', // optional individual class for image\r\n    icon         : 'icon',     // optional icon name\r\n    iconClass    : 'iconClass', // optional individual class for icon (for example to use flag instead)\r\n    class        : 'class',    // optional individual class for item/header\r\n    divider      : 'divider'   // optional divider append for group headers\r\n  },\r\n\r\n  keys : {\r\n    backspace  : 8,\r\n    delimiter  : 188, // comma\r\n    deleteKey  : 46,\r\n    enter      : 13,\r\n    escape     : 27,\r\n    pageUp     : 33,\r\n    pageDown   : 34,\r\n    leftArrow  : 37,\r\n    upArrow    : 38,\r\n    rightArrow : 39,\r\n    downArrow  : 40\r\n  },\r\n\r\n  selector : {\r\n    addition     : '.addition',\r\n    divider      : '.divider, .header',\r\n    dropdown     : '.ui.dropdown',\r\n    hidden       : '.hidden',\r\n    icon         : '> .dropdown.icon',\r\n    input        : '> input[type=\"hidden\"], > select',\r\n    item         : '.item',\r\n    label        : '> .label',\r\n    remove       : '> .label > .delete.icon',\r\n    siblingLabel : '.label',\r\n    menu         : '.menu',\r\n    message      : '.message',\r\n    menuIcon     : '.dropdown.icon',\r\n    search       : 'input.search, .menu > .search > input, .menu input.search',\r\n    sizer        : '> span.sizer',\r\n    text         : '> .text:not(.icon)',\r\n    unselectable : '.disabled, .filtered',\r\n    clearIcon    : '> .remove.icon'\r\n  },\r\n\r\n  className : {\r\n    active      : 'active',\r\n    addition    : 'addition',\r\n    animating   : 'animating',\r\n    disabled    : 'disabled',\r\n    empty       : 'empty',\r\n    dropdown    : 'ui dropdown',\r\n    filtered    : 'filtered',\r\n    hidden      : 'hidden transition',\r\n    icon        : 'icon',\r\n    image       : 'image',\r\n    item        : 'item',\r\n    label       : 'ui label',\r\n    loading     : 'loading',\r\n    menu        : 'menu',\r\n    message     : 'message',\r\n    multiple    : 'multiple',\r\n    placeholder : 'default',\r\n    sizer       : 'sizer',\r\n    search      : 'search',\r\n    selected    : 'selected',\r\n    selection   : 'selection',\r\n    upward      : 'upward',\r\n    leftward    : 'left',\r\n    visible     : 'visible',\r\n    clearable   : 'clearable',\r\n    noselection : 'noselection',\r\n    delete      : 'delete',\r\n    header      : 'header',\r\n    divider     : 'divider',\r\n    groupIcon   : '',\r\n    unfilterable : 'unfilterable'\r\n  }\r\n\r\n};\r\n\r\n/* Templates */\r\n$.fn.dropdown.settings.templates = {\r\n  deQuote: function(string) {\r\n      return String(string).replace(/\"/g,\"\");\r\n  },\r\n  escape: function(string, preserveHTML) {\r\n    if (preserveHTML){\r\n      return string;\r\n    }\r\n    var\r\n        badChars     = /[<>\"'`]/g,\r\n        shouldEscape = /[&<>\"'`]/,\r\n        escape       = {\r\n          \"<\": \"&lt;\",\r\n          \">\": \"&gt;\",\r\n          '\"': \"&quot;\",\r\n          \"'\": \"&#x27;\",\r\n          \"`\": \"&#x60;\"\r\n        },\r\n        escapedChar  = function(chr) {\r\n          return escape[chr];\r\n        }\r\n    ;\r\n    if(shouldEscape.test(string)) {\r\n      string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\r\n      return string.replace(badChars, escapedChar);\r\n    }\r\n    return string;\r\n  },\r\n  // generates dropdown from select values\r\n  dropdown: function(select, fields, preserveHTML, className) {\r\n    var\r\n      placeholder = select.placeholder || false,\r\n      html        = '',\r\n      escape = $.fn.dropdown.settings.templates.escape\r\n    ;\r\n    html +=  '<i class=\"dropdown icon\"></i>';\r\n    if(placeholder) {\r\n      html += '<div class=\"default text\">' + escape(placeholder,preserveHTML) + '</div>';\r\n    }\r\n    else {\r\n      html += '<div class=\"text\"></div>';\r\n    }\r\n    html += '<div class=\"'+className.menu+'\">';\r\n    html += $.fn.dropdown.settings.templates.menu(select, fields, preserveHTML,className);\r\n    html += '</div>';\r\n    return html;\r\n  },\r\n\r\n  // generates just menu from select\r\n  menu: function(response, fields, preserveHTML, className) {\r\n    var\r\n      values = response[fields.values] || [],\r\n      html   = '',\r\n      escape = $.fn.dropdown.settings.templates.escape,\r\n      deQuote = $.fn.dropdown.settings.templates.deQuote\r\n    ;\r\n    $.each(values, function(index, option) {\r\n      var\r\n        itemType = (option[fields.type])\r\n          ? option[fields.type]\r\n          : 'item'\r\n      ;\r\n\r\n      if( itemType === 'item' ) {\r\n        var\r\n          maybeText = (option[fields.text])\r\n            ? ' data-text=\"' + deQuote(option[fields.text]) + '\"'\r\n            : '',\r\n          maybeDisabled = (option[fields.disabled])\r\n            ? className.disabled+' '\r\n            : ''\r\n        ;\r\n        html += '<div class=\"'+ maybeDisabled + (option[fields.class] ? deQuote(option[fields.class]) : className.item)+'\" data-value=\"' + deQuote(option[fields.value]) + '\"' + maybeText + '>';\r\n        if(option[fields.image]) {\r\n          html += '<img class=\"'+(option[fields.imageClass] ? deQuote(option[fields.imageClass]) : className.image)+'\" src=\"' + deQuote(option[fields.image]) + '\">';\r\n        }\r\n        if(option[fields.icon]) {\r\n          html += '<i class=\"'+deQuote(option[fields.icon])+' '+(option[fields.iconClass] ? deQuote(option[fields.iconClass]) : className.icon)+'\"></i>';\r\n        }\r\n        html +=   escape(option[fields.name] || '', preserveHTML);\r\n        html += '</div>';\r\n      } else if (itemType === 'header') {\r\n        var groupName = escape(option[fields.name] || '', preserveHTML),\r\n            groupIcon = option[fields.icon] ? deQuote(option[fields.icon]) : className.groupIcon\r\n        ;\r\n        if(groupName !== '' || groupIcon !== '') {\r\n          html += '<div class=\"' + (option[fields.class] ? deQuote(option[fields.class]) : className.header) + '\">';\r\n          if (groupIcon !== '') {\r\n            html += '<i class=\"' + groupIcon + ' ' + (option[fields.iconClass] ? deQuote(option[fields.iconClass]) : className.icon) + '\"></i>';\r\n          }\r\n          html += groupName;\r\n          html += '</div>';\r\n        }\r\n        if(option[fields.divider]){\r\n          html += '<div class=\"'+className.divider+'\"></div>';\r\n        }\r\n      }\r\n    });\r\n    return html;\r\n  },\r\n\r\n  // generates label for multiselect\r\n  label: function(value, text, preserveHTML, className) {\r\n    var\r\n        escape = $.fn.dropdown.settings.templates.escape;\r\n    return escape(text,preserveHTML) + '<i class=\"'+className.delete+' icon\"></i>';\r\n  },\r\n\r\n\r\n  // generates messages like \"No results\"\r\n  message: function(message) {\r\n    return message;\r\n  },\r\n\r\n  // generates user addition to selection menu\r\n  addition: function(choice) {\r\n    return choice;\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Embed\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n\"use strict\";\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.embed = function(parameters) {\r\n\r\n  var\r\n    $allModules     = $(this),\r\n\r\n    moduleSelector  = $allModules.selector || '',\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.embed.settings, parameters)\r\n          : $.extend({}, $.fn.embed.settings),\r\n\r\n        selector        = settings.selector,\r\n        className       = settings.className,\r\n        sources         = settings.sources,\r\n        error           = settings.error,\r\n        metadata        = settings.metadata,\r\n        namespace       = settings.namespace,\r\n        templates       = settings.templates,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $placeholder    = $module.find(selector.placeholder),\r\n        $icon           = $module.find(selector.icon),\r\n        $embed          = $module.find(selector.embed),\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing embed');\r\n          module.determine.autoplay();\r\n          module.create();\r\n          module.bind.events();\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous instance of embed');\r\n          module.reset();\r\n          $module\r\n            .removeData(moduleNamespace)\r\n            .off(eventNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          module.verbose('Refreshing selector cache');\r\n          $placeholder = $module.find(selector.placeholder);\r\n          $icon        = $module.find(selector.icon);\r\n          $embed       = $module.find(selector.embed);\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            if( module.has.placeholder() ) {\r\n              module.debug('Adding placeholder events');\r\n              $module\r\n                .on('click' + eventNamespace, selector.placeholder, module.createAndShow)\r\n                .on('click' + eventNamespace, selector.icon, module.createAndShow)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        create: function() {\r\n          var\r\n            placeholder = module.get.placeholder()\r\n          ;\r\n          if(placeholder) {\r\n            module.createPlaceholder();\r\n          }\r\n          else {\r\n            module.createAndShow();\r\n          }\r\n        },\r\n\r\n        createPlaceholder: function(placeholder) {\r\n          var\r\n            icon  = module.get.icon(),\r\n            url   = module.get.url(),\r\n            embed = module.generate.embed(url)\r\n          ;\r\n          placeholder = placeholder || module.get.placeholder();\r\n          $module.html( templates.placeholder(placeholder, icon) );\r\n          module.debug('Creating placeholder for embed', placeholder, icon);\r\n        },\r\n\r\n        createEmbed: function(url) {\r\n          module.refresh();\r\n          url = url || module.get.url();\r\n          $embed = $('<div/>')\r\n            .addClass(className.embed)\r\n            .html( module.generate.embed(url) )\r\n            .appendTo($module)\r\n          ;\r\n          settings.onCreate.call(element, url);\r\n          module.debug('Creating embed object', $embed);\r\n        },\r\n\r\n        changeEmbed: function(url) {\r\n          $embed\r\n            .html( module.generate.embed(url) )\r\n          ;\r\n        },\r\n\r\n        createAndShow: function() {\r\n          module.createEmbed();\r\n          module.show();\r\n        },\r\n\r\n        // sets new embed\r\n        change: function(source, id, url) {\r\n          module.debug('Changing video to ', source, id, url);\r\n          $module\r\n            .data(metadata.source, source)\r\n            .data(metadata.id, id)\r\n          ;\r\n          if(url) {\r\n            $module.data(metadata.url, url);\r\n          }\r\n          else {\r\n            $module.removeData(metadata.url);\r\n          }\r\n          if(module.has.embed()) {\r\n            module.changeEmbed();\r\n          }\r\n          else {\r\n            module.create();\r\n          }\r\n        },\r\n\r\n        // clears embed\r\n        reset: function() {\r\n          module.debug('Clearing embed and showing placeholder');\r\n          module.remove.data();\r\n          module.remove.active();\r\n          module.remove.embed();\r\n          module.showPlaceholder();\r\n          settings.onReset.call(element);\r\n        },\r\n\r\n        // shows current embed\r\n        show: function() {\r\n          module.debug('Showing embed');\r\n          module.set.active();\r\n          settings.onDisplay.call(element);\r\n        },\r\n\r\n        hide: function() {\r\n          module.debug('Hiding embed');\r\n          module.showPlaceholder();\r\n        },\r\n\r\n        showPlaceholder: function() {\r\n          module.debug('Showing placeholder image');\r\n          module.remove.active();\r\n          settings.onPlaceholderDisplay.call(element);\r\n        },\r\n\r\n        get: {\r\n          id: function() {\r\n            return settings.id || $module.data(metadata.id);\r\n          },\r\n          placeholder: function() {\r\n            return settings.placeholder || $module.data(metadata.placeholder);\r\n          },\r\n          icon: function() {\r\n            return (settings.icon)\r\n              ? settings.icon\r\n              : ($module.data(metadata.icon) !== undefined)\r\n                ? $module.data(metadata.icon)\r\n                : module.determine.icon()\r\n            ;\r\n          },\r\n          source: function(url) {\r\n            return (settings.source)\r\n              ? settings.source\r\n              : ($module.data(metadata.source) !== undefined)\r\n                ? $module.data(metadata.source)\r\n                : module.determine.source()\r\n            ;\r\n          },\r\n          type: function() {\r\n            var source = module.get.source();\r\n            return (sources[source] !== undefined)\r\n              ? sources[source].type\r\n              : false\r\n            ;\r\n          },\r\n          url: function() {\r\n            return (settings.url)\r\n              ? settings.url\r\n              : ($module.data(metadata.url) !== undefined)\r\n                ? $module.data(metadata.url)\r\n                : module.determine.url()\r\n            ;\r\n          }\r\n        },\r\n\r\n        determine: {\r\n          autoplay: function() {\r\n            if(module.should.autoplay()) {\r\n              settings.autoplay = true;\r\n            }\r\n          },\r\n          source: function(url) {\r\n            var\r\n              matchedSource = false\r\n            ;\r\n            url = url || module.get.url();\r\n            if(url) {\r\n              $.each(sources, function(name, source) {\r\n                if(url.search(source.domain) !== -1) {\r\n                  matchedSource = name;\r\n                  return false;\r\n                }\r\n              });\r\n            }\r\n            return matchedSource;\r\n          },\r\n          icon: function() {\r\n            var\r\n              source = module.get.source()\r\n            ;\r\n            return (sources[source] !== undefined)\r\n              ? sources[source].icon\r\n              : false\r\n            ;\r\n          },\r\n          url: function() {\r\n            var\r\n              id     = settings.id     || $module.data(metadata.id),\r\n              source = settings.source || $module.data(metadata.source),\r\n              url\r\n            ;\r\n            url = (sources[source] !== undefined)\r\n              ? sources[source].url.replace('{id}', id)\r\n              : false\r\n            ;\r\n            if(url) {\r\n              $module.data(metadata.url, url);\r\n            }\r\n            return url;\r\n          }\r\n        },\r\n\r\n\r\n        set: {\r\n          active: function() {\r\n            $module.addClass(className.active);\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          data: function() {\r\n            $module\r\n              .removeData(metadata.id)\r\n              .removeData(metadata.icon)\r\n              .removeData(metadata.placeholder)\r\n              .removeData(metadata.source)\r\n              .removeData(metadata.url)\r\n            ;\r\n          },\r\n          active: function() {\r\n            $module.removeClass(className.active);\r\n          },\r\n          embed: function() {\r\n            $embed.empty();\r\n          }\r\n        },\r\n\r\n        encode: {\r\n          parameters: function(parameters) {\r\n            var\r\n              urlString = [],\r\n              index\r\n            ;\r\n            for (index in parameters) {\r\n              urlString.push( encodeURIComponent(index) + '=' + encodeURIComponent( parameters[index] ) );\r\n            }\r\n            return urlString.join('&amp;');\r\n          }\r\n        },\r\n\r\n        generate: {\r\n          embed: function(url) {\r\n            module.debug('Generating embed html');\r\n            var\r\n              source = module.get.source(),\r\n              html,\r\n              parameters\r\n            ;\r\n            url = module.get.url(url);\r\n            if(url) {\r\n              parameters = module.generate.parameters(source);\r\n              html       = templates.iframe(url, parameters);\r\n            }\r\n            else {\r\n              module.error(error.noURL, $module);\r\n            }\r\n            return html;\r\n          },\r\n          parameters: function(source, extraParameters) {\r\n            var\r\n              parameters = (sources[source] && sources[source].parameters !== undefined)\r\n                ? sources[source].parameters(settings)\r\n                : {}\r\n            ;\r\n            extraParameters = extraParameters || settings.parameters;\r\n            if(extraParameters) {\r\n              parameters = $.extend({}, parameters, extraParameters);\r\n            }\r\n            parameters = settings.onEmbed(parameters);\r\n            return module.encode.parameters(parameters);\r\n          }\r\n        },\r\n\r\n        has: {\r\n          embed: function() {\r\n            return ($embed.length > 0);\r\n          },\r\n          placeholder: function() {\r\n            return settings.placeholder || $module.data(metadata.placeholder);\r\n          }\r\n        },\r\n\r\n        should: {\r\n          autoplay: function() {\r\n            return (settings.autoplay === 'auto')\r\n              ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)\r\n              : settings.autoplay\r\n            ;\r\n          }\r\n        },\r\n\r\n        is: {\r\n          video: function() {\r\n            return module.get.type() == 'video';\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.embed.settings = {\r\n\r\n  name        : 'Embed',\r\n  namespace   : 'embed',\r\n\r\n  silent      : false,\r\n  debug       : false,\r\n  verbose     : false,\r\n  performance : true,\r\n\r\n  icon     : false,\r\n  source   : false,\r\n  url      : false,\r\n  id       : false,\r\n\r\n  // standard video settings\r\n  autoplay  : 'auto',\r\n  color     : '#444444',\r\n  hd        : true,\r\n  brandedUI : false,\r\n\r\n  // additional parameters to include with the embed\r\n  parameters: false,\r\n\r\n  onDisplay            : function() {},\r\n  onPlaceholderDisplay : function() {},\r\n  onReset              : function() {},\r\n  onCreate             : function(url) {},\r\n  onEmbed              : function(parameters) {\r\n    return parameters;\r\n  },\r\n\r\n  metadata    : {\r\n    id          : 'id',\r\n    icon        : 'icon',\r\n    placeholder : 'placeholder',\r\n    source      : 'source',\r\n    url         : 'url'\r\n  },\r\n\r\n  error : {\r\n    noURL  : 'No URL specified',\r\n    method : 'The method you called is not defined'\r\n  },\r\n\r\n  className : {\r\n    active : 'active',\r\n    embed  : 'embed'\r\n  },\r\n\r\n  selector : {\r\n    embed       : '.embed',\r\n    placeholder : '.placeholder',\r\n    icon        : '.icon'\r\n  },\r\n\r\n  sources: {\r\n    youtube: {\r\n      name   : 'youtube',\r\n      type   : 'video',\r\n      icon   : 'video play',\r\n      domain : 'youtube.com',\r\n      url    : '//www.youtube.com/embed/{id}',\r\n      parameters: function(settings) {\r\n        return {\r\n          autohide       : !settings.brandedUI,\r\n          autoplay       : settings.autoplay,\r\n          color          : settings.color || undefined,\r\n          hq             : settings.hd,\r\n          jsapi          : settings.api,\r\n          modestbranding : !settings.brandedUI\r\n        };\r\n      }\r\n    },\r\n    vimeo: {\r\n      name   : 'vimeo',\r\n      type   : 'video',\r\n      icon   : 'video play',\r\n      domain : 'vimeo.com',\r\n      url    : '//player.vimeo.com/video/{id}',\r\n      parameters: function(settings) {\r\n        return {\r\n          api      : settings.api,\r\n          autoplay : settings.autoplay,\r\n          byline   : settings.brandedUI,\r\n          color    : settings.color || undefined,\r\n          portrait : settings.brandedUI,\r\n          title    : settings.brandedUI\r\n        };\r\n      }\r\n    }\r\n  },\r\n\r\n  templates: {\r\n    iframe : function(url, parameters) {\r\n      var src = url;\r\n      if (parameters) {\r\n          src += '?' + parameters;\r\n      }\r\n      return ''\r\n        + '<iframe src=\"' + src + '\"'\r\n        + ' width=\"100%\" height=\"100%\"'\r\n        + ' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'\r\n      ;\r\n    },\r\n    placeholder : function(image, icon) {\r\n      var\r\n        html = ''\r\n      ;\r\n      if(icon) {\r\n        html += '<i class=\"' + icon + ' icon\"></i>';\r\n      }\r\n      if(image) {\r\n        html += '<img class=\"placeholder\" src=\"' + image + '\">';\r\n      }\r\n      return html;\r\n    }\r\n  },\r\n\r\n  // NOT YET IMPLEMENTED\r\n  api     : false,\r\n  onPause : function() {},\r\n  onPlay  : function() {},\r\n  onStop  : function() {}\r\n\r\n};\r\n\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Modal\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.modal = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    $window        = $(window),\r\n    $document      = $(document),\r\n    $body          = $('body'),\r\n\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n\r\n    requestAnimationFrame = window.requestAnimationFrame\r\n      || window.mozRequestAnimationFrame\r\n      || window.webkitRequestAnimationFrame\r\n      || window.msRequestAnimationFrame\r\n      || function(callback) { setTimeout(callback, 0); },\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings    = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.modal.settings, parameters)\r\n          : $.extend({}, $.fn.modal.settings),\r\n\r\n        selector        = settings.selector,\r\n        className       = settings.className,\r\n        namespace       = settings.namespace,\r\n        error           = settings.error,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $context        = $(settings.context),\r\n        $close          = $module.find(selector.close),\r\n\r\n        $allModals,\r\n        $otherModals,\r\n        $focusedElement,\r\n        $dimmable,\r\n        $dimmer,\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        ignoreRepeatedEvents = false,\r\n\r\n        initialMouseDownInModal,\r\n        initialMouseDownInScrollbar,\r\n        initialBodyMargin = '',\r\n        tempBodyMargin = '',\r\n\r\n        elementEventNamespace,\r\n        id,\r\n        observer,\r\n        module\r\n      ;\r\n      module  = {\r\n\r\n        initialize: function() {\r\n          module.cache = {};\r\n          module.verbose('Initializing dimmer', $context);\r\n\r\n          module.create.id();\r\n          module.create.dimmer();\r\n\r\n          if ( settings.allowMultiple ) {\r\n            module.create.innerDimmer();\r\n          }\r\n          if (!settings.centered){\r\n            $module.addClass('top aligned');\r\n          }\r\n          module.refreshModals();\r\n\r\n          module.bind.events();\r\n          if(settings.observeChanges) {\r\n            module.observeChanges();\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of modal');\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        create: {\r\n          dimmer: function() {\r\n            var\r\n              defaultSettings = {\r\n                debug      : settings.debug,\r\n                dimmerName : 'modals'\r\n              },\r\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\r\n            ;\r\n            if($.fn.dimmer === undefined) {\r\n              module.error(error.dimmer);\r\n              return;\r\n            }\r\n            module.debug('Creating dimmer');\r\n            $dimmable = $context.dimmer(dimmerSettings);\r\n            if(settings.detachable) {\r\n              module.verbose('Modal is detachable, moving content into dimmer');\r\n              $dimmable.dimmer('add content', $module);\r\n            }\r\n            else {\r\n              module.set.undetached();\r\n            }\r\n            $dimmer = $dimmable.dimmer('get dimmer');\r\n          },\r\n          id: function() {\r\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\r\n            elementEventNamespace = '.' + id;\r\n            module.verbose('Creating unique id for element', id);\r\n          },\r\n          innerDimmer: function() {\r\n            if ( $module.find(selector.dimmer).length == 0 ) {\r\n              $module.prepend('<div class=\"ui inverted dimmer\"></div>');\r\n            }\r\n          }\r\n        },\r\n\r\n        destroy: function() {\r\n          if (observer) {\r\n            observer.disconnect();\r\n          }\r\n          module.verbose('Destroying previous modal');\r\n          $module\r\n            .removeData(moduleNamespace)\r\n            .off(eventNamespace)\r\n          ;\r\n          $window.off(elementEventNamespace);\r\n          $dimmer.off(elementEventNamespace);\r\n          $close.off(eventNamespace);\r\n          $context.dimmer('destroy');\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            observer = new MutationObserver(function(mutations) {\r\n              module.debug('DOM tree modified, refreshing');\r\n              module.refresh();\r\n            });\r\n            observer.observe(element, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            module.debug('Setting up mutation observer', observer);\r\n          }\r\n        },\r\n\r\n        refresh: function() {\r\n          module.remove.scrolling();\r\n          module.cacheSizes();\r\n          if(!module.can.useFlex()) {\r\n            module.set.modalOffset();\r\n          }\r\n          module.set.screenHeight();\r\n          module.set.type();\r\n        },\r\n\r\n        refreshModals: function() {\r\n          $otherModals = $module.siblings(selector.modal);\r\n          $allModals   = $otherModals.add($module);\r\n        },\r\n\r\n        attachEvents: function(selector, event) {\r\n          var\r\n            $toggle = $(selector)\r\n          ;\r\n          event = $.isFunction(module[event])\r\n            ? module[event]\r\n            : module.toggle\r\n          ;\r\n          if($toggle.length > 0) {\r\n            module.debug('Attaching modal events to element', selector, event);\r\n            $toggle\r\n              .off(eventNamespace)\r\n              .on('click' + eventNamespace, event)\r\n            ;\r\n          }\r\n          else {\r\n            module.error(error.notFound, selector);\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.verbose('Attaching events');\r\n            $module\r\n              .on('click' + eventNamespace, selector.close, module.event.close)\r\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\r\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\r\n            ;\r\n            $window\r\n              .on('resize' + elementEventNamespace, module.event.resize)\r\n            ;\r\n          },\r\n          scrollLock: function() {\r\n            // touch events default to passive, due to changes in chrome to optimize mobile perf\r\n            $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, { passive: false });\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          scrollLock: function() {\r\n            $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, { passive: false });\r\n          }\r\n        },\r\n\r\n        get: {\r\n          id: function() {\r\n            return (Math.random().toString(16) + '000000000').substr(2, 8);\r\n          }\r\n        },\r\n\r\n        event: {\r\n          approve: function() {\r\n            if(ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\r\n              module.verbose('Approve callback returned false cancelling hide');\r\n              return;\r\n            }\r\n            ignoreRepeatedEvents = true;\r\n            module.hide(function() {\r\n              ignoreRepeatedEvents = false;\r\n            });\r\n          },\r\n          preventScroll: function(event) {\r\n            if(event.target.className.indexOf('dimmer') !== -1) {\r\n              event.preventDefault();\r\n            }\r\n          },\r\n          deny: function() {\r\n            if(ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\r\n              module.verbose('Deny callback returned false cancelling hide');\r\n              return;\r\n            }\r\n            ignoreRepeatedEvents = true;\r\n            module.hide(function() {\r\n              ignoreRepeatedEvents = false;\r\n            });\r\n          },\r\n          close: function() {\r\n            module.hide();\r\n          },\r\n          mousedown: function(event) {\r\n            var\r\n              $target   = $(event.target),\r\n              isRtl = module.is.rtl();\r\n            ;\r\n            initialMouseDownInModal = ($target.closest(selector.modal).length > 0);\r\n            if(initialMouseDownInModal) {\r\n              module.verbose('Mouse down event registered inside the modal');\r\n            }\r\n            initialMouseDownInScrollbar = module.is.scrolling() && ((!isRtl && $(window).outerWidth() - settings.scrollbarWidth <= event.clientX) || (isRtl && settings.scrollbarWidth >= event.clientX));\r\n            if(initialMouseDownInScrollbar) {\r\n              module.verbose('Mouse down event registered inside the scrollbar');\r\n            }\r\n          },\r\n          mouseup: function(event) {\r\n            if(!settings.closable) {\r\n              module.verbose('Dimmer clicked but closable setting is disabled');\r\n              return;\r\n            }\r\n            if(initialMouseDownInModal) {\r\n              module.debug('Dimmer clicked but mouse down was initially registered inside the modal');\r\n              return;\r\n            }\r\n            if(initialMouseDownInScrollbar){\r\n              module.debug('Dimmer clicked but mouse down was initially registered inside the scrollbar');\r\n              return;\r\n            }\r\n            var\r\n              $target   = $(event.target),\r\n              isInModal = ($target.closest(selector.modal).length > 0),\r\n              isInDOM   = $.contains(document.documentElement, event.target)\r\n            ;\r\n            if(!isInModal && isInDOM && module.is.active() && $module.hasClass(className.front) ) {\r\n              module.debug('Dimmer clicked, hiding all modals');\r\n              if(settings.allowMultiple) {\r\n                if(!module.hideAll()) {\r\n                  return;\r\n                }\r\n              }\r\n              else if(!module.hide()){\r\n                  return;\r\n              }\r\n              module.remove.clickaway();\r\n            }\r\n          },\r\n          debounce: function(method, delay) {\r\n            clearTimeout(module.timer);\r\n            module.timer = setTimeout(method, delay);\r\n          },\r\n          keyboard: function(event) {\r\n            var\r\n              keyCode   = event.which,\r\n              escapeKey = 27\r\n            ;\r\n            if(keyCode == escapeKey) {\r\n              if(settings.closable) {\r\n                module.debug('Escape key pressed hiding modal');\r\n                if ( $module.hasClass(className.front) ) {\r\n                  module.hide();\r\n                }\r\n              }\r\n              else {\r\n                module.debug('Escape key pressed, but closable is set to false');\r\n              }\r\n              event.preventDefault();\r\n            }\r\n          },\r\n          resize: function() {\r\n            if( $dimmable.dimmer('is active') && ( module.is.animating() || module.is.active() ) ) {\r\n              requestAnimationFrame(module.refresh);\r\n            }\r\n          }\r\n        },\r\n\r\n        toggle: function() {\r\n          if( module.is.active() || module.is.animating() ) {\r\n            module.hide();\r\n          }\r\n          else {\r\n            module.show();\r\n          }\r\n        },\r\n\r\n        show: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          module.refreshModals();\r\n          module.set.dimmerSettings();\r\n          module.set.dimmerStyles();\r\n\r\n          module.showModal(callback);\r\n        },\r\n\r\n        hide: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          module.refreshModals();\r\n          return module.hideModal(callback);\r\n        },\r\n\r\n        showModal: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if( module.is.animating() || !module.is.active() ) {\r\n            module.showDimmer();\r\n            module.cacheSizes();\r\n            module.set.bodyMargin();\r\n            if(module.can.useFlex()) {\r\n              module.remove.legacy();\r\n            }\r\n            else {\r\n              module.set.legacy();\r\n              module.set.modalOffset();\r\n              module.debug('Using non-flex legacy modal positioning.');\r\n            }\r\n            module.set.screenHeight();\r\n            module.set.type();\r\n            module.set.clickaway();\r\n\r\n            if( !settings.allowMultiple && module.others.active() ) {\r\n              module.hideOthers(module.showModal);\r\n            }\r\n            else {\r\n              ignoreRepeatedEvents = false;\r\n              if( settings.allowMultiple ) {\r\n                if ( module.others.active() ) {\r\n                  $otherModals.filter('.' + className.active).find(selector.dimmer).addClass('active');\r\n                }\r\n\r\n                if ( settings.detachable ) {\r\n                  $module.detach().appendTo($dimmer);\r\n                }\r\n              }\r\n              settings.onShow.call(element);\r\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\r\n                module.debug('Showing modal with css animations');\r\n                $module\r\n                  .transition({\r\n                    debug       : settings.debug,\r\n                    animation   : settings.transition + ' in',\r\n                    queue       : settings.queue,\r\n                    duration    : settings.duration,\r\n                    useFailSafe : true,\r\n                    onComplete : function() {\r\n                      settings.onVisible.apply(element);\r\n                      if(settings.keyboardShortcuts) {\r\n                        module.add.keyboardShortcuts();\r\n                      }\r\n                      module.save.focus();\r\n                      module.set.active();\r\n                      if(settings.autofocus) {\r\n                        module.set.autofocus();\r\n                      }\r\n                      callback();\r\n                    }\r\n                  })\r\n                ;\r\n              }\r\n              else {\r\n                module.error(error.noTransition);\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            module.debug('Modal is already visible');\r\n          }\r\n        },\r\n\r\n        hideModal: function(callback, keepDimmed, hideOthersToo) {\r\n          var\r\n            $previousModal = $otherModals.filter('.' + className.active).last()\r\n          ;\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          module.debug('Hiding modal');\r\n          if(settings.onHide.call(element, $(this)) === false) {\r\n            module.verbose('Hide callback returned false cancelling hide');\r\n            ignoreRepeatedEvents = false;\r\n            return false;\r\n          }\r\n\r\n          if( module.is.animating() || module.is.active() ) {\r\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\r\n              module.remove.active();\r\n              $module\r\n                .transition({\r\n                  debug       : settings.debug,\r\n                  animation   : settings.transition + ' out',\r\n                  queue       : settings.queue,\r\n                  duration    : settings.duration,\r\n                  useFailSafe : true,\r\n                  onStart     : function() {\r\n                    if(!module.others.active() && !module.others.animating() && !keepDimmed) {\r\n                      module.hideDimmer();\r\n                    }\r\n                    if( settings.keyboardShortcuts && !module.others.active() ) {\r\n                      module.remove.keyboardShortcuts();\r\n                    }\r\n                  },\r\n                  onComplete : function() {\r\n                    module.unbind.scrollLock();\r\n                    if ( settings.allowMultiple ) {\r\n                      $previousModal.addClass(className.front);\r\n                      $module.removeClass(className.front);\r\n\r\n                      if ( hideOthersToo ) {\r\n                        $allModals.find(selector.dimmer).removeClass('active');\r\n                      }\r\n                      else {\r\n                        $previousModal.find(selector.dimmer).removeClass('active');\r\n                      }\r\n                    }\r\n                    settings.onHidden.call(element);\r\n                    module.remove.dimmerStyles();\r\n                    module.restore.focus();\r\n                    callback();\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.error(error.noTransition);\r\n            }\r\n          }\r\n        },\r\n\r\n        showDimmer: function() {\r\n          if($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active') ) {\r\n            module.save.bodyMargin();\r\n            module.debug('Showing dimmer');\r\n            $dimmable.dimmer('show');\r\n          }\r\n          else {\r\n            module.debug('Dimmer already visible');\r\n          }\r\n        },\r\n\r\n        hideDimmer: function() {\r\n          if( $dimmable.dimmer('is animating') || ($dimmable.dimmer('is active')) ) {\r\n            module.unbind.scrollLock();\r\n            $dimmable.dimmer('hide', function() {\r\n              module.restore.bodyMargin();\r\n              module.remove.clickaway();\r\n              module.remove.screenHeight();\r\n            });\r\n          }\r\n          else {\r\n            module.debug('Dimmer is not visible cannot hide');\r\n            return;\r\n          }\r\n        },\r\n\r\n        hideAll: function(callback) {\r\n          var\r\n            $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating)\r\n          ;\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if( $visibleModals.length > 0 ) {\r\n            module.debug('Hiding all visible modals');\r\n            var hideOk = true;\r\n//check in reverse order trying to hide most top displayed modal first\r\n            $($visibleModals.get().reverse()).each(function(index,element){\r\n                if(hideOk){\r\n                    hideOk = $(element).modal('hide modal', callback, false, true);\r\n                }\r\n            });\r\n            if(hideOk) {\r\n              module.hideDimmer();\r\n            }\r\n            return hideOk;\r\n          }\r\n        },\r\n\r\n        hideOthers: function(callback) {\r\n          var\r\n            $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating)\r\n          ;\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if( $visibleModals.length > 0 ) {\r\n            module.debug('Hiding other modals', $otherModals);\r\n            $visibleModals\r\n              .modal('hide modal', callback, true)\r\n            ;\r\n          }\r\n        },\r\n\r\n        others: {\r\n          active: function() {\r\n            return ($otherModals.filter('.' + className.active).length > 0);\r\n          },\r\n          animating: function() {\r\n            return ($otherModals.filter('.' + className.animating).length > 0);\r\n          }\r\n        },\r\n\r\n\r\n        add: {\r\n          keyboardShortcuts: function() {\r\n            module.verbose('Adding keyboard shortcuts');\r\n            $document\r\n              .on('keyup' + eventNamespace, module.event.keyboard)\r\n            ;\r\n          }\r\n        },\r\n\r\n        save: {\r\n          focus: function() {\r\n            var\r\n              $activeElement = $(document.activeElement),\r\n              inCurrentModal = $activeElement.closest($module).length > 0\r\n            ;\r\n            if(!inCurrentModal) {\r\n              $focusedElement = $(document.activeElement).blur();\r\n            }\r\n          },\r\n          bodyMargin: function() {\r\n            initialBodyMargin = $body.css('margin-'+(module.can.leftBodyScrollbar() ? 'left':'right'));\r\n            var bodyMarginRightPixel = parseInt(initialBodyMargin.replace(/[^\\d.]/g, '')),\r\n                bodyScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n            tempBodyMargin = bodyMarginRightPixel + bodyScrollbarWidth;\r\n          }\r\n        },\r\n\r\n        restore: {\r\n          focus: function() {\r\n            if($focusedElement && $focusedElement.length > 0 && settings.restoreFocus) {\r\n              $focusedElement.focus();\r\n            }\r\n          },\r\n          bodyMargin: function() {\r\n            var position = module.can.leftBodyScrollbar() ? 'left':'right';\r\n            $body.css('margin-'+position, initialBodyMargin);\r\n            $body.find(selector.bodyFixed.replace('right',position)).css('padding-'+position, initialBodyMargin);\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          active: function() {\r\n            $module.removeClass(className.active);\r\n          },\r\n          legacy: function() {\r\n            $module.removeClass(className.legacy);\r\n          },\r\n          clickaway: function() {\r\n            if (!settings.detachable) {\r\n              $module\r\n                  .off('mousedown' + elementEventNamespace)\r\n              ;\r\n            }           \r\n            $dimmer\r\n              .off('mousedown' + elementEventNamespace)\r\n            ;\r\n            $dimmer\r\n              .off('mouseup' + elementEventNamespace)\r\n            ;\r\n          },\r\n          dimmerStyles: function() {\r\n            $dimmer.removeClass(className.inverted);\r\n            $dimmable.removeClass(className.blurring);\r\n          },\r\n          bodyStyle: function() {\r\n            if($body.attr('style') === '') {\r\n              module.verbose('Removing style attribute');\r\n              $body.removeAttr('style');\r\n            }\r\n          },\r\n          screenHeight: function() {\r\n            module.debug('Removing page height');\r\n            $body\r\n              .css('height', '')\r\n            ;\r\n          },\r\n          keyboardShortcuts: function() {\r\n            module.verbose('Removing keyboard shortcuts');\r\n            $document\r\n              .off('keyup' + eventNamespace)\r\n            ;\r\n          },\r\n          scrolling: function() {\r\n            $dimmable.removeClass(className.scrolling);\r\n            $module.removeClass(className.scrolling);\r\n          }\r\n        },\r\n\r\n        cacheSizes: function() {\r\n          $module.addClass(className.loading);\r\n          var\r\n            scrollHeight = $module.prop('scrollHeight'),\r\n            modalWidth   = $module.outerWidth(),\r\n            modalHeight  = $module.outerHeight()\r\n          ;\r\n          if(module.cache.pageHeight === undefined || modalHeight !== 0) {\r\n            $.extend(module.cache, {\r\n              pageHeight    : $(document).outerHeight(),\r\n              width         : modalWidth,\r\n              height        : modalHeight + settings.offset,\r\n              scrollHeight  : scrollHeight + settings.offset,\r\n              contextHeight : (settings.context == 'body')\r\n                ? $(window).height()\r\n                : $dimmable.height(),\r\n            });\r\n            module.cache.topOffset = -(module.cache.height / 2);\r\n          }\r\n          $module.removeClass(className.loading);\r\n          module.debug('Caching modal and container sizes', module.cache);\r\n        },\r\n\r\n        can: {\r\n          leftBodyScrollbar: function(){\r\n            if(module.cache.leftBodyScrollbar === undefined) {\r\n              module.cache.leftBodyScrollbar = module.is.rtl() && ((module.is.iframe && !module.is.firefox()) || module.is.safari() || module.is.edge() || module.is.ie());\r\n            }\r\n            return module.cache.leftBodyScrollbar;\r\n          },\r\n          useFlex: function() {\r\n            if (settings.useFlex === 'auto') {\r\n              return settings.detachable && !module.is.ie();\r\n            }\r\n            if(settings.useFlex && module.is.ie()) {\r\n              module.debug('useFlex true is not supported in IE');\r\n            } else if(settings.useFlex && !settings.detachable) {\r\n              module.debug('useFlex true in combination with detachable false is not supported');\r\n            }\r\n            return settings.useFlex;\r\n          },\r\n          fit: function() {\r\n            var\r\n              contextHeight  = module.cache.contextHeight,\r\n              verticalCenter = module.cache.contextHeight / 2,\r\n              topOffset      = module.cache.topOffset,\r\n              scrollHeight   = module.cache.scrollHeight,\r\n              height         = module.cache.height,\r\n              paddingHeight  = settings.padding,\r\n              startPosition  = (verticalCenter + topOffset)\r\n            ;\r\n            return (scrollHeight > height)\r\n              ? (startPosition + scrollHeight + paddingHeight < contextHeight)\r\n              : (height + (paddingHeight * 2) < contextHeight)\r\n            ;\r\n          }\r\n        },\r\n\r\n        is: {\r\n          active: function() {\r\n            return $module.hasClass(className.active);\r\n          },\r\n          ie: function() {\r\n            if(module.cache.isIE === undefined) {\r\n              var\r\n                  isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\r\n                  isIE = ('ActiveXObject' in window)\r\n              ;\r\n              module.cache.isIE = (isIE11 || isIE);\r\n            }\r\n            return module.cache.isIE;\r\n          },\r\n          animating: function() {\r\n            return $module.transition('is supported')\r\n              ? $module.transition('is animating')\r\n              : $module.is(':visible')\r\n            ;\r\n          },\r\n          scrolling: function() {\r\n            return $dimmable.hasClass(className.scrolling);\r\n          },\r\n          modernBrowser: function() {\r\n            // appName for IE11 reports 'Netscape' can no longer use\r\n            return !(window.ActiveXObject || 'ActiveXObject' in window);\r\n          },\r\n          rtl: function() {\r\n            if(module.cache.isRTL === undefined) {\r\n              module.cache.isRTL = $body.attr('dir') === 'rtl' || $body.css('direction') === 'rtl';\r\n            }\r\n            return module.cache.isRTL;\r\n          },\r\n          safari: function() {\r\n            if(module.cache.isSafari === undefined) {\r\n              module.cache.isSafari = /constructor/i.test(window.HTMLElement) || !!window.ApplePaySession;\r\n            }\r\n            return module.cache.isSafari;\r\n          },\r\n          edge: function(){\r\n            if(module.cache.isEdge === undefined) {\r\n              module.cache.isEdge = !!window.setImmediate && !module.is.ie();\r\n            }\r\n            return module.cache.isEdge;\r\n          },\r\n          firefox: function(){\r\n            if(module.cache.isFirefox === undefined) {\r\n                module.cache.isFirefox = !!window.InstallTrigger;\r\n            }\r\n            return module.cache.isFirefox;\r\n          },\r\n          iframe: function() {\r\n              return !(self === top);\r\n          }\r\n        },\r\n\r\n        set: {\r\n          autofocus: function() {\r\n            var\r\n              $inputs    = $module.find('[tabindex], :input').filter(':visible').filter(function() {\r\n                return $(this).closest('.disabled').length === 0;\r\n              }),\r\n              $autofocus = $inputs.filter('[autofocus]'),\r\n              $input     = ($autofocus.length > 0)\r\n                ? $autofocus.first()\r\n                : $inputs.first()\r\n            ;\r\n            if($input.length > 0) {\r\n              $input.focus();\r\n            }\r\n          },\r\n          bodyMargin: function() {\r\n            var position = module.can.leftBodyScrollbar() ? 'left':'right';\r\n            if(settings.detachable || module.can.fit()) {\r\n              $body.css('margin-'+position, tempBodyMargin + 'px');\r\n            }\r\n            $body.find(selector.bodyFixed.replace('right',position)).css('padding-'+position, tempBodyMargin + 'px');\r\n          },\r\n          clickaway: function() {\r\n            if (!settings.detachable) {\r\n              $module\r\n                .on('mousedown' + elementEventNamespace, module.event.mousedown)\r\n              ;\r\n            }\r\n            $dimmer\r\n              .on('mousedown' + elementEventNamespace, module.event.mousedown)\r\n            ;\r\n            $dimmer\r\n              .on('mouseup' + elementEventNamespace, module.event.mouseup)\r\n            ;\r\n          },\r\n          dimmerSettings: function() {\r\n            if($.fn.dimmer === undefined) {\r\n              module.error(error.dimmer);\r\n              return;\r\n            }\r\n            var\r\n              defaultSettings = {\r\n                debug      : settings.debug,\r\n                dimmerName : 'modals',\r\n                closable   : 'auto',\r\n                useFlex    : module.can.useFlex(),\r\n                duration   : {\r\n                  show     : settings.duration,\r\n                  hide     : settings.duration\r\n                }\r\n              },\r\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\r\n            ;\r\n            if(settings.inverted) {\r\n              dimmerSettings.variation = (dimmerSettings.variation !== undefined)\r\n                ? dimmerSettings.variation + ' inverted'\r\n                : 'inverted'\r\n              ;\r\n            }\r\n            $context.dimmer('setting', dimmerSettings);\r\n          },\r\n          dimmerStyles: function() {\r\n            if(settings.inverted) {\r\n              $dimmer.addClass(className.inverted);\r\n            }\r\n            else {\r\n              $dimmer.removeClass(className.inverted);\r\n            }\r\n            if(settings.blurring) {\r\n              $dimmable.addClass(className.blurring);\r\n            }\r\n            else {\r\n              $dimmable.removeClass(className.blurring);\r\n            }\r\n          },\r\n          modalOffset: function() {\r\n            if (!settings.detachable) {\r\n              var canFit = module.can.fit();\r\n              $module\r\n                .css({\r\n                  top: (!$module.hasClass('aligned') && canFit)\r\n                    ? $(document).scrollTop() + (module.cache.contextHeight - module.cache.height) / 2\r\n                    : !canFit || $module.hasClass('top')\r\n                      ? $(document).scrollTop() + settings.padding\r\n                      : $(document).scrollTop() + (module.cache.contextHeight - module.cache.height - settings.padding),\r\n                  marginLeft: -(module.cache.width / 2)\r\n                }) \r\n              ;\r\n            } else {\r\n              $module\r\n                .css({\r\n                  marginTop: (!$module.hasClass('aligned') && module.can.fit())\r\n                    ? -(module.cache.height / 2)\r\n                    : settings.padding / 2,\r\n                  marginLeft: -(module.cache.width / 2)\r\n                }) \r\n              ;\r\n            }\r\n            module.verbose('Setting modal offset for legacy mode');\r\n          },\r\n          screenHeight: function() {\r\n            if( module.can.fit() ) {\r\n              $body.css('height', '');\r\n            }\r\n            else if(!$module.hasClass('bottom')) {\r\n              module.debug('Modal is taller than page content, resizing page height');\r\n              $body\r\n                .css('height', module.cache.height + (settings.padding * 2) )\r\n              ;\r\n            }\r\n          },\r\n          active: function() {\r\n            $module.addClass(className.active + ' ' + className.front);\r\n            $otherModals.filter('.' + className.active).removeClass(className.front);\r\n          },\r\n          scrolling: function() {\r\n            $dimmable.addClass(className.scrolling);\r\n            $module.addClass(className.scrolling);\r\n            module.unbind.scrollLock();\r\n          },\r\n          legacy: function() {\r\n            $module.addClass(className.legacy);\r\n          },\r\n          type: function() {\r\n            if(module.can.fit()) {\r\n              module.verbose('Modal fits on screen');\r\n              if(!module.others.active() && !module.others.animating()) {\r\n                module.remove.scrolling();\r\n                module.bind.scrollLock();\r\n              }\r\n            }\r\n            else if (!$module.hasClass('bottom')){\r\n              module.verbose('Modal cannot fit on screen setting to scrolling');\r\n              module.set.scrolling();\r\n            } else {\r\n                module.verbose('Bottom aligned modal not fitting on screen is unsupported for scrolling');\r\n            }\r\n          },\r\n          undetached: function() {\r\n            $dimmable.addClass(className.undetached);\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.modal.settings = {\r\n\r\n  name           : 'Modal',\r\n  namespace      : 'modal',\r\n\r\n  useFlex        : 'auto',\r\n  offset         : 0,\r\n\r\n  silent         : false,\r\n  debug          : false,\r\n  verbose        : false,\r\n  performance    : true,\r\n\r\n  observeChanges : false,\r\n\r\n  allowMultiple  : false,\r\n  detachable     : true,\r\n  closable       : true,\r\n  autofocus      : true,\r\n  restoreFocus   : true,\r\n\r\n  inverted       : false,\r\n  blurring       : false,\r\n\r\n  centered       : true,\r\n\r\n  dimmerSettings : {\r\n    closable : false,\r\n    useCSS   : true\r\n  },\r\n\r\n  // whether to use keyboard shortcuts\r\n  keyboardShortcuts: true,\r\n\r\n  context    : 'body',\r\n\r\n  queue      : false,\r\n  duration   : 500,\r\n  transition : 'scale',\r\n\r\n  // padding with edge of page\r\n  padding    : 50,\r\n  scrollbarWidth: 10,\r\n\r\n  // called before show animation\r\n  onShow     : function(){},\r\n\r\n  // called after show animation\r\n  onVisible  : function(){},\r\n\r\n  // called before hide animation\r\n  onHide     : function(){ return true; },\r\n\r\n  // called after hide animation\r\n  onHidden   : function(){},\r\n\r\n  // called after approve selector match\r\n  onApprove  : function(){ return true; },\r\n\r\n  // called after deny selector match\r\n  onDeny     : function(){ return true; },\r\n\r\n  selector    : {\r\n    close    : '> .close',\r\n    approve  : '.actions .positive, .actions .approve, .actions .ok',\r\n    deny     : '.actions .negative, .actions .deny, .actions .cancel',\r\n    modal    : '.ui.modal',\r\n    dimmer   : '> .ui.dimmer',\r\n    bodyFixed: '> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar'\r\n  },\r\n  error : {\r\n    dimmer    : 'UI Dimmer, a required component is not included in this page',\r\n    method    : 'The method you called is not defined.',\r\n    notFound  : 'The element you specified could not be found'\r\n  },\r\n  className : {\r\n    active     : 'active',\r\n    animating  : 'animating',\r\n    blurring   : 'blurring',\r\n    inverted   : 'inverted',\r\n    legacy     : 'legacy',\r\n    loading    : 'loading',\r\n    scrolling  : 'scrolling',\r\n    undetached : 'undetached',\r\n    front      : 'front'\r\n  }\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Nag\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.nag = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.nag.settings, parameters)\r\n          : $.extend({}, $.fn.nag.settings),\r\n\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n        namespace       = settings.namespace,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = namespace + '-module',\r\n\r\n        $module         = $(this),\r\n\r\n        $context        = (settings.context)\r\n          ? $(settings.context)\r\n          : $('body'),\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        module\r\n      ;\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing element');\r\n\r\n          $module\r\n            .on('click' + eventNamespace, selector.close, module.dismiss)\r\n            .data(moduleNamespace, module)\r\n          ;\r\n\r\n          if(settings.detachable && $module.parent()[0] !== $context[0]) {\r\n            $module\r\n              .detach()\r\n              .prependTo($context)\r\n            ;\r\n          }\r\n\r\n          if(settings.displayTime > 0) {\r\n            setTimeout(module.hide, settings.displayTime);\r\n          }\r\n          module.show();\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying instance');\r\n          $module\r\n            .removeData(moduleNamespace)\r\n            .off(eventNamespace)\r\n          ;\r\n        },\r\n\r\n        show: function() {\r\n          if( module.should.show() && !$module.is(':visible') ) {\r\n            module.debug('Showing nag', settings.animation.show);\r\n            if(settings.animation.show == 'fade') {\r\n              $module\r\n                .fadeIn(settings.duration, settings.easing)\r\n              ;\r\n            }\r\n            else {\r\n              $module\r\n                .slideDown(settings.duration, settings.easing)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        hide: function() {\r\n          module.debug('Showing nag', settings.animation.hide);\r\n          if(settings.animation.show == 'fade') {\r\n            $module\r\n              .fadeIn(settings.duration, settings.easing)\r\n            ;\r\n          }\r\n          else {\r\n            $module\r\n              .slideUp(settings.duration, settings.easing)\r\n            ;\r\n          }\r\n        },\r\n\r\n        onHide: function() {\r\n          module.debug('Removing nag', settings.animation.hide);\r\n          $module.remove();\r\n          if (settings.onHide) {\r\n            settings.onHide();\r\n          }\r\n        },\r\n\r\n        dismiss: function(event) {\r\n          if(settings.storageMethod) {\r\n            module.storage.set(settings.key, settings.value);\r\n          }\r\n          module.hide();\r\n          event.stopImmediatePropagation();\r\n          event.preventDefault();\r\n        },\r\n\r\n        should: {\r\n          show: function() {\r\n            if(settings.persist) {\r\n              module.debug('Persistent nag is set, can show nag');\r\n              return true;\r\n            }\r\n            if( module.storage.get(settings.key) != settings.value.toString() ) {\r\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\r\n              return true;\r\n            }\r\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\r\n            return false;\r\n          }\r\n        },\r\n\r\n        get: {\r\n          storageOptions: function() {\r\n            var\r\n              options = {}\r\n            ;\r\n            if(settings.expires) {\r\n              options.expires = settings.expires;\r\n            }\r\n            if(settings.domain) {\r\n              options.domain = settings.domain;\r\n            }\r\n            if(settings.path) {\r\n              options.path = settings.path;\r\n            }\r\n            return options;\r\n          }\r\n        },\r\n\r\n        clear: function() {\r\n          module.storage.remove(settings.key);\r\n        },\r\n\r\n        storage: {\r\n          set: function(key, value) {\r\n            var\r\n              options = module.get.storageOptions()\r\n            ;\r\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\r\n              window.localStorage.setItem(key, value);\r\n              module.debug('Value stored using local storage', key, value);\r\n            }\r\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\r\n              window.sessionStorage.setItem(key, value);\r\n              module.debug('Value stored using session storage', key, value);\r\n            }\r\n            else if($.cookie !== undefined) {\r\n              $.cookie(key, value, options);\r\n              module.debug('Value stored using cookie', key, value, options);\r\n            }\r\n            else {\r\n              module.error(error.noCookieStorage);\r\n              return;\r\n            }\r\n          },\r\n          get: function(key, value) {\r\n            var\r\n              storedValue\r\n            ;\r\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\r\n              storedValue = window.localStorage.getItem(key);\r\n            }\r\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\r\n              storedValue = window.sessionStorage.getItem(key);\r\n            }\r\n            // get by cookie\r\n            else if($.cookie !== undefined) {\r\n              storedValue = $.cookie(key);\r\n            }\r\n            else {\r\n              module.error(error.noCookieStorage);\r\n            }\r\n            if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\r\n              storedValue = undefined;\r\n            }\r\n            return storedValue;\r\n          },\r\n          remove: function(key) {\r\n            var\r\n              options = module.get.storageOptions()\r\n            ;\r\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\r\n              window.localStorage.removeItem(key);\r\n            }\r\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\r\n              window.sessionStorage.removeItem(key);\r\n            }\r\n            // store by cookie\r\n            else if($.cookie !== undefined) {\r\n              $.removeCookie(key, options);\r\n            }\r\n            else {\r\n              module.error(error.noStorage);\r\n            }\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.nag.settings = {\r\n\r\n  name        : 'Nag',\r\n\r\n  silent      : false,\r\n  debug       : false,\r\n  verbose     : false,\r\n  performance : true,\r\n\r\n  namespace   : 'Nag',\r\n\r\n  // allows cookie to be overridden\r\n  persist     : false,\r\n\r\n  // set to zero to require manually dismissal, otherwise hides on its own\r\n  displayTime : 0,\r\n\r\n  animation   : {\r\n    show : 'slide',\r\n    hide : 'slide'\r\n  },\r\n\r\n  context       : false,\r\n  detachable    : false,\r\n\r\n  expires       : 30,\r\n  domain        : false,\r\n  path          : '/',\r\n\r\n  // type of storage to use\r\n  storageMethod : 'cookie',\r\n\r\n  // value to store in dismissed localstorage/cookie\r\n  key           : 'nag',\r\n  value         : 'dismiss',\r\n\r\n  error: {\r\n    noCookieStorage : '$.cookie is not included. A storage solution is required.',\r\n    noStorage       : 'Neither $.cookie or store is defined. A storage solution is required for storing state',\r\n    method          : 'The method you called is not defined.'\r\n  },\r\n\r\n  className     : {\r\n    bottom : 'bottom',\r\n    fixed  : 'fixed'\r\n  },\r\n\r\n  selector      : {\r\n    close : '.close.icon'\r\n  },\r\n\r\n  speed         : 500,\r\n  easing        : 'easeOutQuad',\r\n\r\n  onHide: function() {}\r\n\r\n};\r\n\r\n// Adds easing\r\n$.extend( $.easing, {\r\n  easeOutQuad: function (x, t, b, c, d) {\r\n    return -c *(t/=d)*(t-2) + b;\r\n  }\r\n});\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Popup\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.popup = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    $document      = $(document),\r\n    $window        = $(window),\r\n    $body          = $('body'),\r\n\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    clickEvent      = ('ontouchstart' in document.documentElement)\r\n        ? 'touchstart'\r\n        : 'click',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\r\n          : $.extend({}, $.fn.popup.settings),\r\n\r\n        selector           = settings.selector,\r\n        className          = settings.className,\r\n        error              = settings.error,\r\n        metadata           = settings.metadata,\r\n        namespace          = settings.namespace,\r\n\r\n        eventNamespace     = '.' + settings.namespace,\r\n        moduleNamespace    = 'module-' + namespace,\r\n\r\n        $module            = $(this),\r\n        $context           = $(settings.context),\r\n        $scrollContext     = $(settings.scrollContext),\r\n        $boundary          = $(settings.boundary),\r\n        $target            = (settings.target)\r\n          ? $(settings.target)\r\n          : $module,\r\n\r\n        $popup,\r\n        $offsetParent,\r\n\r\n        searchDepth        = 0,\r\n        triedPositions     = false,\r\n        openedWithTouch    = false,\r\n\r\n        element            = this,\r\n        instance           = $module.data(moduleNamespace),\r\n\r\n        documentObserver,\r\n        elementNamespace,\r\n        id,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        // binds events\r\n        initialize: function() {\r\n          module.debug('Initializing', $module);\r\n          module.createID();\r\n          module.bind.events();\r\n          if(!module.exists() && settings.preserve) {\r\n            module.create();\r\n          }\r\n          if(settings.observeChanges) {\r\n            module.observeChanges();\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            documentObserver = new MutationObserver(module.event.documentChanged);\r\n            documentObserver.observe(document, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            module.debug('Setting up mutation observer', documentObserver);\r\n          }\r\n        },\r\n\r\n        refresh: function() {\r\n          if(settings.popup) {\r\n            $popup = $(settings.popup).eq(0);\r\n          }\r\n          else {\r\n            if(settings.inline) {\r\n              $popup = $target.nextAll(selector.popup).eq(0);\r\n              settings.popup = $popup;\r\n            }\r\n          }\r\n          if(settings.popup) {\r\n            $popup.addClass(className.loading);\r\n            $offsetParent = module.get.offsetParent();\r\n            $popup.removeClass(className.loading);\r\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\r\n              module.debug('Moving popup to the same offset parent as target');\r\n              $popup\r\n                .detach()\r\n                .appendTo($offsetParent)\r\n              ;\r\n            }\r\n          }\r\n          else {\r\n            $offsetParent = (settings.inline)\r\n              ? module.get.offsetParent($target)\r\n              : module.has.popup()\r\n                ? module.get.offsetParent($popup)\r\n                : $body\r\n            ;\r\n          }\r\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\r\n            module.debug('Setting page as offset parent');\r\n            $offsetParent = $body;\r\n          }\r\n          if( module.get.variation() ) {\r\n            module.set.variation();\r\n          }\r\n        },\r\n\r\n        reposition: function() {\r\n          module.refresh();\r\n          module.set.position();\r\n        },\r\n\r\n        destroy: function() {\r\n          module.debug('Destroying previous module');\r\n          if(documentObserver) {\r\n            documentObserver.disconnect();\r\n          }\r\n          // remove element only if was created dynamically\r\n          if($popup && !settings.preserve) {\r\n            module.removePopup();\r\n          }\r\n          // clear all timeouts\r\n          clearTimeout(module.hideTimer);\r\n          clearTimeout(module.showTimer);\r\n          // remove events\r\n          module.unbind.close();\r\n          module.unbind.events();\r\n          $module\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        event: {\r\n          start:  function(event) {\r\n            var\r\n              delay = ($.isPlainObject(settings.delay))\r\n                ? settings.delay.show\r\n                : settings.delay\r\n            ;\r\n            clearTimeout(module.hideTimer);\r\n            if(!openedWithTouch || (openedWithTouch && settings.addTouchEvents) ) {\r\n              module.showTimer = setTimeout(module.show, delay);\r\n            }\r\n          },\r\n          end:  function() {\r\n            var\r\n              delay = ($.isPlainObject(settings.delay))\r\n                ? settings.delay.hide\r\n                : settings.delay\r\n            ;\r\n            clearTimeout(module.showTimer);\r\n            module.hideTimer = setTimeout(module.hide, delay);\r\n          },\r\n          touchstart: function(event) {\r\n            openedWithTouch = true;\r\n            if(settings.addTouchEvents) {\r\n              module.show();\r\n            }\r\n          },\r\n          resize: function() {\r\n            if( module.is.visible() ) {\r\n              module.set.position();\r\n            }\r\n          },\r\n          documentChanged: function(mutations) {\r\n            [].forEach.call(mutations, function(mutation) {\r\n              if(mutation.removedNodes) {\r\n                [].forEach.call(mutation.removedNodes, function(node) {\r\n                  if(node == element || $(node).find(element).length > 0) {\r\n                    module.debug('Element removed from DOM, tearing down events');\r\n                    module.destroy();\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          },\r\n          hideGracefully: function(event) {\r\n            var\r\n              $target = $(event.target),\r\n              isInDOM = $.contains(document.documentElement, event.target),\r\n              inPopup = ($target.closest(selector.popup).length > 0)\r\n            ;\r\n            // don't close on clicks inside popup\r\n            if(event && !inPopup && isInDOM) {\r\n              module.debug('Click occurred outside popup hiding popup');\r\n              module.hide();\r\n            }\r\n            else {\r\n              module.debug('Click was inside popup, keeping popup open');\r\n            }\r\n          }\r\n        },\r\n\r\n        // generates popup html from metadata\r\n        create: function() {\r\n          var\r\n            html      = module.get.html(),\r\n            title     = module.get.title(),\r\n            content   = module.get.content()\r\n          ;\r\n\r\n          if(html || content || title) {\r\n            module.debug('Creating pop-up html');\r\n            if(!html) {\r\n              html = settings.templates.popup({\r\n                title   : title,\r\n                content : content\r\n              });\r\n            }\r\n            $popup = $('<div/>')\r\n              .addClass(className.popup)\r\n              .data(metadata.activator, $module)\r\n              .html(html)\r\n            ;\r\n            if(settings.inline) {\r\n              module.verbose('Inserting popup element inline', $popup);\r\n              $popup\r\n                .insertAfter($module)\r\n              ;\r\n            }\r\n            else {\r\n              module.verbose('Appending popup element to body', $popup);\r\n              $popup\r\n                .appendTo( $context )\r\n              ;\r\n            }\r\n            module.refresh();\r\n            module.set.variation();\r\n\r\n            if(settings.hoverable) {\r\n              module.bind.popup();\r\n            }\r\n            settings.onCreate.call($popup, element);\r\n          }\r\n          else if(settings.popup) {\r\n            $(settings.popup).data(metadata.activator, $module);\r\n            module.verbose('Used popup specified in settings');\r\n            module.refresh();\r\n            if(settings.hoverable) {\r\n              module.bind.popup();\r\n            }\r\n          }\r\n          else if($target.next(selector.popup).length !== 0) {\r\n            module.verbose('Pre-existing popup found');\r\n            settings.inline = true;\r\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\r\n            module.refresh();\r\n            if(settings.hoverable) {\r\n              module.bind.popup();\r\n            }\r\n          }\r\n          else {\r\n            module.debug('No content specified skipping display', element);\r\n          }\r\n        },\r\n\r\n        createID: function() {\r\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\r\n          elementNamespace = '.' + id;\r\n          module.verbose('Creating unique id for element', id);\r\n        },\r\n\r\n        // determines popup state\r\n        toggle: function() {\r\n          module.debug('Toggling pop-up');\r\n          if( module.is.hidden() ) {\r\n            module.debug('Popup is hidden, showing pop-up');\r\n            module.unbind.close();\r\n            module.show();\r\n          }\r\n          else {\r\n            module.debug('Popup is visible, hiding pop-up');\r\n            module.hide();\r\n          }\r\n        },\r\n\r\n        show: function(callback) {\r\n          callback = callback || function(){};\r\n          module.debug('Showing pop-up', settings.transition);\r\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\r\n            if( !module.exists() ) {\r\n              module.create();\r\n            }\r\n            if(settings.onShow.call($popup, element) === false) {\r\n              module.debug('onShow callback returned false, cancelling popup animation');\r\n              return;\r\n            }\r\n            else if(!settings.preserve && !settings.popup) {\r\n              module.refresh();\r\n            }\r\n            if( $popup && module.set.position() ) {\r\n              module.save.conditions();\r\n              if(settings.exclusive) {\r\n                module.hideAll();\r\n              }\r\n              module.animate.show(callback);\r\n            }\r\n          }\r\n        },\r\n\r\n\r\n        hide: function(callback) {\r\n          callback = callback || function(){};\r\n          if( module.is.visible() || module.is.animating() ) {\r\n            if(settings.onHide.call($popup, element) === false) {\r\n              module.debug('onHide callback returned false, cancelling popup animation');\r\n              return;\r\n            }\r\n            module.remove.visible();\r\n            module.unbind.close();\r\n            module.restore.conditions();\r\n            module.animate.hide(callback);\r\n          }\r\n        },\r\n\r\n        hideAll: function() {\r\n          $(selector.popup)\r\n            .filter('.' + className.popupVisible)\r\n            .each(function() {\r\n              $(this)\r\n                .data(metadata.activator)\r\n                  .popup('hide')\r\n              ;\r\n            })\r\n          ;\r\n        },\r\n        exists: function() {\r\n          if(!$popup) {\r\n            return false;\r\n          }\r\n          if(settings.inline || settings.popup) {\r\n            return ( module.has.popup() );\r\n          }\r\n          else {\r\n            return ( $popup.closest($context).length >= 1 )\r\n              ? true\r\n              : false\r\n            ;\r\n          }\r\n        },\r\n\r\n        removePopup: function() {\r\n          if( module.has.popup() && !settings.popup) {\r\n            module.debug('Removing popup', $popup);\r\n            $popup.remove();\r\n            $popup = undefined;\r\n            settings.onRemove.call($popup, element);\r\n          }\r\n        },\r\n\r\n        save: {\r\n          conditions: function() {\r\n            module.cache = {\r\n              title: $module.attr('title')\r\n            };\r\n            if (module.cache.title) {\r\n              $module.removeAttr('title');\r\n            }\r\n            module.verbose('Saving original attributes', module.cache.title);\r\n          }\r\n        },\r\n        restore: {\r\n          conditions: function() {\r\n            if(module.cache && module.cache.title) {\r\n              $module.attr('title', module.cache.title);\r\n              module.verbose('Restoring original attributes', module.cache.title);\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n        supports: {\r\n          svg: function() {\r\n            return (typeof SVGGraphicsElement !== 'undefined');\r\n          }\r\n        },\r\n        animate: {\r\n          show: function(callback) {\r\n            callback = $.isFunction(callback) ? callback : function(){};\r\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\r\n              module.set.visible();\r\n              $popup\r\n                .transition({\r\n                  animation  : settings.transition + ' in',\r\n                  queue      : false,\r\n                  debug      : settings.debug,\r\n                  verbose    : settings.verbose,\r\n                  duration   : settings.duration,\r\n                  onComplete : function() {\r\n                    module.bind.close();\r\n                    callback.call($popup, element);\r\n                    settings.onVisible.call($popup, element);\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.error(error.noTransition);\r\n            }\r\n          },\r\n          hide: function(callback) {\r\n            callback = $.isFunction(callback) ? callback : function(){};\r\n            module.debug('Hiding pop-up');\r\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\r\n              $popup\r\n                .transition({\r\n                  animation  : settings.transition + ' out',\r\n                  queue      : false,\r\n                  duration   : settings.duration,\r\n                  debug      : settings.debug,\r\n                  verbose    : settings.verbose,\r\n                  onComplete : function() {\r\n                    module.reset();\r\n                    callback.call($popup, element);\r\n                    settings.onHidden.call($popup, element);\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.error(error.noTransition);\r\n            }\r\n          }\r\n        },\r\n\r\n        change: {\r\n          content: function(html) {\r\n            $popup.html(html);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          html: function() {\r\n            $module.removeData(metadata.html);\r\n            return $module.data(metadata.html) || settings.html;\r\n          },\r\n          title: function() {\r\n            $module.removeData(metadata.title);\r\n            return $module.data(metadata.title) || settings.title;\r\n          },\r\n          content: function() {\r\n            $module.removeData(metadata.content);\r\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\r\n          },\r\n          variation: function() {\r\n            $module.removeData(metadata.variation);\r\n            return $module.data(metadata.variation) || settings.variation;\r\n          },\r\n          popup: function() {\r\n            return $popup;\r\n          },\r\n          popupOffset: function() {\r\n            return $popup.offset();\r\n          },\r\n          calculations: function() {\r\n            var\r\n              $popupOffsetParent = module.get.offsetParent($popup),\r\n              targetElement      = $target[0],\r\n              isWindow           = ($boundary[0] == window),\r\n              targetOffset       = $target.offset(),\r\n              parentOffset       = settings.inline || (settings.popup && settings.movePopup)\r\n                ? $target.offsetParent().offset()\r\n                : { top: 0, left: 0 },\r\n              screenPosition = (isWindow)\r\n                ? { top: 0, left: 0 }\r\n                : $boundary.offset(),\r\n              calculations   = {},\r\n              scroll = (isWindow)\r\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\r\n                : { top: 0, left: 0},\r\n              screen\r\n            ;\r\n            calculations = {\r\n              // element which is launching popup\r\n              target : {\r\n                element : $target[0],\r\n                width   : $target.outerWidth(),\r\n                height  : $target.outerHeight(),\r\n                top     : targetOffset.top - parentOffset.top,\r\n                left    : targetOffset.left - parentOffset.left,\r\n                margin  : {}\r\n              },\r\n              // popup itself\r\n              popup : {\r\n                width  : $popup.outerWidth(),\r\n                height : $popup.outerHeight()\r\n              },\r\n              // offset container (or 3d context)\r\n              parent : {\r\n                width  : $offsetParent.outerWidth(),\r\n                height : $offsetParent.outerHeight()\r\n              },\r\n              // screen boundaries\r\n              screen : {\r\n                top  : screenPosition.top,\r\n                left : screenPosition.left,\r\n                scroll: {\r\n                  top  : scroll.top,\r\n                  left : scroll.left\r\n                },\r\n                width  : $boundary.width(),\r\n                height : $boundary.height()\r\n              }\r\n            };\r\n\r\n            // if popup offset context is not same as target, then adjust calculations\r\n            if($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\r\n              var\r\n                popupOffset        = $popupOffsetParent.offset()\r\n              ;\r\n              calculations.target.top -= popupOffset.top;\r\n              calculations.target.left -= popupOffset.left;\r\n              calculations.parent.width = $popupOffsetParent.outerWidth();\r\n              calculations.parent.height = $popupOffsetParent.outerHeight();\r\n            }\r\n\r\n            // add in container calcs if fluid\r\n            if( settings.setFluidWidth && module.is.fluid() ) {\r\n              calculations.container = {\r\n                width: $popup.parent().outerWidth()\r\n              };\r\n              calculations.popup.width = calculations.container.width;\r\n            }\r\n\r\n            // add in margins if inline\r\n            calculations.target.margin.top = (settings.inline)\r\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\r\n              : 0\r\n            ;\r\n            calculations.target.margin.left = (settings.inline)\r\n              ? module.is.rtl()\r\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\r\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\r\n              : 0\r\n            ;\r\n            // calculate screen boundaries\r\n            screen = calculations.screen;\r\n            calculations.boundary = {\r\n              top    : screen.top + screen.scroll.top,\r\n              bottom : screen.top + screen.scroll.top + screen.height,\r\n              left   : screen.left + screen.scroll.left,\r\n              right  : screen.left + screen.scroll.left + screen.width\r\n            };\r\n            return calculations;\r\n          },\r\n          id: function() {\r\n            return id;\r\n          },\r\n          startEvent: function() {\r\n            if(settings.on == 'hover') {\r\n              return 'mouseenter';\r\n            }\r\n            else if(settings.on == 'focus') {\r\n              return 'focus';\r\n            }\r\n            return false;\r\n          },\r\n          scrollEvent: function() {\r\n            return 'scroll';\r\n          },\r\n          endEvent: function() {\r\n            if(settings.on == 'hover') {\r\n              return 'mouseleave';\r\n            }\r\n            else if(settings.on == 'focus') {\r\n              return 'blur';\r\n            }\r\n            return false;\r\n          },\r\n          distanceFromBoundary: function(offset, calculations) {\r\n            var\r\n              distanceFromBoundary = {},\r\n              popup,\r\n              boundary\r\n            ;\r\n            calculations = calculations || module.get.calculations();\r\n\r\n            // shorthand\r\n            popup        = calculations.popup;\r\n            boundary     = calculations.boundary;\r\n\r\n            if(offset) {\r\n              distanceFromBoundary = {\r\n                top    : (offset.top - boundary.top),\r\n                left   : (offset.left - boundary.left),\r\n                right  : (boundary.right - (offset.left + popup.width) ),\r\n                bottom : (boundary.bottom - (offset.top + popup.height) )\r\n              };\r\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\r\n            }\r\n            return distanceFromBoundary;\r\n          },\r\n          offsetParent: function($element) {\r\n            var\r\n              element = ($element !== undefined)\r\n                ? $element[0]\r\n                : $target[0],\r\n              parentNode = element.parentNode,\r\n              $node    = $(parentNode)\r\n            ;\r\n            if(parentNode) {\r\n              var\r\n                is2D     = ($node.css('transform') === 'none'),\r\n                isStatic = ($node.css('position') === 'static'),\r\n                isBody   = $node.is('body')\r\n              ;\r\n              while(parentNode && !isBody && isStatic && is2D) {\r\n                parentNode = parentNode.parentNode;\r\n                $node    = $(parentNode);\r\n                is2D     = ($node.css('transform') === 'none');\r\n                isStatic = ($node.css('position') === 'static');\r\n                isBody   = $node.is('body');\r\n              }\r\n            }\r\n            return ($node && $node.length > 0)\r\n              ? $node\r\n              : $()\r\n            ;\r\n          },\r\n          positions: function() {\r\n            return {\r\n              'top left'      : false,\r\n              'top center'    : false,\r\n              'top right'     : false,\r\n              'bottom left'   : false,\r\n              'bottom center' : false,\r\n              'bottom right'  : false,\r\n              'left center'   : false,\r\n              'right center'  : false\r\n            };\r\n          },\r\n          nextPosition: function(position) {\r\n            var\r\n              positions          = position.split(' '),\r\n              verticalPosition   = positions[0],\r\n              horizontalPosition = positions[1],\r\n              opposite = {\r\n                top    : 'bottom',\r\n                bottom : 'top',\r\n                left   : 'right',\r\n                right  : 'left'\r\n              },\r\n              adjacent = {\r\n                left   : 'center',\r\n                center : 'right',\r\n                right  : 'left'\r\n              },\r\n              backup = {\r\n                'top left'      : 'top center',\r\n                'top center'    : 'top right',\r\n                'top right'     : 'right center',\r\n                'right center'  : 'bottom right',\r\n                'bottom right'  : 'bottom center',\r\n                'bottom center' : 'bottom left',\r\n                'bottom left'   : 'left center',\r\n                'left center'   : 'top left'\r\n              },\r\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\r\n              oppositeTried = false,\r\n              adjacentTried = false,\r\n              nextPosition  = false\r\n            ;\r\n            if(!triedPositions) {\r\n              module.verbose('All available positions available');\r\n              triedPositions = module.get.positions();\r\n            }\r\n\r\n            module.debug('Recording last position tried', position);\r\n            triedPositions[position] = true;\r\n\r\n            if(settings.prefer === 'opposite') {\r\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\r\n              nextPosition  = nextPosition.join(' ');\r\n              oppositeTried = (triedPositions[nextPosition] === true);\r\n              module.debug('Trying opposite strategy', nextPosition);\r\n            }\r\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\r\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\r\n              nextPosition  = nextPosition.join(' ');\r\n              adjacentTried = (triedPositions[nextPosition] === true);\r\n              module.debug('Trying adjacent strategy', nextPosition);\r\n            }\r\n            if(adjacentTried || oppositeTried) {\r\n              module.debug('Using backup position', nextPosition);\r\n              nextPosition = backup[position];\r\n            }\r\n            return nextPosition;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          position: function(position, calculations) {\r\n\r\n            // exit conditions\r\n            if($target.length === 0 || $popup.length === 0) {\r\n              module.error(error.notFound);\r\n              return;\r\n            }\r\n            var\r\n              offset,\r\n              distanceAway,\r\n              target,\r\n              popup,\r\n              parent,\r\n              positioning,\r\n              popupOffset,\r\n              distanceFromBoundary\r\n            ;\r\n\r\n            calculations = calculations || module.get.calculations();\r\n            position     = position     || $module.data(metadata.position) || settings.position;\r\n\r\n            offset       = $module.data(metadata.offset) || settings.offset;\r\n            distanceAway = settings.distanceAway;\r\n\r\n            // shorthand\r\n            target = calculations.target;\r\n            popup  = calculations.popup;\r\n            parent = calculations.parent;\r\n\r\n            if(module.should.centerArrow(calculations)) {\r\n              module.verbose('Adjusting offset to center arrow on small target element');\r\n              if(position == 'top left' || position == 'bottom left') {\r\n                offset += (target.width / 2);\r\n                offset -= settings.arrowPixelsFromEdge;\r\n              }\r\n              if(position == 'top right' || position == 'bottom right') {\r\n                offset -= (target.width / 2);\r\n                offset += settings.arrowPixelsFromEdge;\r\n              }\r\n            }\r\n\r\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\r\n              module.debug('Popup target is hidden, no action taken');\r\n              return false;\r\n            }\r\n\r\n            if(settings.inline) {\r\n              module.debug('Adding margin to calculation', target.margin);\r\n              if(position == 'left center' || position == 'right center') {\r\n                offset       +=  target.margin.top;\r\n                distanceAway += -target.margin.left;\r\n              }\r\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\r\n                offset       += target.margin.left;\r\n                distanceAway -= target.margin.top;\r\n              }\r\n              else {\r\n                offset       += target.margin.left;\r\n                distanceAway += target.margin.top;\r\n              }\r\n            }\r\n\r\n            module.debug('Determining popup position from calculations', position, calculations);\r\n\r\n            if (module.is.rtl()) {\r\n              position = position.replace(/left|right/g, function (match) {\r\n                return (match == 'left')\r\n                  ? 'right'\r\n                  : 'left'\r\n                ;\r\n              });\r\n              module.debug('RTL: Popup position updated', position);\r\n            }\r\n\r\n            // if last attempt use specified last resort position\r\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\r\n              position = settings.lastResort;\r\n            }\r\n\r\n            switch (position) {\r\n              case 'top left':\r\n                positioning = {\r\n                  top    : 'auto',\r\n                  bottom : parent.height - target.top + distanceAway,\r\n                  left   : target.left + offset,\r\n                  right  : 'auto'\r\n                };\r\n              break;\r\n              case 'top center':\r\n                positioning = {\r\n                  bottom : parent.height - target.top + distanceAway,\r\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\r\n                  top    : 'auto',\r\n                  right  : 'auto'\r\n                };\r\n              break;\r\n              case 'top right':\r\n                positioning = {\r\n                  bottom :  parent.height - target.top + distanceAway,\r\n                  right  :  parent.width - target.left - target.width - offset,\r\n                  top    : 'auto',\r\n                  left   : 'auto'\r\n                };\r\n              break;\r\n              case 'left center':\r\n                positioning = {\r\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\r\n                  right  : parent.width - target.left + distanceAway,\r\n                  left   : 'auto',\r\n                  bottom : 'auto'\r\n                };\r\n              break;\r\n              case 'right center':\r\n                positioning = {\r\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\r\n                  left   : target.left + target.width + distanceAway,\r\n                  bottom : 'auto',\r\n                  right  : 'auto'\r\n                };\r\n              break;\r\n              case 'bottom left':\r\n                positioning = {\r\n                  top    : target.top + target.height + distanceAway,\r\n                  left   : target.left + offset,\r\n                  bottom : 'auto',\r\n                  right  : 'auto'\r\n                };\r\n              break;\r\n              case 'bottom center':\r\n                positioning = {\r\n                  top    : target.top + target.height + distanceAway,\r\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\r\n                  bottom : 'auto',\r\n                  right  : 'auto'\r\n                };\r\n              break;\r\n              case 'bottom right':\r\n                positioning = {\r\n                  top    : target.top + target.height + distanceAway,\r\n                  right  : parent.width - target.left  - target.width - offset,\r\n                  left   : 'auto',\r\n                  bottom : 'auto'\r\n                };\r\n              break;\r\n            }\r\n            if(positioning === undefined) {\r\n              module.error(error.invalidPosition, position);\r\n            }\r\n\r\n            module.debug('Calculated popup positioning values', positioning);\r\n\r\n            // tentatively place on stage\r\n            $popup\r\n              .css(positioning)\r\n              .removeClass(className.position)\r\n              .addClass(position)\r\n              .addClass(className.loading)\r\n            ;\r\n\r\n            popupOffset = module.get.popupOffset();\r\n\r\n            // see if any boundaries are surpassed with this tentative position\r\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\r\n\r\n            if(!settings.forcePosition && module.is.offstage(distanceFromBoundary, position) ) {\r\n              module.debug('Position is outside viewport', position);\r\n              if(searchDepth < settings.maxSearchDepth) {\r\n                searchDepth++;\r\n                position = module.get.nextPosition(position);\r\n                module.debug('Trying new position', position);\r\n                return ($popup)\r\n                  ? module.set.position(position, calculations)\r\n                  : false\r\n                ;\r\n              }\r\n              else {\r\n                if(settings.lastResort) {\r\n                  module.debug('No position found, showing with last position');\r\n                }\r\n                else {\r\n                  module.debug('Popup could not find a position to display', $popup);\r\n                  module.error(error.cannotPlace, element);\r\n                  module.remove.attempts();\r\n                  module.remove.loading();\r\n                  module.reset();\r\n                  settings.onUnplaceable.call($popup, element);\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            module.debug('Position is on stage', position);\r\n            module.remove.attempts();\r\n            module.remove.loading();\r\n            if( settings.setFluidWidth && module.is.fluid() ) {\r\n              module.set.fluidWidth(calculations);\r\n            }\r\n            return true;\r\n          },\r\n\r\n          fluidWidth: function(calculations) {\r\n            calculations = calculations || module.get.calculations();\r\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\r\n            $popup.css('width', calculations.container.width);\r\n          },\r\n\r\n          variation: function(variation) {\r\n            variation = variation || module.get.variation();\r\n            if(variation && module.has.popup() ) {\r\n              module.verbose('Adding variation to popup', variation);\r\n              $popup.addClass(variation);\r\n            }\r\n          },\r\n\r\n          visible: function() {\r\n            $module.addClass(className.visible);\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          loading: function() {\r\n            $popup.removeClass(className.loading);\r\n          },\r\n          variation: function(variation) {\r\n            variation = variation || module.get.variation();\r\n            if(variation) {\r\n              module.verbose('Removing variation', variation);\r\n              $popup.removeClass(variation);\r\n            }\r\n          },\r\n          visible: function() {\r\n            $module.removeClass(className.visible);\r\n          },\r\n          attempts: function() {\r\n            module.verbose('Resetting all searched positions');\r\n            searchDepth    = 0;\r\n            triedPositions = false;\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.debug('Binding popup events to module');\r\n            if(settings.on == 'click') {\r\n              $module\r\n                .on(clickEvent + eventNamespace, module.toggle)\r\n              ;\r\n            }\r\n            if(settings.on == 'hover') {\r\n              $module\r\n                .on('touchstart' + eventNamespace, module.event.touchstart)\r\n              ;\r\n            }\r\n            if( module.get.startEvent() ) {\r\n              $module\r\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\r\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\r\n              ;\r\n            }\r\n            if(settings.target) {\r\n              module.debug('Target set to element', $target);\r\n            }\r\n            $window.on('resize' + elementNamespace, module.event.resize);\r\n          },\r\n          popup: function() {\r\n            module.verbose('Allowing hover events on popup to prevent closing');\r\n            if( $popup && module.has.popup() ) {\r\n              $popup\r\n                .on('mouseenter' + eventNamespace, module.event.start)\r\n                .on('mouseleave' + eventNamespace, module.event.end)\r\n              ;\r\n            }\r\n          },\r\n          close: function() {\r\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\r\n              module.bind.closeOnScroll();\r\n            }\r\n            if(module.is.closable()) {\r\n              module.bind.clickaway();\r\n            }\r\n            else if(settings.on == 'hover' && openedWithTouch) {\r\n              module.bind.touchClose();\r\n            }\r\n          },\r\n          closeOnScroll: function() {\r\n            module.verbose('Binding scroll close event to document');\r\n            $scrollContext\r\n              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\r\n            ;\r\n          },\r\n          touchClose: function() {\r\n            module.verbose('Binding popup touchclose event to document');\r\n            $document\r\n              .on('touchstart' + elementNamespace, function(event) {\r\n                module.verbose('Touched away from popup');\r\n                module.event.hideGracefully.call(element, event);\r\n              })\r\n            ;\r\n          },\r\n          clickaway: function() {\r\n            module.verbose('Binding popup close event to document');\r\n            $document\r\n              .on(clickEvent + elementNamespace, function(event) {\r\n                module.verbose('Clicked away from popup');\r\n                module.event.hideGracefully.call(element, event);\r\n              })\r\n            ;\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          events: function() {\r\n            $window\r\n              .off(elementNamespace)\r\n            ;\r\n            $module\r\n              .off(eventNamespace)\r\n            ;\r\n          },\r\n          close: function() {\r\n            $document\r\n              .off(elementNamespace)\r\n            ;\r\n            $scrollContext\r\n              .off(elementNamespace)\r\n            ;\r\n          },\r\n        },\r\n\r\n        has: {\r\n          popup: function() {\r\n            return ($popup && $popup.length > 0);\r\n          }\r\n        },\r\n\r\n        should: {\r\n          centerArrow: function(calculations) {\r\n            return !module.is.basic() && calculations.target.width <= (settings.arrowPixelsFromEdge * 2);\r\n          },\r\n        },\r\n\r\n        is: {\r\n          closable: function() {\r\n            if(settings.closable == 'auto') {\r\n              if(settings.on == 'hover') {\r\n                return false;\r\n              }\r\n              return true;\r\n            }\r\n            return settings.closable;\r\n          },\r\n          offstage: function(distanceFromBoundary, position) {\r\n            var\r\n              offstage = []\r\n            ;\r\n            // return boundaries that have been surpassed\r\n            $.each(distanceFromBoundary, function(direction, distance) {\r\n              if(distance < -settings.jitter) {\r\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\r\n                offstage.push(direction);\r\n              }\r\n            });\r\n            if(offstage.length > 0) {\r\n              return true;\r\n            }\r\n            else {\r\n              return false;\r\n            }\r\n          },\r\n          svg: function(element) {\r\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\r\n          },\r\n          basic: function() {\r\n            return $module.hasClass(className.basic);\r\n          },\r\n          active: function() {\r\n            return $module.hasClass(className.active);\r\n          },\r\n          animating: function() {\r\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\r\n          },\r\n          fluid: function() {\r\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\r\n          },\r\n          visible: function() {\r\n            return ($popup !== undefined && $popup.hasClass(className.popupVisible));\r\n          },\r\n          dropdown: function() {\r\n            return $module.hasClass(className.dropdown);\r\n          },\r\n          hidden: function() {\r\n            return !module.is.visible();\r\n          },\r\n          rtl: function () {\r\n            return $module.attr('dir') === 'rtl' || $module.css('direction') === 'rtl';\r\n          }\r\n        },\r\n\r\n        reset: function() {\r\n          module.remove.visible();\r\n          if(settings.preserve) {\r\n            if($.fn.transition !== undefined) {\r\n              $popup\r\n                .transition('remove transition')\r\n              ;\r\n            }\r\n          }\r\n          else {\r\n            module.removePopup();\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            settings[name] = value;\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.popup.settings = {\r\n\r\n  name           : 'Popup',\r\n\r\n  // module settings\r\n  silent         : false,\r\n  debug          : false,\r\n  verbose        : false,\r\n  performance    : true,\r\n  namespace      : 'popup',\r\n\r\n  // whether it should use dom mutation observers\r\n  observeChanges : true,\r\n\r\n  // callback only when element added to dom\r\n  onCreate       : function(){},\r\n\r\n  // callback before element removed from dom\r\n  onRemove       : function(){},\r\n\r\n  // callback before show animation\r\n  onShow         : function(){},\r\n\r\n  // callback after show animation\r\n  onVisible      : function(){},\r\n\r\n  // callback before hide animation\r\n  onHide         : function(){},\r\n\r\n  // callback when popup cannot be positioned in visible screen\r\n  onUnplaceable  : function(){},\r\n\r\n  // callback after hide animation\r\n  onHidden       : function(){},\r\n\r\n  // when to show popup\r\n  on             : 'hover',\r\n\r\n  // element to use to determine if popup is out of boundary\r\n  boundary       : window,\r\n\r\n  // whether to add touchstart events when using hover\r\n  addTouchEvents : true,\r\n\r\n  // default position relative to element\r\n  position       : 'top left',\r\n\r\n  // if given position should be used regardless if popup fits\r\n  forcePosition  : false,\r\n\r\n  // name of variation to use\r\n  variation      : '',\r\n\r\n  // whether popup should be moved to context\r\n  movePopup      : true,\r\n\r\n  // element which popup should be relative to\r\n  target         : false,\r\n\r\n  // jq selector or element that should be used as popup\r\n  popup          : false,\r\n\r\n  // popup should remain inline next to activator\r\n  inline         : false,\r\n\r\n  // popup should be removed from page on hide\r\n  preserve       : false,\r\n\r\n  // popup should not close when being hovered on\r\n  hoverable      : false,\r\n\r\n  // explicitly set content\r\n  content        : false,\r\n\r\n  // explicitly set html\r\n  html           : false,\r\n\r\n  // explicitly set title\r\n  title          : false,\r\n\r\n  // whether automatically close on clickaway when on click\r\n  closable       : true,\r\n\r\n  // automatically hide on scroll\r\n  hideOnScroll   : 'auto',\r\n\r\n  // hide other popups on show\r\n  exclusive      : false,\r\n\r\n  // context to attach popups\r\n  context        : 'body',\r\n\r\n  // context for binding scroll events\r\n  scrollContext  : window,\r\n\r\n  // position to prefer when calculating new position\r\n  prefer         : 'opposite',\r\n\r\n  // specify position to appear even if it doesn't fit\r\n  lastResort     : false,\r\n\r\n  // number of pixels from edge of popup to pointing arrow center (used from centering)\r\n  arrowPixelsFromEdge: 20,\r\n\r\n  // delay used to prevent accidental refiring of animations due to user error\r\n  delay : {\r\n    show : 50,\r\n    hide : 70\r\n  },\r\n\r\n  // whether fluid variation should assign width explicitly\r\n  setFluidWidth  : true,\r\n\r\n  // transition settings\r\n  duration       : 200,\r\n  transition     : 'scale',\r\n\r\n  // distance away from activating element in px\r\n  distanceAway   : 0,\r\n\r\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\r\n  jitter         : 2,\r\n\r\n  // offset on aligning axis from calculated position\r\n  offset         : 0,\r\n\r\n  // maximum times to look for a position before failing (9 positions total)\r\n  maxSearchDepth : 15,\r\n\r\n  error: {\r\n    invalidPosition : 'The position you specified is not a valid position',\r\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\r\n    method          : 'The method you called is not defined.',\r\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\r\n    notFound        : 'The target or popup you specified does not exist on the page'\r\n  },\r\n\r\n  metadata: {\r\n    activator : 'activator',\r\n    content   : 'content',\r\n    html      : 'html',\r\n    offset    : 'offset',\r\n    position  : 'position',\r\n    title     : 'title',\r\n    variation : 'variation'\r\n  },\r\n\r\n  className   : {\r\n    active       : 'active',\r\n    basic        : 'basic',\r\n    animating    : 'animating',\r\n    dropdown     : 'dropdown',\r\n    fluid        : 'fluid',\r\n    loading      : 'loading',\r\n    popup        : 'ui popup',\r\n    position     : 'top left center bottom right',\r\n    visible      : 'visible',\r\n    popupVisible : 'visible'\r\n  },\r\n\r\n  selector    : {\r\n    popup    : '.ui.popup'\r\n  },\r\n\r\n  templates: {\r\n    escape: function(string) {\r\n      var\r\n        badChars     = /[<>\"'`]/g,\r\n        shouldEscape = /[&<>\"'`]/,\r\n        escape       = {\r\n          \"<\": \"&lt;\",\r\n          \">\": \"&gt;\",\r\n          '\"': \"&quot;\",\r\n          \"'\": \"&#x27;\",\r\n          \"`\": \"&#x60;\"\r\n        },\r\n        escapedChar  = function(chr) {\r\n          return escape[chr];\r\n        }\r\n      ;\r\n      if(shouldEscape.test(string)) {\r\n        string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\r\n        return string.replace(badChars, escapedChar);\r\n      }\r\n      return string;\r\n    },\r\n    popup: function(text) {\r\n      var\r\n        html   = '',\r\n        escape = $.fn.popup.settings.templates.escape\r\n      ;\r\n      if(typeof text !== undefined) {\r\n        if(typeof text.title !== undefined && text.title) {\r\n          text.title = escape(text.title);\r\n          html += '<div class=\"header\">' + text.title + '</div>';\r\n        }\r\n        if(typeof text.content !== undefined && text.content) {\r\n          text.content = escape(text.content);\r\n          html += '<div class=\"content\">' + text.content + '</div>';\r\n        }\r\n      }\r\n      return html;\r\n    }\r\n  }\r\n\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Progress\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.progress = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.progress.settings, parameters)\r\n          : $.extend({}, $.fn.progress.settings),\r\n\r\n        className       = settings.className,\r\n        metadata        = settings.metadata,\r\n        namespace       = settings.namespace,\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $bars           = $(this).find(selector.bar),\r\n        $progresses     = $(this).find(selector.progress),\r\n        $label          = $(this).find(selector.label),\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        animating = false,\r\n        transitionEnd,\r\n        module\r\n      ;\r\n      module = {\r\n        helper: {\r\n          sum: function (nums) {\r\n            return Array.isArray(nums) ? nums.reduce(function (left, right) {\r\n              return left + Number(right);\r\n            }, 0) : 0;\r\n          },\r\n          /**\r\n           * Derive precision for multiple progress with total and values.\r\n           *\r\n           * This helper dervices a precision that is sufficiently large to show minimum value of multiple progress.\r\n           *\r\n           * Example1\r\n           * - total: 1122\r\n           * - values: [325, 111, 74, 612]\r\n           * - min ratio: 74/1122 = 0.0659...\r\n           * - required precision:  100\r\n           *\r\n           * Example2\r\n           * - total: 10541\r\n           * - values: [3235, 1111, 74, 6121]\r\n           * - min ratio: 74/10541 = 0.0070...\r\n           * - required precision:   1000\r\n           *\r\n           * @param min A minimum value within multiple values\r\n           * @param total A total amount of multiple values\r\n           * @returns {number} A precison. Could be 1, 10, 100, ... 1e+10.\r\n           */\r\n          derivePrecision: function(min, total) {\r\n            var precisionPower = 0\r\n            var precision = 1;\r\n            var ratio = min / total;\r\n            while (precisionPower < 10) {\r\n              ratio = ratio * precision;\r\n              if (ratio > 1) {\r\n                break;\r\n              }\r\n              precision = Math.pow(10, precisionPower++);\r\n            }\r\n            return precision;\r\n          },\r\n          forceArray: function (element) {\r\n            return Array.isArray(element)\r\n              ? element\r\n              : !isNaN(element)\r\n                ? [element]\r\n                : typeof element == 'string'\r\n                  ? element.split(',')\r\n                  : []\r\n              ;\r\n          }\r\n        },\r\n\r\n        initialize: function() {\r\n          module.set.duration();\r\n          module.set.transitionEvent();\r\n          module.debug(element);\r\n\r\n          module.read.metadata();\r\n          module.read.settings();\r\n\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of progress', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n        destroy: function() {\r\n          module.verbose('Destroying previous progress for', $module);\r\n          clearInterval(instance.interval);\r\n          module.remove.state();\r\n          $module.removeData(moduleNamespace);\r\n          instance = undefined;\r\n        },\r\n\r\n        reset: function() {\r\n          module.remove.nextValue();\r\n          module.update.progress(0);\r\n        },\r\n\r\n        complete: function(keepState) {\r\n          if(module.percent === undefined || module.percent < 100) {\r\n            module.remove.progressPoll();\r\n            if(keepState !== true){\r\n                module.set.percent(100);\r\n            }\r\n          }\r\n        },\r\n\r\n        read: {\r\n          metadata: function() {\r\n            var\r\n              data = {\r\n                percent : module.helper.forceArray($module.data(metadata.percent)),\r\n                total   : $module.data(metadata.total),\r\n                value   : module.helper.forceArray($module.data(metadata.value))\r\n              }\r\n            ;\r\n            if(data.total) {\r\n              module.debug('Total value set from metadata', data.total);\r\n              module.set.total(data.total);\r\n            }\r\n            if(data.value.length > 0) {\r\n              module.debug('Current value set from metadata', data.value);\r\n              module.set.value(data.value);\r\n              module.set.progress(data.value);\r\n            }\r\n            if(data.percent.length > 0) {\r\n              module.debug('Current percent value set from metadata', data.percent);\r\n              module.set.percent(data.percent);\r\n            }\r\n          },\r\n          settings: function() {\r\n            if(settings.total !== false) {\r\n              module.debug('Current total set in settings', settings.total);\r\n              module.set.total(settings.total);\r\n            }\r\n            if(settings.value !== false) {\r\n              module.debug('Current value set in settings', settings.value);\r\n              module.set.value(settings.value);\r\n              module.set.progress(module.value);\r\n            }\r\n            if(settings.percent !== false) {\r\n              module.debug('Current percent set in settings', settings.percent);\r\n              module.set.percent(settings.percent);\r\n            }\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          transitionEnd: function(callback) {\r\n            var\r\n              transitionEnd = module.get.transitionEnd()\r\n            ;\r\n            $bars\r\n              .one(transitionEnd + eventNamespace, function(event) {\r\n                clearTimeout(module.failSafeTimer);\r\n                callback.call(this, event);\r\n              })\r\n            ;\r\n            module.failSafeTimer = setTimeout(function() {\r\n              $bars.triggerHandler(transitionEnd);\r\n            }, settings.duration + settings.failSafeDelay);\r\n            module.verbose('Adding fail safe timer', module.timer);\r\n          }\r\n        },\r\n\r\n        increment: function(incrementValue) {\r\n          var\r\n            startValue,\r\n            newValue\r\n          ;\r\n          if( module.has.total() ) {\r\n            startValue     = module.get.value();\r\n            incrementValue = incrementValue || 1;\r\n          }\r\n          else {\r\n            startValue     = module.get.percent();\r\n            incrementValue = incrementValue || module.get.randomValue();\r\n          }\r\n          newValue = startValue + incrementValue;\r\n          module.debug('Incrementing percentage by', startValue, newValue, incrementValue);\r\n          newValue = module.get.normalizedValue(newValue);\r\n          module.set.progress(newValue);\r\n        },\r\n        decrement: function(decrementValue) {\r\n          var\r\n            total     = module.get.total(),\r\n            startValue,\r\n            newValue\r\n          ;\r\n          if(total) {\r\n            startValue     =  module.get.value();\r\n            decrementValue =  decrementValue || 1;\r\n            newValue       =  startValue - decrementValue;\r\n            module.debug('Decrementing value by', decrementValue, startValue);\r\n          }\r\n          else {\r\n            startValue     =  module.get.percent();\r\n            decrementValue =  decrementValue || module.get.randomValue();\r\n            newValue       =  startValue - decrementValue;\r\n            module.debug('Decrementing percentage by', decrementValue, startValue);\r\n          }\r\n          newValue = module.get.normalizedValue(newValue);\r\n          module.set.progress(newValue);\r\n        },\r\n\r\n        has: {\r\n          progressPoll: function() {\r\n            return module.progressPoll;\r\n          },\r\n          total: function() {\r\n            return (module.get.total() !== false);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          text: function(templateText, index) {\r\n            var\r\n              index_  = index || 0,\r\n              value   = module.get.value(index_),\r\n              total   = module.total || 0,\r\n              percent = (animating)\r\n                ? module.get.displayPercent(index_)\r\n                : module.get.percent(index_),\r\n              left = (module.total > 0)\r\n                ? (total - value)\r\n                : (100 - percent)\r\n            ;\r\n            templateText = templateText || '';\r\n            templateText = templateText\r\n              .replace('{value}', value)\r\n              .replace('{total}', total)\r\n              .replace('{left}', left)\r\n              .replace('{percent}', percent)\r\n              .replace('{bar}', settings.text.bars[index_] || '')\r\n            ;\r\n            module.verbose('Adding variables to progress bar text', templateText);\r\n            return templateText;\r\n          },\r\n\r\n          normalizedValue: function(value) {\r\n            if(value < 0) {\r\n              module.debug('Value cannot decrement below 0');\r\n              return 0;\r\n            }\r\n            if(module.has.total()) {\r\n              if(value > module.total) {\r\n                module.debug('Value cannot increment above total', module.total);\r\n                return module.total;\r\n              }\r\n            }\r\n            else if(value > 100 ) {\r\n              module.debug('Value cannot increment above 100 percent');\r\n              return 100;\r\n            }\r\n            return value;\r\n          },\r\n\r\n          updateInterval: function() {\r\n            if(settings.updateInterval == 'auto') {\r\n              return settings.duration;\r\n            }\r\n            return settings.updateInterval;\r\n          },\r\n\r\n          randomValue: function() {\r\n            module.debug('Generating random increment percentage');\r\n            return Math.floor((Math.random() * settings.random.max) + settings.random.min);\r\n          },\r\n\r\n          numericValue: function(value) {\r\n            return (typeof value === 'string')\r\n              ? (value.replace(/[^\\d.]/g, '') !== '')\r\n                ? +(value.replace(/[^\\d.]/g, ''))\r\n                : false\r\n              : value\r\n            ;\r\n          },\r\n\r\n          transitionEnd: function() {\r\n            var\r\n              element     = document.createElement('element'),\r\n              transitions = {\r\n                'transition'       :'transitionend',\r\n                'OTransition'      :'oTransitionEnd',\r\n                'MozTransition'    :'transitionend',\r\n                'WebkitTransition' :'webkitTransitionEnd'\r\n              },\r\n              transition\r\n            ;\r\n            for(transition in transitions){\r\n              if( element.style[transition] !== undefined ){\r\n                return transitions[transition];\r\n              }\r\n            }\r\n          },\r\n\r\n          // gets current displayed percentage (if animating values this is the intermediary value)\r\n          displayPercent: function(index) {\r\n            var\r\n              $bar           = $($bars[index]),\r\n              barWidth       = $bar.width(),\r\n              totalWidth     = $module.width(),\r\n              minDisplay     = parseInt($bar.css('min-width'), 10),\r\n              displayPercent = (barWidth > minDisplay)\r\n                ? (barWidth / totalWidth * 100)\r\n                : module.percent\r\n            ;\r\n            return (settings.precision > 0)\r\n              ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)\r\n              : Math.round(displayPercent)\r\n              ;\r\n          },\r\n\r\n          percent: function(index) {\r\n            return module.percent && module.percent[index || 0] || 0;\r\n          },\r\n          value: function(index) {\r\n            return module.nextValue || module.value && module.value[index || 0] || 0;\r\n          },\r\n          total: function() {\r\n            return module.total || false;\r\n          }\r\n        },\r\n\r\n        create: {\r\n          progressPoll: function() {\r\n            module.progressPoll = setTimeout(function() {\r\n              module.update.toNextValue();\r\n              module.remove.progressPoll();\r\n            }, module.get.updateInterval());\r\n          },\r\n        },\r\n\r\n        is: {\r\n          complete: function() {\r\n            return module.is.success() || module.is.warning() || module.is.error();\r\n          },\r\n          success: function() {\r\n            return $module.hasClass(className.success);\r\n          },\r\n          warning: function() {\r\n            return $module.hasClass(className.warning);\r\n          },\r\n          error: function() {\r\n            return $module.hasClass(className.error);\r\n          },\r\n          active: function() {\r\n            return $module.hasClass(className.active);\r\n          },\r\n          visible: function() {\r\n            return $module.is(':visible');\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          progressPoll: function() {\r\n            module.verbose('Removing progress poll timer');\r\n            if(module.progressPoll) {\r\n              clearTimeout(module.progressPoll);\r\n              delete module.progressPoll;\r\n            }\r\n          },\r\n          nextValue: function() {\r\n            module.verbose('Removing progress value stored for next update');\r\n            delete module.nextValue;\r\n          },\r\n          state: function() {\r\n            module.verbose('Removing stored state');\r\n            delete module.total;\r\n            delete module.percent;\r\n            delete module.value;\r\n          },\r\n          active: function() {\r\n            module.verbose('Removing active state');\r\n            $module.removeClass(className.active);\r\n          },\r\n          success: function() {\r\n            module.verbose('Removing success state');\r\n            $module.removeClass(className.success);\r\n          },\r\n          warning: function() {\r\n            module.verbose('Removing warning state');\r\n            $module.removeClass(className.warning);\r\n          },\r\n          error: function() {\r\n            module.verbose('Removing error state');\r\n            $module.removeClass(className.error);\r\n          }\r\n        },\r\n\r\n        set: {\r\n          barWidth: function(values) {\r\n            module.debug(\"set bar width with \", values);\r\n            values = module.helper.forceArray(values);\r\n            var firstNonZeroIndex = -1;\r\n            var lastNonZeroIndex = -1;\r\n            var valuesSum = module.helper.sum(values);\r\n            var barCounts = $bars.length;\r\n            var isMultiple = barCounts > 1;\r\n            var percents = values.map(function(value, index) {\r\n              var allZero = (index === barCounts - 1 && valuesSum === 0);\r\n              var $bar = $($bars[index]);\r\n              if (value === 0 && isMultiple && !allZero) {\r\n                $bar.css('display', 'none');\r\n              } else {\r\n                if (isMultiple && allZero) {\r\n                  $bar.css('background', 'transparent');\r\n                }\r\n                if (firstNonZeroIndex == -1) {\r\n                  firstNonZeroIndex = index;\r\n                }\r\n                lastNonZeroIndex = index;\r\n                $bar.css({\r\n                  display: 'block',\r\n                  width: value + '%'\r\n                });\r\n              }\r\n              return parseFloat(value);\r\n            });\r\n            values.forEach(function(_, index) {\r\n              var $bar = $($bars[index]);\r\n              $bar.css({\r\n                borderTopLeftRadius: index == firstNonZeroIndex ? '' : 0,\r\n                borderBottomLeftRadius: index == firstNonZeroIndex ? '' : 0,\r\n                borderTopRightRadius: index == lastNonZeroIndex ? '' : 0,\r\n                borderBottomRightRadius: index == lastNonZeroIndex ? '' : 0\r\n              });\r\n            });\r\n            $module\r\n              .attr('data-percent', percents)\r\n            ;\r\n          },\r\n          duration: function(duration) {\r\n            duration = duration || settings.duration;\r\n            duration = (typeof duration == 'number')\r\n              ? duration + 'ms'\r\n              : duration\r\n            ;\r\n            module.verbose('Setting progress bar transition duration', duration);\r\n            $bars\r\n              .css({\r\n                'transition-duration':  duration\r\n              })\r\n            ;\r\n          },\r\n          percent: function(percents) {\r\n            percents = module.helper.forceArray(percents).map(function(percent) {\r\n              return (typeof percent == 'string')\r\n                ? +(percent.replace('%', ''))\r\n                : percent\r\n                ;\r\n            });\r\n            var hasTotal = module.has.total();\r\n            var totalPecent = module.helper.sum(percents);\r\n            var isMultpleValues = percents.length > 1 && hasTotal;\r\n            var sumTotal = module.helper.sum(module.helper.forceArray(module.value));\r\n            if (isMultpleValues && sumTotal > module.total) {\r\n              // Sum values instead of pecents to avoid precision issues when summing floats\r\n              module.error(error.sumExceedsTotal, sumTotal, module.total);\r\n            } else if (!isMultpleValues && totalPecent > 100) {\r\n              // Sum before rouding since sum of rounded may have error though sum of actual is fine\r\n              module.error(error.tooHigh, totalPecent);\r\n            } else if (totalPecent < 0) {\r\n              module.error(error.tooLow, totalPecent);\r\n            } else {\r\n              var autoPrecision = settings.precision > 0\r\n                ? settings.precision\r\n                : isMultpleValues\r\n                  ? module.helper.derivePrecision(Math.min.apply(null, module.value), module.total)\r\n                  : undefined;\r\n\r\n              // round display percentage\r\n              var roundedPercents = percents.map(function (percent) {\r\n                return (autoPrecision > 0)\r\n                  ? Math.round(percent * (10 * autoPrecision)) / (10 * autoPrecision)\r\n                  : Math.round(percent)\r\n                  ;\r\n              });\r\n              module.percent = roundedPercents;\r\n              if (!hasTotal) {\r\n                module.value = roundedPercents.map(function (percent) {\r\n                  return (autoPrecision > 0)\r\n                    ? Math.round((percent / 100) * module.total * (10 * autoPrecision)) / (10 * autoPrecision)\r\n                    : Math.round((percent / 100) * module.total * 10) / 10\r\n                    ;\r\n                });\r\n                if (settings.limitValues) {\r\n                  module.value = module.value.map(function (value) {\r\n                    return (value > 100)\r\n                      ? 100\r\n                      : (module.value < 0)\r\n                        ? 0\r\n                        : module.value;\r\n                  });\r\n                }\r\n              }\r\n              module.set.barWidth(percents);\r\n              module.set.labelInterval();\r\n              module.set.labels();\r\n            }\r\n            settings.onChange.call(element, percents, module.value, module.total);\r\n          },\r\n          labelInterval: function() {\r\n            var\r\n              animationCallback = function() {\r\n                module.verbose('Bar finished animating, removing continuous label updates');\r\n                clearInterval(module.interval);\r\n                animating = false;\r\n                module.set.labels();\r\n              }\r\n            ;\r\n            clearInterval(module.interval);\r\n            module.bind.transitionEnd(animationCallback);\r\n            animating = true;\r\n            module.interval = setInterval(function() {\r\n              var\r\n                isInDOM = $.contains(document.documentElement, element)\r\n              ;\r\n              if(!isInDOM) {\r\n                clearInterval(module.interval);\r\n                animating = false;\r\n              }\r\n              module.set.labels();\r\n            }, settings.framerate);\r\n          },\r\n          labels: function() {\r\n            module.verbose('Setting both bar progress and outer label text');\r\n            module.set.barLabel();\r\n            module.set.state();\r\n          },\r\n          label: function(text) {\r\n            text = text || '';\r\n            if(text) {\r\n              text = module.get.text(text);\r\n              module.verbose('Setting label to text', text);\r\n              $label.text(text);\r\n            }\r\n          },\r\n          state: function(percent) {\r\n            percent = (percent !== undefined)\r\n              ? percent\r\n              : module.helper.sum(module.percent)\r\n            ;\r\n            if(percent === 100) {\r\n              if(settings.autoSuccess && $bars.length === 1 && !(module.is.warning() || module.is.error() || module.is.success())) {\r\n                module.set.success();\r\n                module.debug('Automatically triggering success at 100%');\r\n              }\r\n              else {\r\n                module.verbose('Reached 100% removing active state');\r\n                module.remove.active();\r\n                module.remove.progressPoll();\r\n              }\r\n            }\r\n            else if(percent > 0) {\r\n              module.verbose('Adjusting active progress bar label', percent);\r\n              module.set.active();\r\n            }\r\n            else {\r\n              module.remove.active();\r\n              module.set.label(settings.text.active);\r\n            }\r\n          },\r\n          barLabel: function(text) {\r\n            $progresses.map(function(index, element){\r\n              var $progress = $(element);\r\n              if (text !== undefined) {\r\n                $progress.text( module.get.text(text, index) );\r\n              }\r\n              else if (settings.label == 'ratio' && module.total) {\r\n                module.verbose('Adding ratio to bar label');\r\n                $progress.text( module.get.text(settings.text.ratio, index) );\r\n              }\r\n              else if (settings.label == 'percent') {\r\n                module.verbose('Adding percentage to bar label');\r\n                $progress.text( module.get.text(settings.text.percent, index) );\r\n              }\r\n            });\r\n          },\r\n          active: function(text) {\r\n            text = text || settings.text.active;\r\n            module.debug('Setting active state');\r\n            if(settings.showActivity && !module.is.active() ) {\r\n              $module.addClass(className.active);\r\n            }\r\n            module.remove.warning();\r\n            module.remove.error();\r\n            module.remove.success();\r\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\r\n            if(text) {\r\n              module.set.label(text);\r\n            }\r\n            module.bind.transitionEnd(function() {\r\n              settings.onActive.call(element, module.value, module.total);\r\n            });\r\n          },\r\n          success : function(text, keepState) {\r\n            text = text || settings.text.success || settings.text.active;\r\n            module.debug('Setting success state');\r\n            $module.addClass(className.success);\r\n            module.remove.active();\r\n            module.remove.warning();\r\n            module.remove.error();\r\n            module.complete(keepState);\r\n            if(settings.text.success) {\r\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\r\n              module.set.label(text);\r\n            }\r\n            else {\r\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\r\n              module.set.label(text);\r\n            }\r\n            module.bind.transitionEnd(function() {\r\n              settings.onSuccess.call(element, module.total);\r\n            });\r\n          },\r\n          warning : function(text, keepState) {\r\n            text = text || settings.text.warning;\r\n            module.debug('Setting warning state');\r\n            $module.addClass(className.warning);\r\n            module.remove.active();\r\n            module.remove.success();\r\n            module.remove.error();\r\n            module.complete(keepState);\r\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\r\n            if(text) {\r\n              module.set.label(text);\r\n            }\r\n            module.bind.transitionEnd(function() {\r\n              settings.onWarning.call(element, module.value, module.total);\r\n            });\r\n          },\r\n          error : function(text, keepState) {\r\n            text = text || settings.text.error;\r\n            module.debug('Setting error state');\r\n            $module.addClass(className.error);\r\n            module.remove.active();\r\n            module.remove.success();\r\n            module.remove.warning();\r\n            module.complete(keepState);\r\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\r\n            if(text) {\r\n              module.set.label(text);\r\n            }\r\n            module.bind.transitionEnd(function() {\r\n              settings.onError.call(element, module.value, module.total);\r\n            });\r\n          },\r\n          transitionEvent: function() {\r\n            transitionEnd = module.get.transitionEnd();\r\n          },\r\n          total: function(totalValue) {\r\n            module.total = totalValue;\r\n          },\r\n          value: function(value) {\r\n            module.value = module.helper.forceArray(value);\r\n          },\r\n          progress: function(value) {\r\n            if(!module.has.progressPoll()) {\r\n              module.debug('First update in progress update interval, immediately updating', value);\r\n              module.update.progress(value);\r\n              module.create.progressPoll();\r\n            }\r\n            else {\r\n              module.debug('Updated within interval, setting next update to use new value', value);\r\n              module.set.nextValue(value);\r\n            }\r\n          },\r\n          nextValue: function(value) {\r\n            module.nextValue = value;\r\n          }\r\n        },\r\n\r\n        update: {\r\n          toNextValue: function() {\r\n            var\r\n              nextValue = module.nextValue\r\n            ;\r\n            if(nextValue) {\r\n              module.debug('Update interval complete using last updated value', nextValue);\r\n              module.update.progress(nextValue);\r\n              module.remove.nextValue();\r\n            }\r\n          },\r\n          progress: function(values) {\r\n            var hasTotal = module.has.total();\r\n            if (hasTotal) {\r\n              module.set.value(values);\r\n            }\r\n            var percentCompletes = module.helper.forceArray(values).map(function(value) {\r\n              var\r\n                percentComplete\r\n              ;\r\n              value = module.get.numericValue(value);\r\n              if (value === false) {\r\n                module.error(error.nonNumeric, value);\r\n              }\r\n              value = module.get.normalizedValue(value);\r\n              if (hasTotal) {\r\n                percentComplete = (value / module.total) * 100;\r\n                module.debug('Calculating percent complete from total', percentComplete);\r\n              }\r\n              else {\r\n                percentComplete = value;\r\n                module.debug('Setting value to exact percentage value', percentComplete);\r\n              }\r\n              return percentComplete;\r\n            });\r\n            module.set.percent( percentCompletes );\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.progress.settings = {\r\n\r\n  name         : 'Progress',\r\n  namespace    : 'progress',\r\n\r\n  silent       : false,\r\n  debug        : false,\r\n  verbose      : false,\r\n  performance  : true,\r\n\r\n  random       : {\r\n    min : 2,\r\n    max : 5\r\n  },\r\n\r\n  duration       : 300,\r\n\r\n  updateInterval : 'auto',\r\n\r\n  autoSuccess    : true,\r\n  showActivity   : true,\r\n  limitValues    : true,\r\n\r\n  label          : 'percent',\r\n  precision      : 0,\r\n  framerate      : (1000 / 30), /// 30 fps\r\n\r\n  percent        : false,\r\n  total          : false,\r\n  value          : false,\r\n\r\n  // delay in ms for fail safe animation callback\r\n  failSafeDelay : 100,\r\n\r\n  onLabelUpdate : function(state, text, value, total){\r\n    return text;\r\n  },\r\n  onChange      : function(percent, value, total){},\r\n  onSuccess     : function(total){},\r\n  onActive      : function(value, total){},\r\n  onError       : function(value, total){},\r\n  onWarning     : function(value, total){},\r\n\r\n  error    : {\r\n    method          : 'The method you called is not defined.',\r\n    nonNumeric      : 'Progress value is non numeric',\r\n    tooHigh         : 'Value specified is above 100%',\r\n    tooLow          : 'Value specified is below 0%',\r\n    sumExceedsTotal : 'Sum of multple values exceed total',\r\n  },\r\n\r\n  regExp: {\r\n    variable: /\\{\\$*[A-z0-9]+\\}/g\r\n  },\r\n\r\n  metadata: {\r\n    percent : 'percent',\r\n    total   : 'total',\r\n    value   : 'value'\r\n  },\r\n\r\n  selector : {\r\n    bar      : '> .bar',\r\n    label    : '> .label',\r\n    progress : '.bar > .progress'\r\n  },\r\n\r\n  text : {\r\n    active  : false,\r\n    error   : false,\r\n    success : false,\r\n    warning : false,\r\n    percent : '{percent}%',\r\n    ratio   : '{value} of {total}',\r\n    bars    : ['']\r\n  },\r\n\r\n  className : {\r\n    active  : 'active',\r\n    error   : 'error',\r\n    success : 'success',\r\n    warning : 'warning'\r\n  }\r\n\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Slider\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ( $, window, document, undefined ) {\r\n\r\n\"use strict\";\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.slider = function(parameters) {\r\n\r\n  var\r\n    $allModules    = $(this),\r\n    $window        = $(window),\r\n\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n\r\n    alphabet       = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\r\n\r\n    SINGLE_STEP     = 1,\r\n    BIG_STEP        = 2,\r\n    NO_STEP         = 0,\r\n    SINGLE_BACKSTEP = -1,\r\n    BIG_BACKSTEP    = -2,\r\n\r\n    // Used to manage document bound events.\r\n    // Use this so that we can distinguish between which document events are bound to which range.\r\n    currentRange    = 0,\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.slider.settings, parameters)\r\n          : $.extend({}, $.fn.slider.settings),\r\n\r\n        className       = settings.className,\r\n        metadata        = settings.metadata,\r\n        namespace       = settings.namespace,\r\n        error           = settings.error,\r\n        keys            = settings.keys,\r\n        interpretLabel  = settings.interpretLabel,\r\n\r\n        isHover         = false,\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $currThumb,\r\n        $thumb,\r\n        $secondThumb,\r\n        $track,\r\n        $trackFill,\r\n        $labels,\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        documentEventID,\r\n\r\n        value,\r\n        position,\r\n        secondPos,\r\n        offset,\r\n        precision,\r\n        isTouch,\r\n        gapRatio = 1,\r\n\r\n        initialPosition,\r\n        initialLoad,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing slider', settings);\r\n          initialLoad = true;\r\n\r\n          currentRange += 1;\r\n          documentEventID = currentRange;\r\n\r\n          isTouch = module.setup.testOutTouch();\r\n          module.setup.layout();\r\n          module.setup.labels();\r\n\r\n          if(!module.is.disabled()) {\r\n            module.bind.events();\r\n          }\r\n\r\n          module.read.metadata();\r\n          module.read.settings();\r\n\r\n          initialLoad = false;\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of slider', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous slider for', $module);\r\n          clearInterval(instance.interval);\r\n          module.unbind.events();\r\n          module.unbind.slidingEvents();\r\n          $module.removeData(moduleNamespace);\r\n          instance = undefined;\r\n        },\r\n\r\n        setup: {\r\n          layout: function() {\r\n            if( $module.attr('tabindex') === undefined) {\r\n              $module.attr('tabindex', 0);\r\n            }\r\n            if($module.find('.inner').length == 0) {\r\n              $module.append(\"<div class='inner'>\"\r\n                             + \"<div class='track'></div>\"\r\n                             + \"<div class='track-fill'></div>\"\r\n                             + \"<div class='thumb'></div>\"\r\n                             + \"</div>\");\r\n            }\r\n            precision = module.get.precision();\r\n            $thumb = $module.find('.thumb:not(.second)');\r\n            $currThumb = $thumb;\r\n            if(module.is.range()) {\r\n              if($module.find('.thumb.second').length == 0) {\r\n                $module.find('.inner').append(\"<div class='thumb second'></div>\");\r\n              }\r\n              $secondThumb = $module.find('.thumb.second');\r\n            }\r\n            $track = $module.find('.track');\r\n            $trackFill = $module.find('.track-fill');\r\n            offset = $thumb.width() / 2;\r\n          },\r\n          labels: function() {\r\n            if(module.is.labeled()) {\r\n              $labels = $module.find('.labels:not(.auto)');\r\n              if($labels.length != 0) {\r\n                module.setup.customLabel();\r\n              } else {\r\n                module.setup.autoLabel();\r\n              }\r\n\r\n              if (settings.showLabelTicks) {\r\n                $module.addClass(className.ticked)\r\n              }\r\n            }\r\n          },\r\n          testOutTouch: function() {\r\n            try {\r\n             document.createEvent('TouchEvent');\r\n             return true;\r\n            } catch (e) {\r\n             return false;\r\n            }\r\n          },\r\n          customLabel: function() {\r\n            var\r\n              $children   = $labels.find('.label'),\r\n              numChildren = $children.length,\r\n              min         = module.get.min(),\r\n              max         = module.get.max(),\r\n              ratio\r\n            ;\r\n            $children.each(function(index) {\r\n              var\r\n                $child = $(this),\r\n                attrValue = $child.attr('data-value')\r\n              ;\r\n              if(attrValue) {\r\n                attrValue = attrValue > max ? max : attrValue < min ? min : attrValue;\r\n                ratio = (attrValue - min) / (max - min);\r\n              } else {\r\n                ratio = (index + 1) / (numChildren + 1);\r\n              }\r\n              module.update.labelPosition(ratio, $(this));\r\n            });\r\n          },\r\n          autoLabel: function() {\r\n            if(module.get.step() != 0) {\r\n              $labels = $module.find('.labels');\r\n              if($labels.length != 0) {\r\n                $labels.empty();\r\n              }\r\n              else {\r\n                $labels = $module.append('<ul class=\"auto labels\"></ul>').find('.labels');\r\n              }\r\n              for(var i = 0, len = module.get.numLabels(); i <= len; i++) {\r\n                var\r\n                  labelText = module.get.label(i),\r\n                  $label = (labelText !== \"\") \r\n                    ? !(i % module.get.gapRatio())\r\n                      ? $('<li class=\"label\">' + labelText + '</li>') \r\n                      : $('<li class=\"halftick label\"></li>')\r\n                    : null,\r\n                  ratio  = i / len\r\n                ;\r\n                if($label) {\r\n                  module.update.labelPosition(ratio, $label);\r\n                  $labels.append($label);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.bind.globalKeyboardEvents();\r\n            module.bind.keyboardEvents();\r\n            module.bind.mouseEvents();\r\n            if(module.is.touch()) {\r\n              module.bind.touchEvents();\r\n            }\r\n            if (settings.autoAdjustLabels) {\r\n              module.bind.windowEvents();\r\n            }\r\n          },\r\n          keyboardEvents: function() {\r\n            module.verbose('Binding keyboard events');\r\n            $module.on('keydown' + eventNamespace, module.event.keydown);\r\n          },\r\n          globalKeyboardEvents: function() {\r\n            $(document).on('keydown' + eventNamespace + documentEventID, module.event.activateFocus);\r\n          },\r\n          mouseEvents: function() {\r\n            module.verbose('Binding mouse events');\r\n            $module.find('.track, .thumb, .inner').on('mousedown' + eventNamespace, function(event) {\r\n              event.stopImmediatePropagation();\r\n              event.preventDefault();\r\n              module.event.down(event);\r\n            });\r\n            $module.on('mousedown' + eventNamespace, module.event.down);\r\n            $module.on('mouseenter' + eventNamespace, function(event) {\r\n              isHover = true;\r\n            });\r\n            $module.on('mouseleave' + eventNamespace, function(event) {\r\n              isHover = false;\r\n            });\r\n          },\r\n          touchEvents: function() {\r\n            module.verbose('Binding touch events');\r\n            $module.find('.track, .thumb, .inner').on('touchstart' + eventNamespace, function(event) {\r\n              event.stopImmediatePropagation();\r\n              event.preventDefault();\r\n              module.event.down(event);\r\n            });\r\n            $module.on('touchstart' + eventNamespace, module.event.down);\r\n          },\r\n          slidingEvents: function() {\r\n            // these don't need the identifier because we only ever want one of them to be registered with document\r\n            module.verbose('Binding page wide events while handle is being draged');\r\n            if(module.is.touch()) {\r\n              $(document).on('touchmove' + eventNamespace, module.event.move);\r\n              $(document).on('touchend' + eventNamespace, module.event.up);\r\n            }\r\n            else {\r\n              $(document).on('mousemove' + eventNamespace, module.event.move);\r\n              $(document).on('mouseup' + eventNamespace, module.event.up);\r\n            }\r\n          },\r\n          windowEvents: function() {\r\n            $window.on('resize' + eventNamespace, module.event.resize);\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          events: function() {\r\n            $module.find('.track, .thumb, .inner').off('mousedown' + eventNamespace);\r\n            $module.find('.track, .thumb, .inner').off('touchstart' + eventNamespace);\r\n            $module.off('mousedown' + eventNamespace);\r\n            $module.off('mouseenter' + eventNamespace);\r\n            $module.off('mouseleave' + eventNamespace);\r\n            $module.off('touchstart' + eventNamespace);\r\n            $module.off('keydown' + eventNamespace);\r\n            $module.off('focusout' + eventNamespace);\r\n            $(document).off('keydown' + eventNamespace + documentEventID, module.event.activateFocus);\r\n            $window.off('resize' + eventNamespace);\r\n          },\r\n          slidingEvents: function() {\r\n            if(module.is.touch()) {\r\n              $(document).off('touchmove' + eventNamespace);\r\n              $(document).off('touchend' + eventNamespace);\r\n            } else {\r\n              $(document).off('mousemove' + eventNamespace);\r\n              $(document).off('mouseup' + eventNamespace);\r\n            }\r\n          },\r\n        },\r\n\r\n        event: {\r\n          down: function(event) {\r\n            event.preventDefault();\r\n            if(module.is.range()) {\r\n              var\r\n                eventPos = module.determine.eventPos(event),\r\n                newPos = module.determine.pos(eventPos)\r\n              ;\r\n              // Special handling if range mode and both thumbs have the same value\r\n              if(settings.preventCrossover && module.is.range() && module.thumbVal === module.secondThumbVal) {\r\n                initialPosition = newPos;\r\n                $currThumb = undefined;\r\n              } else {\r\n                $currThumb = module.determine.closestThumb(newPos);\r\n              }\r\n            }\r\n            if(!module.is.disabled()) {\r\n              module.bind.slidingEvents();\r\n            }\r\n          },\r\n          move: function(event) {\r\n            event.preventDefault();\r\n            var value = module.determine.valueFromEvent(event);\r\n            if($currThumb === undefined) {\r\n              var\r\n                eventPos = module.determine.eventPos(event),\r\n                newPos = module.determine.pos(eventPos)\r\n              ;\r\n              $currThumb = initialPosition > newPos ? $thumb : $secondThumb;\r\n            }\r\n            if(module.get.step() == 0 || module.is.smooth()) {\r\n              var\r\n                thumbVal = module.thumbVal,\r\n                secondThumbVal = module.secondThumbVal,\r\n                thumbSmoothVal = module.determine.smoothValueFromEvent(event)\r\n              ;\r\n              if(!$currThumb.hasClass('second')) {\r\n                if(settings.preventCrossover && module.is.range()) {\r\n                  value = Math.min(secondThumbVal, value);\r\n                  thumbSmoothVal = Math.min(secondThumbVal, thumbSmoothVal);\r\n                }\r\n                thumbVal = value;\r\n              } else {\r\n                if(settings.preventCrossover && module.is.range()) {\r\n                  value = Math.max(thumbVal, value);\r\n                  thumbSmoothVal = Math.max(thumbVal, thumbSmoothVal);\r\n                }\r\n                secondThumbVal = value;\r\n              }\r\n              value = Math.abs(thumbVal - (secondThumbVal || 0));\r\n              module.update.position(thumbSmoothVal);\r\n              settings.onMove.call(element, value, thumbVal, secondThumbVal);\r\n            } else {\r\n              module.update.value(value, function(value, thumbVal, secondThumbVal) {\r\n                settings.onMove.call(element, value, thumbVal, secondThumbVal);\r\n              });\r\n            }\r\n          },\r\n          up: function(event) {\r\n            event.preventDefault();\r\n            var value = module.determine.valueFromEvent(event);\r\n            module.set.value(value);\r\n            module.unbind.slidingEvents();\r\n          },\r\n          keydown: function(event, first) {\r\n            if(settings.preventCrossover && module.is.range() && module.thumbVal === module.secondThumbVal) {\r\n              $currThumb = undefined;\r\n            }\r\n            if(module.is.focused()) {\r\n              $(document).trigger(event);\r\n            }\r\n            if(first || module.is.focused()) {\r\n              var step = module.determine.keyMovement(event);\r\n              if(step != NO_STEP) {\r\n                event.preventDefault();\r\n                switch(step) {\r\n                  case SINGLE_STEP:\r\n                    module.takeStep();\r\n                    break;\r\n                  case BIG_STEP:\r\n                    module.takeStep(module.get.multiplier());\r\n                    break;\r\n                  case SINGLE_BACKSTEP:\r\n                    module.backStep();\r\n                    break;\r\n                  case BIG_BACKSTEP:\r\n                    module.backStep(module.get.multiplier());\r\n                    break;\r\n                }\r\n              }\r\n            }\r\n          },\r\n          activateFocus: function(event) {\r\n            if(!module.is.focused() && module.is.hover() && module.determine.keyMovement(event) != NO_STEP) {\r\n              event.preventDefault();\r\n              module.event.keydown(event, true);\r\n              $module.focus();\r\n            }\r\n          },\r\n          resize: function(_event) {\r\n            // To avoid a useless performance cost, we only call the label refresh when its necessary\r\n            if (gapRatio != module.get.gapRatio()) {\r\n              module.setup.labels();\r\n              gapRatio = module.get.gapRatio();\r\n            }\r\n          }\r\n        },\r\n\r\n        resync: function() {\r\n          module.verbose('Resyncing thumb position based on value');\r\n          if(module.is.range()) {\r\n            module.update.position(module.secondThumbVal, $secondThumb);\r\n          }\r\n          module.update.position(module.thumbVal, $thumb);\r\n          module.setup.labels();\r\n        },\r\n        takeStep: function(multiplier) {\r\n          var\r\n            multiplier = multiplier != undefined ? multiplier : 1,\r\n            step = module.get.step(),\r\n            currValue = module.get.currentThumbValue()\r\n          ;\r\n          module.verbose('Taking a step');\r\n          if(step > 0) {\r\n            module.set.value(currValue + step * multiplier);\r\n          } else if (step == 0){\r\n            var\r\n              precision = module.get.precision(),\r\n              newValue = currValue + (multiplier/precision)\r\n            ;\r\n            module.set.value(Math.round(newValue * precision) / precision);\r\n          }\r\n        },\r\n\r\n        backStep: function(multiplier) {\r\n          var\r\n            multiplier = multiplier != undefined ? multiplier : 1,\r\n            step = module.get.step(),\r\n            currValue = module.get.currentThumbValue()\r\n          ;\r\n          module.verbose('Going back a step');\r\n          if(step > 0) {\r\n            module.set.value(currValue - step * multiplier);\r\n          } else if (step == 0) {\r\n            var\r\n              precision = module.get.precision(),\r\n              newValue = currValue - (multiplier/precision)\r\n            ;\r\n            module.set.value(Math.round(newValue * precision) / precision);\r\n          }\r\n        },\r\n\r\n        is: {\r\n          range: function() {\r\n            return $module.hasClass(settings.className.range);\r\n          },\r\n          hover: function() {\r\n            return isHover;\r\n          },\r\n          focused: function() {\r\n            return $module.is(':focus');\r\n          },\r\n          disabled: function() {\r\n            return $module.hasClass(settings.className.disabled);\r\n          },\r\n          labeled: function() {\r\n            return $module.hasClass(settings.className.labeled);\r\n          },\r\n          reversed: function() {\r\n            return $module.hasClass(settings.className.reversed);\r\n          },\r\n          vertical: function() {\r\n            return $module.hasClass(settings.className.vertical);\r\n          },\r\n          smooth: function() {\r\n            return settings.smooth || $module.hasClass(settings.className.smooth);\r\n          },\r\n          touch: function() {\r\n            return isTouch;\r\n          }\r\n        },\r\n\r\n        get: {\r\n          trackOffset: function() {\r\n            if (module.is.vertical()) {\r\n              return $track.offset().top;\r\n            } else {\r\n              return $track.offset().left;\r\n            }\r\n          },\r\n          trackLength: function() {\r\n            if (module.is.vertical()) {\r\n              return $track.height();\r\n            } else {\r\n              return $track.width();\r\n            }\r\n          },\r\n          trackLeft: function() {\r\n            if (module.is.vertical()) {\r\n              return $track.position().top;\r\n            } else {\r\n              return $track.position().left;\r\n            }\r\n          },\r\n          trackStartPos: function() {\r\n            return module.is.reversed() ? module.get.trackLeft() + module.get.trackLength() : module.get.trackLeft();\r\n          },\r\n          trackEndPos: function() {\r\n            return module.is.reversed() ? module.get.trackLeft() : module.get.trackLeft() + module.get.trackLength();\r\n          },\r\n          trackStartMargin: function () {\r\n            var margin;\r\n            if (module.is.vertical()) {\r\n              margin = module.is.reversed() ? $module.css('padding-bottom') : $module.css('padding-top');\r\n            } else {\r\n              margin = module.is.reversed() ? $module.css('padding-right') : $module.css('padding-left');\r\n            }\r\n            return margin || '0px';\r\n          },\r\n          trackEndMargin: function () {\r\n            var margin;\r\n            if (module.is.vertical()) {\r\n              margin = module.is.reversed() ? $module.css('padding-top') : $module.css('padding-bottom');\r\n            } else {\r\n              margin = module.is.reversed() ? $module.css('padding-left') : $module.css('padding-right');\r\n            }\r\n            return margin || '0px';\r\n          },\r\n          precision: function() {\r\n            var\r\n              decimalPlaces,\r\n              step = module.get.step()\r\n            ;\r\n            if(step != 0) {\r\n              var split = String(step).split('.');\r\n              if(split.length == 2) {\r\n                decimalPlaces = split[1].length;\r\n              } else {\r\n                decimalPlaces = 0;\r\n              }\r\n            } else {\r\n              decimalPlaces = settings.decimalPlaces;\r\n            }\r\n            var precision = Math.pow(10, decimalPlaces);\r\n            module.debug('Precision determined', precision);\r\n            return precision;\r\n          },\r\n          min: function() {\r\n            return settings.min;\r\n          },\r\n          max: function() {\r\n            var step = module.get.step(),\r\n                min = module.get.min(),\r\n                quotient = step === 0 ? 0 : Math.floor((settings.max - min) / step),\r\n                remainder = step === 0 ? 0 : (settings.max - min) % step;\r\n            return remainder === 0 ? settings.max : min + quotient * step;\r\n          },\r\n          step: function() {\r\n            return settings.step;\r\n          },\r\n          numLabels: function() {\r\n            var value = Math.round((module.get.max() - module.get.min()) / module.get.step());\r\n            module.debug('Determined that there should be ' + value + ' labels');\r\n            return value;\r\n          },\r\n          labelType: function() {\r\n            return settings.labelType;\r\n          },\r\n          label: function(value) {\r\n            if(interpretLabel) {\r\n              return interpretLabel(value);\r\n            }\r\n\r\n            switch (settings.labelType) {\r\n              case settings.labelTypes.number:\r\n                return Math.round(((value * module.get.step()) + module.get.min()) * precision ) / precision;\r\n              case settings.labelTypes.letter:\r\n                return alphabet[(value) % 26];\r\n              default:\r\n                return value;\r\n            }\r\n          },\r\n          value: function() {\r\n            return value;\r\n          },\r\n          currentThumbValue: function() {\r\n            return $currThumb !== undefined && $currThumb.hasClass('second') ? module.secondThumbVal : module.thumbVal;\r\n          },\r\n          thumbValue: function(which) {\r\n            switch(which) {\r\n              case 'second':\r\n                if(module.is.range()) {\r\n                  return module.secondThumbVal;\r\n                }\r\n                else {\r\n                  module.error(error.notrange);\r\n                  break;\r\n                }\r\n              case 'first':\r\n              default:\r\n                return module.thumbVal;\r\n            }\r\n          },\r\n          multiplier: function() {\r\n            return settings.pageMultiplier;\r\n          },\r\n          thumbPosition: function(which) {\r\n            switch(which) {\r\n              case 'second':\r\n                if(module.is.range()) {\r\n                  return secondPos;\r\n                }\r\n                else {\r\n                  module.error(error.notrange);\r\n                  break;\r\n                }\r\n              case 'first':\r\n              default:\r\n                return position;\r\n            }\r\n          },\r\n          gapRatio: function() {\r\n            var gapRatio = 1;\r\n            \r\n            if( settings.autoAdjustLabels ) {\r\n              var \r\n                numLabels = module.get.numLabels(),\r\n                trackLength = module.get.trackLength(),\r\n                gapCounter = 1\r\n              ;\r\n\r\n              // While the distance between two labels is too short,\r\n              // we divide the number of labels at each iteration\r\n              // and apply only if the modulo of the operation is an odd number.\r\n              if(trackLength>0){\r\n                while ((trackLength / numLabels) * gapCounter < settings.labelDistance) {\r\n                  if( !(numLabels % gapCounter) ) {\r\n                    gapRatio = gapCounter;\r\n                  }\r\n                  gapCounter += 1;\r\n                }\r\n              }\r\n            }\r\n            return gapRatio;\r\n          }\r\n        },\r\n\r\n        determine: {\r\n          pos: function(pagePos) {\r\n            return module.is.reversed()\r\n              ?\r\n              module.get.trackStartPos() - pagePos + module.get.trackOffset()\r\n              :\r\n              pagePos - module.get.trackOffset() - module.get.trackStartPos()\r\n            ;\r\n          },\r\n          closestThumb: function(eventPos) {\r\n            var\r\n              thumbPos = parseFloat(module.determine.thumbPos($thumb)),\r\n              thumbDelta = Math.abs(eventPos - thumbPos),\r\n              secondThumbPos = parseFloat(module.determine.thumbPos($secondThumb)),\r\n              secondThumbDelta = Math.abs(eventPos - secondThumbPos)\r\n            ;\r\n            if(thumbDelta === secondThumbDelta && module.get.thumbValue() === module.get.min()) {\r\n              return $secondThumb;\r\n            }\r\n            return thumbDelta <= secondThumbDelta ? $thumb : $secondThumb;\r\n          },\r\n          closestThumbPos: function(eventPos) {\r\n            var\r\n              thumbPos = parseFloat(module.determine.thumbPos($thumb)),\r\n              thumbDelta = Math.abs(eventPos - thumbPos),\r\n              secondThumbPos = parseFloat(module.determine.thumbPos($secondThumb)),\r\n              secondThumbDelta = Math.abs(eventPos - secondThumbPos)\r\n            ;\r\n            return thumbDelta <= secondThumbDelta ? thumbPos : secondThumbPos;\r\n          },\r\n          thumbPos: function($element) {\r\n            var pos =\r\n              module.is.vertical()\r\n              ?\r\n              module.is.reversed() ? $element.css('bottom') : $element.css('top')\r\n              :\r\n              module.is.reversed() ? $element.css('right') : $element.css('left')\r\n            ;\r\n            return pos;\r\n          },\r\n          positionFromValue: function(value) {\r\n            var\r\n              min = module.get.min(),\r\n              max = module.get.max(),\r\n              value = value > max ? max : value < min ? min : value,\r\n              trackLength = module.get.trackLength(),\r\n              ratio = (value - min) / (max - min),\r\n              position = Math.round(ratio * trackLength)\r\n            ;\r\n            module.verbose('Determined position: ' + position + ' from value: ' + value);\r\n            return position;\r\n          },\r\n          positionFromRatio: function(ratio) {\r\n            var\r\n              trackLength = module.get.trackLength(),\r\n              step = module.get.step(),\r\n              position = Math.round(ratio * trackLength),\r\n              adjustedPos = (step == 0) ? position : Math.round(position / step) * step\r\n            ;\r\n            return adjustedPos;\r\n          },\r\n          valueFromEvent: function(event) {\r\n            var\r\n              eventPos = module.determine.eventPos(event),\r\n              newPos = module.determine.pos(eventPos),\r\n              value\r\n            ;\r\n            if(eventPos < module.get.trackOffset()) {\r\n              value = module.is.reversed() ? module.get.max() : module.get.min();\r\n            } else if(eventPos > module.get.trackOffset() + module.get.trackLength()) {\r\n              value = module.is.reversed() ? module.get.min() : module.get.max();\r\n            } else {\r\n              value = module.determine.value(newPos);\r\n            }\r\n            return value;\r\n          },\r\n          smoothValueFromEvent: function(event) {\r\n            var\r\n              min = module.get.min(),\r\n              max = module.get.max(),\r\n              trackLength = module.get.trackLength(),\r\n              eventPos = module.determine.eventPos(event),\r\n              newPos = eventPos - module.get.trackOffset(),\r\n              ratio,\r\n              value\r\n            ;\r\n            newPos = newPos < 0 ? 0 : newPos > trackLength ? trackLength : newPos;\r\n            ratio = newPos / trackLength;\r\n            if (module.is.reversed()) {\r\n              ratio = 1 - ratio;\r\n            }\r\n            value = ratio * (max - min) + min;\r\n            return value;\r\n          },\r\n          eventPos: function(event) {\r\n            if(module.is.touch()) {\r\n              var\r\n                touchEvent = event.changedTouches ? event : event.originalEvent,\r\n                touches = touchEvent.changedTouches[0] ? touchEvent.changedTouches : touchEvent.touches,\r\n                touchY = touches[0].pageY,\r\n                touchX = touches[0].pageX\r\n              ;\r\n              return module.is.vertical() ? touchY : touchX;\r\n            }\r\n            var\r\n              clickY = event.pageY || event.originalEvent.pageY,\r\n              clickX = event.pageX || event.originalEvent.pageX\r\n            ;\r\n            return module.is.vertical() ? clickY : clickX;\r\n          },\r\n          value: function(position) {\r\n            var\r\n              startPos = module.is.reversed() ? module.get.trackEndPos() : module.get.trackStartPos(),\r\n              endPos = module.is.reversed() ? module.get.trackStartPos() : module.get.trackEndPos(),\r\n              ratio = (position - startPos) / (endPos - startPos),\r\n              range = module.get.max() - module.get.min(),\r\n              step = module.get.step(),\r\n              value = (ratio * range),\r\n              difference = (step == 0) ? value : Math.round(value / step) * step\r\n            ;\r\n            module.verbose('Determined value based upon position: ' + position + ' as: ' + value);\r\n            if(value != difference) {\r\n              module.verbose('Rounding value to closest step: ' + difference);\r\n            }\r\n            // Use precision to avoid ugly Javascript floating point rounding issues\r\n            // (like 35 * .01 = 0.35000000000000003)\r\n            difference = Math.round(difference * precision) / precision;\r\n            module.verbose('Cutting off additional decimal places');\r\n            return difference + module.get.min();\r\n          },\r\n          keyMovement: function(event) {\r\n            var\r\n              key = event.which,\r\n              downArrow =\r\n                module.is.vertical()\r\n                ?\r\n                module.is.reversed() ? keys.downArrow : keys.upArrow\r\n                :\r\n                keys.downArrow\r\n              ,\r\n              upArrow =\r\n                module.is.vertical()\r\n                ?\r\n                module.is.reversed() ? keys.upArrow : keys.downArrow\r\n                :\r\n                keys.upArrow\r\n              ,\r\n              leftArrow =\r\n                !module.is.vertical()\r\n                ?\r\n                module.is.reversed() ? keys.rightArrow : keys.leftArrow\r\n                :\r\n                keys.leftArrow\r\n              ,\r\n              rightArrow =\r\n                !module.is.vertical()\r\n                ?\r\n                module.is.reversed() ? keys.leftArrow : keys.rightArrow\r\n                :\r\n                keys.rightArrow\r\n            ;\r\n            if(key == downArrow || key == leftArrow) {\r\n              return SINGLE_BACKSTEP;\r\n            } else if(key == upArrow || key == rightArrow) {\r\n              return SINGLE_STEP;\r\n            } else if (key == keys.pageDown) {\r\n              return BIG_BACKSTEP;\r\n            } else if (key == keys.pageUp) {\r\n              return BIG_STEP;\r\n            } else {\r\n              return NO_STEP;\r\n            }\r\n          }\r\n        },\r\n\r\n        handleNewValuePosition: function(val) {\r\n          var\r\n            min = module.get.min(),\r\n            max = module.get.max(),\r\n            newPos\r\n          ;\r\n          if (val <= min) {\r\n            val = min;\r\n          } else if (val >= max) {\r\n            val = max;\r\n          }\r\n          newPos = module.determine.positionFromValue(val);\r\n          return newPos;\r\n        },\r\n\r\n        set: {\r\n          value: function(newValue) {\r\n            module.update.value(newValue, function(value, thumbVal, secondThumbVal) {\r\n              if (!initialLoad || settings.fireOnInit){\r\n                settings.onChange.call(element, value, thumbVal, secondThumbVal);\r\n                settings.onMove.call(element, value, thumbVal, secondThumbVal);\r\n              }\r\n            });\r\n          },\r\n          rangeValue: function(first, second) {\r\n            if(module.is.range()) {\r\n              var\r\n                min = module.get.min(),\r\n                max = module.get.max()\r\n              ;\r\n              if (first <= min) {\r\n                first = min;\r\n              } else if(first >= max){\r\n                first = max;\r\n              }\r\n              if (second <= min) {\r\n                second = min;\r\n              } else if(second >= max){\r\n                second = max;\r\n              }\r\n              module.thumbVal = first;\r\n              module.secondThumbVal = second;\r\n              value = Math.abs(module.thumbVal - module.secondThumbVal);\r\n              module.update.position(module.thumbVal, $thumb);\r\n              module.update.position(module.secondThumbVal, $secondThumb);\r\n              if (!initialLoad || settings.fireOnInit) {\r\n                settings.onChange.call(element, value, module.thumbVal, module.secondThumbVal);\r\n                settings.onMove.call(element, value, module.thumbVal, module.secondThumbVal);\r\n              }\r\n            } else {\r\n              module.error(error.notrange);\r\n            }\r\n          },\r\n          position: function(position, which) {\r\n            var thumbVal = module.determine.value(position);\r\n            switch (which) {\r\n              case 'second':\r\n                module.secondThumbVal = thumbVal;\r\n                module.update.position(thumbVal, $secondThumb);\r\n                break;\r\n              default:\r\n                module.thumbVal = thumbVal;\r\n                module.update.position(thumbVal, $thumb);\r\n            }\r\n            value = Math.abs(module.thumbVal - (module.secondThumbVal || 0));\r\n            module.set.value(value);\r\n          }\r\n        },\r\n\r\n        update: {\r\n          value: function(newValue, callback) {\r\n            var\r\n              min = module.get.min(),\r\n              max = module.get.max()\r\n            ;\r\n            if (newValue <= min) {\r\n              newValue = min;\r\n            } else if(newValue >= max){\r\n              newValue = max;\r\n            }\r\n            if(!module.is.range()) {\r\n              value = newValue;\r\n              module.thumbVal = value;\r\n            } else {\r\n              if($currThumb === undefined) {\r\n                $currThumb = newValue <= module.get.currentThumbValue() ? $thumb : $secondThumb;\r\n              }\r\n              if(!$currThumb.hasClass('second')) {\r\n                if(settings.preventCrossover && module.is.range()) {\r\n                  newValue = Math.min(module.secondThumbVal, newValue);\r\n                }\r\n                module.thumbVal = newValue;\r\n              } else {\r\n                if(settings.preventCrossover && module.is.range()) {\r\n                  newValue = Math.max(module.thumbVal, newValue);\r\n                }\r\n                module.secondThumbVal = newValue;\r\n              }\r\n              value = Math.abs(module.thumbVal - module.secondThumbVal);\r\n            }\r\n            module.update.position(newValue);\r\n            module.debug('Setting slider value to ' + value);\r\n            if(typeof callback === 'function') {\r\n              callback(value, module.thumbVal, module.secondThumbVal);\r\n            }\r\n          },\r\n          position: function(newValue, $element) {\r\n            var\r\n              newPos = module.handleNewValuePosition(newValue),\r\n              $targetThumb = $element != undefined ? $element : $currThumb,\r\n              thumbVal = module.thumbVal || module.get.min(),\r\n              secondThumbVal = module.secondThumbVal || module.get.min()\r\n            ;\r\n            if(module.is.range()) {\r\n              if(!$targetThumb.hasClass('second')) {\r\n                position = newPos;\r\n                thumbVal = newValue;\r\n              } else {\r\n                secondPos = newPos;\r\n                secondThumbVal = newValue;\r\n              }\r\n            } else {\r\n              position = newPos;\r\n              thumbVal = newValue;\r\n            }\r\n            var\r\n              trackPosValue,\r\n              thumbPosValue,\r\n              min = module.get.min(),\r\n              max = module.get.max(),\r\n              thumbPosPercent = 100 * (newValue - min) / (max - min),\r\n              trackStartPosPercent = 100 * (Math.min(thumbVal, secondThumbVal) - min) / (max - min),\r\n              trackEndPosPercent = 100 * (1 - (Math.max(thumbVal, secondThumbVal) - min) / (max - min))\r\n            ;\r\n            if (module.is.vertical()) {\r\n              if (module.is.reversed()) {\r\n                thumbPosValue = {bottom: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', top: 'auto'};\r\n                trackPosValue = {bottom: trackStartPosPercent + '%', top: trackEndPosPercent + '%'};\r\n              }\r\n              else {\r\n                thumbPosValue = {top: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', bottom: 'auto'};\r\n                trackPosValue = {top: trackStartPosPercent + '%', bottom: trackEndPosPercent + '%'};\r\n              }\r\n            } else {\r\n              if (module.is.reversed()) {\r\n                thumbPosValue = {right: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', left: 'auto'};\r\n                trackPosValue = {right: trackStartPosPercent + '%', left: trackEndPosPercent + '%'};\r\n              }\r\n              else {\r\n                thumbPosValue = {left: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', right: 'auto'};\r\n                trackPosValue = {left: trackStartPosPercent + '%', right: trackEndPosPercent + '%'};\r\n              }\r\n            }\r\n            $targetThumb.css(thumbPosValue);\r\n            $trackFill.css(trackPosValue);\r\n            module.debug('Setting slider position to ' + newPos);\r\n          },\r\n          labelPosition: function (ratio, $label) {\r\n            var\r\n              startMargin = module.get.trackStartMargin(),\r\n              endMargin   = module.get.trackEndMargin(),\r\n              posDir =\r\n                module.is.vertical()\r\n                ?\r\n                module.is.reversed() ? 'bottom' : 'top'\r\n                :\r\n                  module.is.reversed() ? 'right' : 'left',\r\n              startMarginMod = module.is.reversed() && !module.is.vertical() ? ' - ' : ' + '\r\n            ;\r\n            var position = '(100% - ' + startMargin + ' - ' + endMargin + ') * ' + ratio;\r\n            $label.css(posDir, 'calc(' + position + startMarginMod + startMargin + ')');\r\n          }\r\n        },\r\n\r\n        goto: {\r\n          max: function() {\r\n            module.set.value(module.get.max());\r\n          },\r\n          min: function() {\r\n            module.set.value(module.get.min());\r\n          },\r\n        },\r\n\r\n        read: {\r\n          metadata: function() {\r\n            var\r\n              data = {\r\n                thumbVal        : $module.data(metadata.thumbVal),\r\n                secondThumbVal  : $module.data(metadata.secondThumbVal)\r\n              }\r\n            ;\r\n            if(data.thumbVal) {\r\n              if(module.is.range() && data.secondThumbVal) {\r\n                module.debug('Current value set from metadata', data.thumbVal, data.secondThumbVal);\r\n                module.set.rangeValue(data.thumbVal, data.secondThumbVal);\r\n              } else {\r\n                module.debug('Current value set from metadata', data.thumbVal);\r\n                module.set.value(data.thumbVal);\r\n              }\r\n            }\r\n          },\r\n          settings: function() {\r\n            if(settings.start !== false) {\r\n              if(module.is.range()) {\r\n                module.debug('Start position set from settings', settings.start, settings.end);\r\n                module.set.rangeValue(settings.start, settings.end);\r\n              } else {\r\n                module.debug('Start position set from settings', settings.start);\r\n                module.set.value(settings.start);\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if($.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n\r\n};\r\n\r\n$.fn.slider.settings = {\r\n\r\n  silent       : false,\r\n  debug        : false,\r\n  verbose      : false,\r\n  performance  : true,\r\n\r\n  name         : 'Slider',\r\n  namespace    : 'slider',\r\n\r\n  error    : {\r\n    method    : 'The method you called is not defined.',\r\n    notrange : 'This slider is not a range slider'\r\n  },\r\n\r\n  metadata: {\r\n    thumbVal        : 'thumbVal',\r\n    secondThumbVal  : 'secondThumbVal'\r\n  },\r\n\r\n  min              : 0,\r\n  max              : 20,\r\n  step             : 1,\r\n  start            : 0,\r\n  end              : 20,\r\n  labelType        : 'number',\r\n  showLabelTicks   : false,\r\n  smooth           : false,\r\n  autoAdjustLabels : true,\r\n  labelDistance    : 100,\r\n  preventCrossover : true,\r\n  fireOnInit       : false,\r\n\r\n  //the decimal place to round to if step is undefined\r\n  decimalPlaces  : 2,\r\n\r\n  // page up/down multiplier. How many more times the steps to take on page up/down press\r\n  pageMultiplier : 2,\r\n\r\n  selector: {\r\n\r\n  },\r\n\r\n  className     : {\r\n    reversed : 'reversed',\r\n    disabled : 'disabled',\r\n    labeled  : 'labeled',\r\n    ticked   : 'ticked',\r\n    vertical : 'vertical',\r\n    range    : 'range',\r\n    smooth   : 'smooth'\r\n  },\r\n\r\n  keys : {\r\n    pageUp     : 33,\r\n    pageDown   : 34,\r\n    leftArrow  : 37,\r\n    upArrow    : 38,\r\n    rightArrow : 39,\r\n    downArrow  : 40\r\n  },\r\n\r\n  labelTypes    : {\r\n    number  : 'number',\r\n    letter  : 'letter'\r\n  },\r\n\r\n  onChange : function(value, thumbVal, secondThumbVal){},\r\n  onMove   : function(value, thumbVal, secondThumbVal){},\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Rating\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.rating = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n    moduleSelector  = $allModules.selector || '',\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.rating.settings, parameters)\r\n          : $.extend({}, $.fn.rating.settings),\r\n\r\n        namespace       = settings.namespace,\r\n        className       = settings.className,\r\n        metadata        = settings.metadata,\r\n        selector        = settings.selector,\r\n        cssVars         = settings.cssVars,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        element         = this,\r\n        instance        = $(this).data(moduleNamespace),\r\n\r\n        $module         = $(this),\r\n        $icon           = $module.find(selector.icon),\r\n\r\n        initialLoad,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing rating module', settings);\r\n\r\n          if($icon.length === 0) {\r\n            module.setup.layout();\r\n          }\r\n\r\n          if(settings.interactive && !module.is.disabled()) {\r\n            module.enable();\r\n          }\r\n          else {\r\n            module.disable();\r\n          }\r\n          module.set.initialLoad();\r\n          module.set.rating( module.get.initialRating() );\r\n          module.remove.initialLoad();\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Instantiating module', settings);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous instance', instance);\r\n          module.remove.events();\r\n          $module\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          $icon   = $module.find(selector.icon);\r\n        },\r\n\r\n        setup: {\r\n          layout: function() {\r\n            var\r\n              maxRating = module.get.maxRating(),\r\n              icon      = module.get.icon(),\r\n              html      = $.fn.rating.settings.templates.icon(maxRating, icon)\r\n            ;\r\n            module.debug('Generating icon html dynamically');\r\n            $module\r\n              .html(html)\r\n            ;\r\n            module.refresh();\r\n          }\r\n        },\r\n\r\n        event: {\r\n          mouseenter: function() {\r\n            var\r\n              $activeIcon = $(this)\r\n            ;\r\n            $activeIcon\r\n              .nextAll()\r\n                .removeClass(className.selected)\r\n            ;\r\n            $module\r\n              .addClass(className.selected)\r\n            ;\r\n            $activeIcon\r\n              .addClass(className.selected)\r\n                .prevAll()\r\n                .addClass(className.selected)\r\n            ;\r\n          },\r\n          mouseleave: function() {\r\n            $module\r\n              .removeClass(className.selected)\r\n            ;\r\n            $icon\r\n              .removeClass(className.selected)\r\n            ;\r\n          },\r\n          click: function() {\r\n            var\r\n              $activeIcon   = $(this),\r\n              currentRating = module.get.rating(),\r\n              rating        = $icon.index($activeIcon) + 1,\r\n              canClear      = (settings.clearable == 'auto')\r\n               ? ($icon.length === 1)\r\n               : settings.clearable\r\n            ;\r\n            if(canClear && currentRating == rating) {\r\n              module.clearRating();\r\n            }\r\n            else {\r\n              module.set.rating( rating );\r\n            }\r\n          }\r\n        },\r\n\r\n        clearRating: function() {\r\n          module.debug('Clearing current rating');\r\n          module.set.rating(0);\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.verbose('Binding events');\r\n            $module\r\n              .on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter)\r\n              .on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave)\r\n              .on('click'      + eventNamespace, selector.icon, module.event.click)\r\n            ;\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          events: function() {\r\n            module.verbose('Removing events');\r\n            $module\r\n              .off(eventNamespace)\r\n            ;\r\n          },\r\n          initialLoad: function() {\r\n            initialLoad = false;\r\n          }\r\n        },\r\n\r\n        enable: function() {\r\n          module.debug('Setting rating to interactive mode');\r\n          module.bind.events();\r\n          $module\r\n            .removeClass(className.disabled)\r\n          ;\r\n        },\r\n\r\n        disable: function() {\r\n          module.debug('Setting rating to read-only mode');\r\n          module.remove.events();\r\n          $module\r\n            .addClass(className.disabled)\r\n          ;\r\n        },\r\n\r\n        is: {\r\n          initialLoad: function() {\r\n            return initialLoad;\r\n          },\r\n          disabled: function() {\r\n            return $module.hasClass(className.disabled);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          icon: function(){\r\n            var icon = $module.data(metadata.icon);\r\n            if (icon) {\r\n              $module.removeData(metadata.icon);\r\n            }\r\n            return icon || settings.icon;\r\n          },\r\n          initialRating: function() {\r\n            if($module.data(metadata.rating) !== undefined) {\r\n              $module.removeData(metadata.rating);\r\n              return $module.data(metadata.rating);\r\n            }\r\n            return settings.initialRating;\r\n          },\r\n          maxRating: function() {\r\n            if($module.data(metadata.maxRating) !== undefined) {\r\n              $module.removeData(metadata.maxRating);\r\n              return $module.data(metadata.maxRating);\r\n            }\r\n            return settings.maxRating;\r\n          },\r\n          rating: function() {\r\n            var\r\n              currentRating = $icon.filter('.' + className.active).length\r\n            ;\r\n            module.verbose('Current rating retrieved', currentRating);\r\n            return currentRating;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          rating: function(rating) {\r\n            var\r\n              ratingIndex = Math.floor(\r\n                (rating - 1 >= 0)\r\n                  ? (rating - 1)\r\n                  : 0\r\n              ),\r\n              $activeIcon = $icon.eq(ratingIndex),\r\n              $partialActiveIcon = rating <= 1\r\n                ? $activeIcon\r\n                : $activeIcon.next()\r\n              ,\r\n              filledPercentage = (rating % 1) * 100\r\n            ;\r\n            $module\r\n              .removeClass(className.selected)\r\n            ;\r\n            $icon\r\n              .removeClass(className.selected)\r\n              .removeClass(className.active)\r\n              .removeClass(className.partiallyActive)\r\n            ;\r\n            if(rating > 0) {\r\n              module.verbose('Setting current rating to', rating);\r\n              $activeIcon\r\n                .prevAll()\r\n                .addBack()\r\n                .addClass(className.active)\r\n              ;\r\n              if($activeIcon.next() && rating % 1 !== 0) {\r\n                $partialActiveIcon\r\n                  .addClass(className.partiallyActive)\r\n                  .addClass(className.active)\r\n                ;\r\n                $partialActiveIcon\r\n                  .css(cssVars.filledCustomPropName, filledPercentage + '%')\r\n                ;\r\n                if($partialActiveIcon.css('backgroundColor') === 'transparent') {\r\n                  $partialActiveIcon\r\n                    .removeClass(className.partiallyActive)\r\n                    .removeClass(className.active)\r\n                  ;\r\n                }\r\n              }\r\n            }\r\n            if(!module.is.initialLoad()) {\r\n              settings.onRate.call(element, rating);\r\n            }\r\n          },\r\n          initialLoad: function() {\r\n            initialLoad = true;\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.rating.settings = {\r\n\r\n  name          : 'Rating',\r\n  namespace     : 'rating',\r\n\r\n  icon          : 'star',\r\n\r\n  silent        : false,\r\n  debug         : false,\r\n  verbose       : false,\r\n  performance   : true,\r\n\r\n  initialRating : 0,\r\n  interactive   : true,\r\n  maxRating     : 4,\r\n  clearable     : 'auto',\r\n\r\n  fireOnInit    : false,\r\n\r\n  onRate        : function(rating){},\r\n\r\n  error         : {\r\n    method    : 'The method you called is not defined',\r\n    noMaximum : 'No maximum rating specified. Cannot generate HTML automatically'\r\n  },\r\n\r\n\r\n  metadata: {\r\n    rating    : 'rating',\r\n    maxRating : 'maxRating',\r\n    icon      : 'icon'\r\n  },\r\n\r\n  className : {\r\n    active   : 'active',\r\n    disabled : 'disabled',\r\n    selected : 'selected',\r\n    loading  : 'loading',\r\n    partiallyActive : 'partial'\r\n  },\r\n\r\n  cssVars : {\r\n    filledCustomPropName : '--full'\r\n  },\r\n\r\n  selector  : {\r\n    icon : '.icon'\r\n  },\r\n\r\n  templates: {\r\n    icon: function(maxRating, iconClass) {\r\n      var\r\n        icon = 1,\r\n        html = ''\r\n      ;\r\n      while(icon <= maxRating) {\r\n        html += '<i class=\"'+iconClass+' icon\"></i>';\r\n        icon++;\r\n      }\r\n      return html;\r\n    }\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Search\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.search = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n    moduleSelector  = $allModules.selector || '',\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n  $(this)\r\n    .each(function() {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.search.settings, parameters)\r\n          : $.extend({}, $.fn.search.settings),\r\n\r\n        className        = settings.className,\r\n        metadata         = settings.metadata,\r\n        regExp           = settings.regExp,\r\n        fields           = settings.fields,\r\n        selector         = settings.selector,\r\n        error            = settings.error,\r\n        namespace        = settings.namespace,\r\n\r\n        eventNamespace   = '.' + namespace,\r\n        moduleNamespace  = namespace + '-module',\r\n\r\n        $module          = $(this),\r\n        $prompt          = $module.find(selector.prompt),\r\n        $searchButton    = $module.find(selector.searchButton),\r\n        $results         = $module.find(selector.results),\r\n        $result          = $module.find(selector.result),\r\n        $category        = $module.find(selector.category),\r\n\r\n        element          = this,\r\n        instance         = $module.data(moduleNamespace),\r\n\r\n        disabledBubbled  = false,\r\n        resultsDismissed = false,\r\n\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing module');\r\n          module.get.settings();\r\n          module.determine.searchFields();\r\n          module.bind.events();\r\n          module.set.type();\r\n          module.create.results();\r\n          module.instantiate();\r\n        },\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n        destroy: function() {\r\n          module.verbose('Destroying instance');\r\n          $module\r\n            .off(eventNamespace)\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          module.debug('Refreshing selector cache');\r\n          $prompt         = $module.find(selector.prompt);\r\n          $searchButton   = $module.find(selector.searchButton);\r\n          $category       = $module.find(selector.category);\r\n          $results        = $module.find(selector.results);\r\n          $result         = $module.find(selector.result);\r\n        },\r\n\r\n        refreshResults: function() {\r\n          $results = $module.find(selector.results);\r\n          $result  = $module.find(selector.result);\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.verbose('Binding events to search');\r\n            if(settings.automatic) {\r\n              $module\r\n                .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)\r\n              ;\r\n              $prompt\r\n                .attr('autocomplete', 'off')\r\n              ;\r\n            }\r\n            $module\r\n              // prompt\r\n              .on('focus'     + eventNamespace, selector.prompt, module.event.focus)\r\n              .on('blur'      + eventNamespace, selector.prompt, module.event.blur)\r\n              .on('keydown'   + eventNamespace, selector.prompt, module.handleKeyboard)\r\n              // search button\r\n              .on('click'     + eventNamespace, selector.searchButton, module.query)\r\n              // results\r\n              .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown)\r\n              .on('mouseup'   + eventNamespace, selector.results, module.event.result.mouseup)\r\n              .on('click'     + eventNamespace, selector.result,  module.event.result.click)\r\n            ;\r\n          }\r\n        },\r\n\r\n        determine: {\r\n          searchFields: function() {\r\n            // this makes sure $.extend does not add specified search fields to default fields\r\n            // this is the only setting which should not extend defaults\r\n            if(parameters && parameters.searchFields !== undefined) {\r\n              settings.searchFields = parameters.searchFields;\r\n            }\r\n          }\r\n        },\r\n\r\n        event: {\r\n          input: function() {\r\n            if(settings.searchDelay) {\r\n              clearTimeout(module.timer);\r\n              module.timer = setTimeout(function() {\r\n                if(module.is.focused()) {\r\n                  module.query();\r\n                }\r\n              }, settings.searchDelay);\r\n            }\r\n            else {\r\n              module.query();\r\n            }\r\n          },\r\n          focus: function() {\r\n            module.set.focus();\r\n            if(settings.searchOnFocus && module.has.minimumCharacters() ) {\r\n              module.query(function() {\r\n                if(module.can.show() ) {\r\n                  module.showResults();\r\n                }\r\n              });\r\n            }\r\n          },\r\n          blur: function(event) {\r\n            var\r\n              pageLostFocus = (document.activeElement === this),\r\n              callback      = function() {\r\n                module.cancel.query();\r\n                module.remove.focus();\r\n                module.timer = setTimeout(module.hideResults, settings.hideDelay);\r\n              }\r\n            ;\r\n            if(pageLostFocus) {\r\n              return;\r\n            }\r\n            resultsDismissed = false;\r\n            if(module.resultsClicked) {\r\n              module.debug('Determining if user action caused search to close');\r\n              $module\r\n                .one('click.close' + eventNamespace, selector.results, function(event) {\r\n                  if(module.is.inMessage(event) || disabledBubbled) {\r\n                    $prompt.focus();\r\n                    return;\r\n                  }\r\n                  disabledBubbled = false;\r\n                  if( !module.is.animating() && !module.is.hidden()) {\r\n                    callback();\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.debug('Input blurred without user action, closing results');\r\n              callback();\r\n            }\r\n          },\r\n          result: {\r\n            mousedown: function() {\r\n              module.resultsClicked = true;\r\n            },\r\n            mouseup: function() {\r\n              module.resultsClicked = false;\r\n            },\r\n            click: function(event) {\r\n              module.debug('Search result selected');\r\n              var\r\n                $result = $(this),\r\n                $title  = $result.find(selector.title).eq(0),\r\n                $link   = $result.is('a[href]')\r\n                  ? $result\r\n                  : $result.find('a[href]').eq(0),\r\n                href    = $link.attr('href')   || false,\r\n                target  = $link.attr('target') || false,\r\n                // title is used for result lookup\r\n                value   = ($title.length > 0)\r\n                  ? $title.text()\r\n                  : false,\r\n                results = module.get.results(),\r\n                result  = $result.data(metadata.result) || module.get.result(value, results)\r\n              ;\r\n              if(value) {\r\n                module.set.value(value);\r\n              }\r\n              if( $.isFunction(settings.onSelect) ) {\r\n                if(settings.onSelect.call(element, result, results) === false) {\r\n                  module.debug('Custom onSelect callback cancelled default select action');\r\n                  disabledBubbled = true;\r\n                  return;\r\n                }\r\n              }\r\n              module.hideResults();\r\n              if(href) {\r\n                module.verbose('Opening search link found in result', $link);\r\n                if(target == '_blank' || event.ctrlKey) {\r\n                  window.open(href);\r\n                }\r\n                else {\r\n                  window.location.href = (href);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        ensureVisible: function ensureVisible($el) {\r\n          var elTop, elBottom, resultsScrollTop, resultsHeight;\r\n\r\n          elTop = $el.position().top;\r\n          elBottom = elTop + $el.outerHeight(true);\r\n\r\n          resultsScrollTop = $results.scrollTop();\r\n          resultsHeight = $results.height()\r\n            parseInt($results.css('paddingTop'), 0) +\r\n            parseInt($results.css('paddingBottom'), 0);\r\n            \r\n          if (elTop < 0) {\r\n            $results.scrollTop(resultsScrollTop + elTop);\r\n          }\r\n\r\n          else if (resultsHeight < elBottom) {\r\n            $results.scrollTop(resultsScrollTop + (elBottom - resultsHeight));\r\n          }\r\n        },\r\n        handleKeyboard: function(event) {\r\n          var\r\n            // force selector refresh\r\n            $result         = $module.find(selector.result),\r\n            $category       = $module.find(selector.category),\r\n            $activeResult   = $result.filter('.' + className.active),\r\n            currentIndex    = $result.index( $activeResult ),\r\n            resultSize      = $result.length,\r\n            hasActiveResult = $activeResult.length > 0,\r\n\r\n            keyCode         = event.which,\r\n            keys            = {\r\n              backspace : 8,\r\n              enter     : 13,\r\n              escape    : 27,\r\n              upArrow   : 38,\r\n              downArrow : 40\r\n            },\r\n            newIndex\r\n          ;\r\n          // search shortcuts\r\n          if(keyCode == keys.escape) {\r\n            module.verbose('Escape key pressed, blurring search field');\r\n            module.hideResults();\r\n            resultsDismissed = true;\r\n          }\r\n          if( module.is.visible() ) {\r\n            if(keyCode == keys.enter) {\r\n              module.verbose('Enter key pressed, selecting active result');\r\n              if( $result.filter('.' + className.active).length > 0 ) {\r\n                module.event.result.click.call($result.filter('.' + className.active), event);\r\n                event.preventDefault();\r\n                return false;\r\n              }\r\n            }\r\n            else if(keyCode == keys.upArrow && hasActiveResult) {\r\n              module.verbose('Up key pressed, changing active result');\r\n              newIndex = (currentIndex - 1 < 0)\r\n                ? currentIndex\r\n                : currentIndex - 1\r\n              ;\r\n              $category\r\n                .removeClass(className.active)\r\n              ;\r\n              $result\r\n                .removeClass(className.active)\r\n                .eq(newIndex)\r\n                  .addClass(className.active)\r\n                  .closest($category)\r\n                    .addClass(className.active)\r\n              ;\r\n              module.ensureVisible($result.eq(newIndex));\r\n              event.preventDefault();\r\n            }\r\n            else if(keyCode == keys.downArrow) {\r\n              module.verbose('Down key pressed, changing active result');\r\n              newIndex = (currentIndex + 1 >= resultSize)\r\n                ? currentIndex\r\n                : currentIndex + 1\r\n              ;\r\n              $category\r\n                .removeClass(className.active)\r\n              ;\r\n              $result\r\n                .removeClass(className.active)\r\n                .eq(newIndex)\r\n                  .addClass(className.active)\r\n                  .closest($category)\r\n                    .addClass(className.active)\r\n              ;\r\n              module.ensureVisible($result.eq(newIndex));\r\n              event.preventDefault();\r\n            }\r\n          }\r\n          else {\r\n            // query shortcuts\r\n            if(keyCode == keys.enter) {\r\n              module.verbose('Enter key pressed, executing query');\r\n              module.query();\r\n              module.set.buttonPressed();\r\n              $prompt.one('keyup', module.remove.buttonFocus);\r\n            }\r\n          }\r\n        },\r\n\r\n        setup: {\r\n          api: function(searchTerm, callback) {\r\n            var\r\n              apiSettings = {\r\n                debug             : settings.debug,\r\n                on                : false,\r\n                cache             : settings.cache,\r\n                action            : 'search',\r\n                urlData           : {\r\n                  query : searchTerm\r\n                },\r\n                onSuccess         : function(response) {\r\n                  module.parse.response.call(element, response, searchTerm);\r\n                  callback();\r\n                },\r\n                onFailure         : function() {\r\n                  module.displayMessage(error.serverError);\r\n                  callback();\r\n                },\r\n                onAbort : function(response) {\r\n                },\r\n                onError           : module.error\r\n              }\r\n            ;\r\n            $.extend(true, apiSettings, settings.apiSettings);\r\n            module.verbose('Setting up API request', apiSettings);\r\n            $module.api(apiSettings);\r\n          }\r\n        },\r\n\r\n        can: {\r\n          useAPI: function() {\r\n            return $.fn.api !== undefined;\r\n          },\r\n          show: function() {\r\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\r\n          },\r\n          transition: function() {\r\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\r\n          }\r\n        },\r\n\r\n        is: {\r\n          animating: function() {\r\n            return $results.hasClass(className.animating);\r\n          },\r\n          hidden: function() {\r\n            return $results.hasClass(className.hidden);\r\n          },\r\n          inMessage: function(event) {\r\n            if(!event.target) {\r\n              return;\r\n            }\r\n            var\r\n              $target = $(event.target),\r\n              isInDOM = $.contains(document.documentElement, event.target)\r\n            ;\r\n            return (isInDOM && $target.closest(selector.message).length > 0);\r\n          },\r\n          empty: function() {\r\n            return ($results.html() === '');\r\n          },\r\n          visible: function() {\r\n            return ($results.filter(':visible').length > 0);\r\n          },\r\n          focused: function() {\r\n            return ($prompt.filter(':focus').length > 0);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          settings: function() {\r\n            if($.isPlainObject(parameters) && parameters.searchFullText) {\r\n              settings.fullTextSearch = parameters.searchFullText;\r\n              module.error(settings.error.oldSearchSyntax, element);\r\n            }\r\n            if (settings.ignoreDiacritics && !String.prototype.normalize) {\r\n              settings.ignoreDiacritics = false;\r\n              module.error(error.noNormalize, element);\r\n            }\r\n          },\r\n          inputEvent: function() {\r\n            var\r\n              prompt = $prompt[0],\r\n              inputEvent   = (prompt !== undefined && prompt.oninput !== undefined)\r\n                ? 'input'\r\n                : (prompt !== undefined && prompt.onpropertychange !== undefined)\r\n                  ? 'propertychange'\r\n                  : 'keyup'\r\n            ;\r\n            return inputEvent;\r\n          },\r\n          value: function() {\r\n            return $prompt.val();\r\n          },\r\n          results: function() {\r\n            var\r\n              results = $module.data(metadata.results)\r\n            ;\r\n            return results;\r\n          },\r\n          result: function(value, results) {\r\n            var\r\n              result       = false\r\n            ;\r\n            value = (value !== undefined)\r\n              ? value\r\n              : module.get.value()\r\n            ;\r\n            results = (results !== undefined)\r\n              ? results\r\n              : module.get.results()\r\n            ;\r\n            if(settings.type === 'category') {\r\n              module.debug('Finding result that matches', value);\r\n              $.each(results, function(index, category) {\r\n                if(Array.isArray(category.results)) {\r\n                  result = module.search.object(value, category.results)[0];\r\n                  // don't continue searching if a result is found\r\n                  if(result) {\r\n                    return false;\r\n                  }\r\n                }\r\n              });\r\n            }\r\n            else {\r\n              module.debug('Finding result in results object', value);\r\n              result = module.search.object(value, results)[0];\r\n            }\r\n            return result || false;\r\n          },\r\n        },\r\n\r\n        select: {\r\n          firstResult: function() {\r\n            module.verbose('Selecting first result');\r\n            $result.first().addClass(className.active);\r\n          }\r\n        },\r\n\r\n        set: {\r\n          focus: function() {\r\n            $module.addClass(className.focus);\r\n          },\r\n          loading: function() {\r\n            $module.addClass(className.loading);\r\n          },\r\n          value: function(value) {\r\n            module.verbose('Setting search input value', value);\r\n            $prompt\r\n              .val(value)\r\n            ;\r\n          },\r\n          type: function(type) {\r\n            type = type || settings.type;\r\n            if(settings.type == 'category') {\r\n              $module.addClass(settings.type);\r\n            }\r\n          },\r\n          buttonPressed: function() {\r\n            $searchButton.addClass(className.pressed);\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          loading: function() {\r\n            $module.removeClass(className.loading);\r\n          },\r\n          focus: function() {\r\n            $module.removeClass(className.focus);\r\n          },\r\n          buttonPressed: function() {\r\n            $searchButton.removeClass(className.pressed);\r\n          },\r\n          diacritics: function(text) {\r\n            return settings.ignoreDiacritics ?  text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : text;\r\n          }\r\n        },\r\n\r\n        query: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          var\r\n            searchTerm = module.get.value(),\r\n            cache = module.read.cache(searchTerm)\r\n          ;\r\n          callback = callback || function() {};\r\n          if( module.has.minimumCharacters() )  {\r\n            if(cache) {\r\n              module.debug('Reading result from cache', searchTerm);\r\n              module.save.results(cache.results);\r\n              module.addResults(cache.html);\r\n              module.inject.id(cache.results);\r\n              callback();\r\n            }\r\n            else {\r\n              module.debug('Querying for', searchTerm);\r\n              if($.isPlainObject(settings.source) || Array.isArray(settings.source)) {\r\n                module.search.local(searchTerm);\r\n                callback();\r\n              }\r\n              else if( module.can.useAPI() ) {\r\n                module.search.remote(searchTerm, callback);\r\n              }\r\n              else {\r\n                module.error(error.source);\r\n                callback();\r\n              }\r\n            }\r\n            settings.onSearchQuery.call(element, searchTerm);\r\n          }\r\n          else {\r\n            module.hideResults();\r\n          }\r\n        },\r\n\r\n        search: {\r\n          local: function(searchTerm) {\r\n            var\r\n              results = module.search.object(searchTerm, settings.source),\r\n              searchHTML\r\n            ;\r\n            module.set.loading();\r\n            module.save.results(results);\r\n            module.debug('Returned full local search results', results);\r\n            if(settings.maxResults > 0) {\r\n              module.debug('Using specified max results', results);\r\n              results = results.slice(0, settings.maxResults);\r\n            }\r\n            if(settings.type == 'category') {\r\n              results = module.create.categoryResults(results);\r\n            }\r\n            searchHTML = module.generateResults({\r\n              results: results\r\n            });\r\n            module.remove.loading();\r\n            module.addResults(searchHTML);\r\n            module.inject.id(results);\r\n            module.write.cache(searchTerm, {\r\n              html    : searchHTML,\r\n              results : results\r\n            });\r\n          },\r\n          remote: function(searchTerm, callback) {\r\n            callback = $.isFunction(callback)\r\n              ? callback\r\n              : function(){}\r\n            ;\r\n            if($module.api('is loading')) {\r\n              $module.api('abort');\r\n            }\r\n            module.setup.api(searchTerm, callback);\r\n            $module\r\n              .api('query')\r\n            ;\r\n          },\r\n          object: function(searchTerm, source, searchFields) {\r\n            searchTerm = module.remove.diacritics(String(searchTerm));\r\n            var\r\n              results      = [],\r\n              exactResults = [],\r\n              fuzzyResults = [],\r\n              searchExp    = searchTerm.replace(regExp.escape, '\\\\$&'),\r\n              matchRegExp  = new RegExp(regExp.beginsWith + searchExp, 'i'),\r\n\r\n              // avoid duplicates when pushing results\r\n              addResult = function(array, result) {\r\n                var\r\n                  notResult      = ($.inArray(result, results) == -1),\r\n                  notFuzzyResult = ($.inArray(result, fuzzyResults) == -1),\r\n                  notExactResults = ($.inArray(result, exactResults) == -1)\r\n                ;\r\n                if(notResult && notFuzzyResult && notExactResults) {\r\n                  array.push(result);\r\n                }\r\n              }\r\n            ;\r\n            source = source || settings.source;\r\n            searchFields = (searchFields !== undefined)\r\n              ? searchFields\r\n              : settings.searchFields\r\n            ;\r\n\r\n            // search fields should be array to loop correctly\r\n            if(!Array.isArray(searchFields)) {\r\n              searchFields = [searchFields];\r\n            }\r\n\r\n            // exit conditions if no source\r\n            if(source === undefined || source === false) {\r\n              module.error(error.source);\r\n              return [];\r\n            }\r\n            // iterate through search fields looking for matches\r\n            $.each(searchFields, function(index, field) {\r\n              $.each(source, function(label, content) {\r\n                var\r\n                  fieldExists = (typeof content[field] == 'string') || (typeof content[field] == 'number')\r\n                ;\r\n                if(fieldExists) {\r\n                  var text;\r\n                  if (typeof content[field] === 'string'){  \r\n                      text = module.remove.diacritics(content[field]);\r\n                  } else {\r\n                      text = content[field].toString(); \r\n                  }\r\n                  if( text.search(matchRegExp) !== -1) {\r\n                    // content starts with value (first in results)\r\n                    addResult(results, content);\r\n                  }\r\n                  else if(settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text) ) {\r\n                    // content fuzzy matches (last in results)\r\n                    addResult(exactResults, content);\r\n                  }\r\n                  else if(settings.fullTextSearch == true && module.fuzzySearch(searchTerm, text) ) {\r\n                    // content fuzzy matches (last in results)\r\n                    addResult(fuzzyResults, content);\r\n                  }\r\n                }\r\n              });\r\n            });\r\n            $.merge(exactResults, fuzzyResults);\r\n            $.merge(results, exactResults);\r\n            return results;\r\n          }\r\n        },\r\n        exactSearch: function (query, term) {\r\n          query = query.toLowerCase();\r\n          term  = term.toLowerCase();\r\n          return term.indexOf(query) > -1;\r\n        },\r\n        fuzzySearch: function(query, term) {\r\n          var\r\n            termLength  = term.length,\r\n            queryLength = query.length\r\n          ;\r\n          if(typeof query !== 'string') {\r\n            return false;\r\n          }\r\n          query = query.toLowerCase();\r\n          term  = term.toLowerCase();\r\n          if(queryLength > termLength) {\r\n            return false;\r\n          }\r\n          if(queryLength === termLength) {\r\n            return (query === term);\r\n          }\r\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\r\n            var\r\n              queryCharacter = query.charCodeAt(characterIndex)\r\n            ;\r\n            while(nextCharacterIndex < termLength) {\r\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\r\n                continue search;\r\n              }\r\n            }\r\n            return false;\r\n          }\r\n          return true;\r\n        },\r\n\r\n        parse: {\r\n          response: function(response, searchTerm) {\r\n            if(Array.isArray(response)){\r\n                var o={};\r\n                o[fields.results]=response;\r\n                response = o;\r\n            }\r\n            var\r\n              searchHTML = module.generateResults(response)\r\n            ;\r\n            module.verbose('Parsing server response', response);\r\n            if(response !== undefined) {\r\n              if(searchTerm !== undefined && response[fields.results] !== undefined) {\r\n                module.addResults(searchHTML);\r\n                module.inject.id(response[fields.results]);\r\n                module.write.cache(searchTerm, {\r\n                  html    : searchHTML,\r\n                  results : response[fields.results]\r\n                });\r\n                module.save.results(response[fields.results]);\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        cancel: {\r\n          query: function() {\r\n            if( module.can.useAPI() ) {\r\n              $module.api('abort');\r\n            }\r\n          }\r\n        },\r\n\r\n        has: {\r\n          minimumCharacters: function() {\r\n            var\r\n              searchTerm    = module.get.value(),\r\n              numCharacters = searchTerm.length\r\n            ;\r\n            return (numCharacters >= settings.minCharacters);\r\n          },\r\n          results: function() {\r\n            if($results.length === 0) {\r\n              return false;\r\n            }\r\n            var\r\n              html = $results.html()\r\n            ;\r\n            return html != '';\r\n          }\r\n        },\r\n\r\n        clear: {\r\n          cache: function(value) {\r\n            var\r\n              cache = $module.data(metadata.cache)\r\n            ;\r\n            if(!value) {\r\n              module.debug('Clearing cache', value);\r\n              $module.removeData(metadata.cache);\r\n            }\r\n            else if(value && cache && cache[value]) {\r\n              module.debug('Removing value from cache', value);\r\n              delete cache[value];\r\n              $module.data(metadata.cache, cache);\r\n            }\r\n          }\r\n        },\r\n\r\n        read: {\r\n          cache: function(name) {\r\n            var\r\n              cache = $module.data(metadata.cache)\r\n            ;\r\n            if(settings.cache) {\r\n              module.verbose('Checking cache for generated html for query', name);\r\n              return (typeof cache == 'object') && (cache[name] !== undefined)\r\n                ? cache[name]\r\n                : false\r\n              ;\r\n            }\r\n            return false;\r\n          }\r\n        },\r\n\r\n        create: {\r\n          categoryResults: function(results) {\r\n            var\r\n              categoryResults = {}\r\n            ;\r\n            $.each(results, function(index, result) {\r\n              if(!result.category) {\r\n                return;\r\n              }\r\n              if(categoryResults[result.category] === undefined) {\r\n                module.verbose('Creating new category of results', result.category);\r\n                categoryResults[result.category] = {\r\n                  name    : result.category,\r\n                  results : [result]\r\n                };\r\n              }\r\n              else {\r\n                categoryResults[result.category].results.push(result);\r\n              }\r\n            });\r\n            return categoryResults;\r\n          },\r\n          id: function(resultIndex, categoryIndex) {\r\n            var\r\n              resultID      = (resultIndex + 1), // not zero indexed\r\n              letterID,\r\n              id\r\n            ;\r\n            if(categoryIndex !== undefined) {\r\n              // start char code for \"A\"\r\n              letterID = String.fromCharCode(97 + categoryIndex);\r\n              id          = letterID + resultID;\r\n              module.verbose('Creating category result id', id);\r\n            }\r\n            else {\r\n              id = resultID;\r\n              module.verbose('Creating result id', id);\r\n            }\r\n            return id;\r\n          },\r\n          results: function() {\r\n            if($results.length === 0) {\r\n              $results = $('<div />')\r\n                .addClass(className.results)\r\n                .appendTo($module)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        inject: {\r\n          result: function(result, resultIndex, categoryIndex) {\r\n            module.verbose('Injecting result into results');\r\n            var\r\n              $selectedResult = (categoryIndex !== undefined)\r\n                ? $results\r\n                    .children().eq(categoryIndex)\r\n                      .children(selector.results)\r\n                        .first()\r\n                        .children(selector.result)\r\n                          .eq(resultIndex)\r\n                : $results\r\n                    .children(selector.result).eq(resultIndex)\r\n            ;\r\n            module.verbose('Injecting results metadata', $selectedResult);\r\n            $selectedResult\r\n              .data(metadata.result, result)\r\n            ;\r\n          },\r\n          id: function(results) {\r\n            module.debug('Injecting unique ids into results');\r\n            var\r\n              // since results may be object, we must use counters\r\n              categoryIndex = 0,\r\n              resultIndex   = 0\r\n            ;\r\n            if(settings.type === 'category') {\r\n              // iterate through each category result\r\n              $.each(results, function(index, category) {\r\n                if(category.results.length > 0){\r\n                  resultIndex = 0;\r\n                  $.each(category.results, function(index, result) {\r\n                    if(result.id === undefined) {\r\n                      result.id = module.create.id(resultIndex, categoryIndex);\r\n                    }\r\n                    module.inject.result(result, resultIndex, categoryIndex);\r\n                    resultIndex++;\r\n                  });\r\n                  categoryIndex++;\r\n                }\r\n              });\r\n            }\r\n            else {\r\n              // top level\r\n              $.each(results, function(index, result) {\r\n                if(result.id === undefined) {\r\n                  result.id = module.create.id(resultIndex);\r\n                }\r\n                module.inject.result(result, resultIndex);\r\n                resultIndex++;\r\n              });\r\n            }\r\n            return results;\r\n          }\r\n        },\r\n\r\n        save: {\r\n          results: function(results) {\r\n            module.verbose('Saving current search results to metadata', results);\r\n            $module.data(metadata.results, results);\r\n          }\r\n        },\r\n\r\n        write: {\r\n          cache: function(name, value) {\r\n            var\r\n              cache = ($module.data(metadata.cache) !== undefined)\r\n                ? $module.data(metadata.cache)\r\n                : {}\r\n            ;\r\n            if(settings.cache) {\r\n              module.verbose('Writing generated html to cache', name, value);\r\n              cache[name] = value;\r\n              $module\r\n                .data(metadata.cache, cache)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        addResults: function(html) {\r\n          if( $.isFunction(settings.onResultsAdd) ) {\r\n            if( settings.onResultsAdd.call($results, html) === false ) {\r\n              module.debug('onResultsAdd callback cancelled default action');\r\n              return false;\r\n            }\r\n          }\r\n          if(html) {\r\n            $results\r\n              .html(html)\r\n            ;\r\n            module.refreshResults();\r\n            if(settings.selectFirstResult) {\r\n              module.select.firstResult();\r\n            }\r\n            module.showResults();\r\n          }\r\n          else {\r\n            module.hideResults(function() {\r\n              $results.empty();\r\n            });\r\n          }\r\n        },\r\n\r\n        showResults: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if(resultsDismissed) {\r\n            return;\r\n          }\r\n          if(!module.is.visible() && module.has.results()) {\r\n            if( module.can.transition() ) {\r\n              module.debug('Showing results with css animations');\r\n              $results\r\n                .transition({\r\n                  animation  : settings.transition + ' in',\r\n                  debug      : settings.debug,\r\n                  verbose    : settings.verbose,\r\n                  duration   : settings.duration,\r\n                  onShow     : function() {\r\n                    var $firstResult = $module.find(selector.result).eq(0);\r\n                    if($firstResult.length > 0) {\r\n                      module.ensureVisible($firstResult);\r\n                    }\r\n                  },\r\n                  onComplete : function() {\r\n                    callback();\r\n                  },\r\n                  queue      : true\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.debug('Showing results with javascript');\r\n              $results\r\n                .stop()\r\n                .fadeIn(settings.duration, settings.easing)\r\n              ;\r\n            }\r\n            settings.onResultsOpen.call($results);\r\n          }\r\n        },\r\n        hideResults: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if( module.is.visible() ) {\r\n            if( module.can.transition() ) {\r\n              module.debug('Hiding results with css animations');\r\n              $results\r\n                .transition({\r\n                  animation  : settings.transition + ' out',\r\n                  debug      : settings.debug,\r\n                  verbose    : settings.verbose,\r\n                  duration   : settings.duration,\r\n                  onComplete : function() {\r\n                    callback();\r\n                  },\r\n                  queue      : true\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.debug('Hiding results with javascript');\r\n              $results\r\n                .stop()\r\n                .fadeOut(settings.duration, settings.easing)\r\n              ;\r\n            }\r\n            settings.onResultsClose.call($results);\r\n          }\r\n        },\r\n\r\n        generateResults: function(response) {\r\n          module.debug('Generating html from response', response);\r\n          var\r\n            template       = settings.templates[settings.type],\r\n            isProperObject = ($.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results])),\r\n            isProperArray  = (Array.isArray(response[fields.results]) && response[fields.results].length > 0),\r\n            html           = ''\r\n          ;\r\n          if(isProperObject || isProperArray ) {\r\n            if(settings.maxResults > 0) {\r\n              if(isProperObject) {\r\n                if(settings.type == 'standard') {\r\n                  module.error(error.maxResults);\r\n                }\r\n              }\r\n              else {\r\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\r\n              }\r\n            }\r\n            if($.isFunction(template)) {\r\n              html = template(response, fields, settings.preserveHTML);\r\n            }\r\n            else {\r\n              module.error(error.noTemplate, false);\r\n            }\r\n          }\r\n          else if(settings.showNoResults) {\r\n            html = module.displayMessage(error.noResults, 'empty', error.noResultsHeader);\r\n          }\r\n          settings.onResults.call(element, response);\r\n          return html;\r\n        },\r\n\r\n        displayMessage: function(text, type, header) {\r\n          type = type || 'standard';\r\n          module.debug('Displaying message', text, type, header);\r\n          module.addResults( settings.templates.message(text, type, header) );\r\n          return settings.templates.message(text, type, header);\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            settings[name] = value;\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.search.settings = {\r\n\r\n  name              : 'Search',\r\n  namespace         : 'search',\r\n\r\n  silent            : false,\r\n  debug             : false,\r\n  verbose           : false,\r\n  performance       : true,\r\n\r\n  // template to use (specified in settings.templates)\r\n  type              : 'standard',\r\n\r\n  // minimum characters required to search\r\n  minCharacters     : 1,\r\n\r\n  // whether to select first result after searching automatically\r\n  selectFirstResult : false,\r\n\r\n  // API config\r\n  apiSettings       : false,\r\n\r\n  // object to search\r\n  source            : false,\r\n\r\n  // Whether search should query current term on focus\r\n  searchOnFocus     : true,\r\n\r\n  // fields to search\r\n  searchFields   : [\r\n    'id',\r\n    'title',\r\n    'description'\r\n  ],\r\n\r\n  // field to display in standard results template\r\n  displayField   : '',\r\n\r\n  // search anywhere in value (set to 'exact' to require exact matches\r\n  fullTextSearch : 'exact',\r\n\r\n  // match results also if they contain diacritics of the same base character (for example searching for \"a\" will also match \"\" or \"\" or \"\", etc...)\r\n  ignoreDiacritics : false,\r\n\r\n  // whether to add events to prompt automatically\r\n  automatic      : true,\r\n\r\n  // delay before hiding menu after blur\r\n  hideDelay      : 0,\r\n\r\n  // delay before searching\r\n  searchDelay    : 200,\r\n\r\n  // maximum results returned from search\r\n  maxResults     : 7,\r\n\r\n  // whether to store lookups in local cache\r\n  cache          : true,\r\n\r\n  // whether no results errors should be shown\r\n  showNoResults  : true,\r\n\r\n  // preserve possible html of resultset values\r\n  preserveHTML   : true,\r\n\r\n  // transition settings\r\n  transition     : 'scale',\r\n  duration       : 200,\r\n  easing         : 'easeOutExpo',\r\n\r\n  // callbacks\r\n  onSelect       : false,\r\n  onResultsAdd   : false,\r\n\r\n  onSearchQuery  : function(query){},\r\n  onResults      : function(response){},\r\n\r\n  onResultsOpen  : function(){},\r\n  onResultsClose : function(){},\r\n\r\n  className: {\r\n    animating : 'animating',\r\n    active    : 'active',\r\n    empty     : 'empty',\r\n    focus     : 'focus',\r\n    hidden    : 'hidden',\r\n    loading   : 'loading',\r\n    results   : 'results',\r\n    pressed   : 'down'\r\n  },\r\n\r\n  error : {\r\n    source          : 'Cannot search. No source used, and Semantic API module was not included',\r\n    noResultsHeader : 'No Results',\r\n    noResults       : 'Your search returned no results',\r\n    logging         : 'Error in debug logging, exiting.',\r\n    noEndpoint      : 'No search endpoint was specified',\r\n    noTemplate      : 'A valid template name was not specified.',\r\n    oldSearchSyntax : 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\r\n    serverError     : 'There was an issue querying the server.',\r\n    maxResults      : 'Results must be an array to use maxResults setting',\r\n    method          : 'The method you called is not defined.',\r\n    noNormalize     : '\"ignoreDiacritics\" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'\r\n  },\r\n\r\n  metadata: {\r\n    cache   : 'cache',\r\n    results : 'results',\r\n    result  : 'result'\r\n  },\r\n\r\n  regExp: {\r\n    escape     : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\r\n    beginsWith : '(?:\\s|^)'\r\n  },\r\n\r\n  // maps api response attributes to internal representation\r\n  fields: {\r\n    categories      : 'results',     // array of categories (category view)\r\n    categoryName    : 'name',        // name of category (category view)\r\n    categoryResults : 'results',     // array of results (category view)\r\n    description     : 'description', // result description\r\n    image           : 'image',       // result image\r\n    price           : 'price',       // result price\r\n    results         : 'results',     // array of results (standard)\r\n    title           : 'title',       // result title\r\n    url             : 'url',         // result url\r\n    action          : 'action',      // \"view more\" object name\r\n    actionText      : 'text',        // \"view more\" text\r\n    actionURL       : 'url'          // \"view more\" url\r\n  },\r\n\r\n  selector : {\r\n    prompt       : '.prompt',\r\n    searchButton : '.search.button',\r\n    results      : '.results',\r\n    message      : '.results > .message',\r\n    category     : '.category',\r\n    result       : '.result',\r\n    title        : '.title, .name'\r\n  },\r\n\r\n  templates: {\r\n    escape: function(string, preserveHTML) {\r\n      if (preserveHTML){\r\n        return string;\r\n      }\r\n      var\r\n        badChars     = /[<>\"'`]/g,\r\n        shouldEscape = /[&<>\"'`]/,\r\n        escape       = {\r\n          \"<\": \"&lt;\",\r\n          \">\": \"&gt;\",\r\n          '\"': \"&quot;\",\r\n          \"'\": \"&#x27;\",\r\n          \"`\": \"&#x60;\"\r\n        },\r\n        escapedChar  = function(chr) {\r\n          return escape[chr];\r\n        }\r\n      ;\r\n      if(shouldEscape.test(string)) {\r\n        string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\r\n        return string.replace(badChars, escapedChar);\r\n      }\r\n      return string;\r\n    },\r\n    message: function(message, type, header) {\r\n      var\r\n        html = ''\r\n      ;\r\n      if(message !== undefined && type !== undefined) {\r\n        html +=  ''\r\n          + '<div class=\"message ' + type + '\">'\r\n        ;\r\n        if(header) {\r\n          html += ''\r\n          + '<div class=\"header\">' + header + '</div>'\r\n          ;\r\n        }\r\n        html += ' <div class=\"description\">' + message + '</div>';\r\n        html += '</div>';\r\n      }\r\n      return html;\r\n    },\r\n    category: function(response, fields, preserveHTML) {\r\n      var\r\n        html = '',\r\n        escape = $.fn.search.settings.templates.escape\r\n      ;\r\n      if(response[fields.categoryResults] !== undefined) {\r\n\r\n        // each category\r\n        $.each(response[fields.categoryResults], function(index, category) {\r\n          if(category[fields.results] !== undefined && category.results.length > 0) {\r\n\r\n            html  += '<div class=\"category\">';\r\n\r\n            if(category[fields.categoryName] !== undefined) {\r\n              html += '<div class=\"name\">' + escape(category[fields.categoryName], preserveHTML) + '</div>';\r\n            }\r\n\r\n            // each item inside category\r\n            html += '<div class=\"results\">';\r\n            $.each(category.results, function(index, result) {\r\n              if(result[fields.url]) {\r\n                html  += '<a class=\"result\" href=\"' + result[fields.url].replace(/\"/g,\"\") + '\">';\r\n              }\r\n              else {\r\n                html  += '<a class=\"result\">';\r\n              }\r\n              if(result[fields.image] !== undefined) {\r\n                html += ''\r\n                  + '<div class=\"image\">'\r\n                  + ' <img src=\"' + result[fields.image].replace(/\"/g,\"\") + '\">'\r\n                  + '</div>'\r\n                ;\r\n              }\r\n              html += '<div class=\"content\">';\r\n              if(result[fields.price] !== undefined) {\r\n                html += '<div class=\"price\">' + escape(result[fields.price], preserveHTML) + '</div>';\r\n              }\r\n              if(result[fields.title] !== undefined) {\r\n                html += '<div class=\"title\">' + escape(result[fields.title], preserveHTML) + '</div>';\r\n              }\r\n              if(result[fields.description] !== undefined) {\r\n                html += '<div class=\"description\">' + escape(result[fields.description], preserveHTML) + '</div>';\r\n              }\r\n              html  += ''\r\n                + '</div>'\r\n              ;\r\n              html += '</a>';\r\n            });\r\n            html += '</div>';\r\n            html  += ''\r\n              + '</div>'\r\n            ;\r\n          }\r\n        });\r\n        if(response[fields.action]) {\r\n          if(fields.actionURL === false) {\r\n            html += ''\r\n            + '<div class=\"action\">'\r\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\r\n            + '</div>';\r\n          } else {\r\n            html += ''\r\n            + '<a href=\"' + response[fields.action][fields.actionURL].replace(/\"/g,\"\") + '\" class=\"action\">'\r\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\r\n            + '</a>';\r\n          }\r\n        }\r\n        return html;\r\n      }\r\n      return false;\r\n    },\r\n    standard: function(response, fields, preserveHTML) {\r\n      var\r\n        html = '',\r\n        escape = $.fn.search.settings.templates.escape\r\n      ;\r\n      if(response[fields.results] !== undefined) {\r\n\r\n        // each result\r\n        $.each(response[fields.results], function(index, result) {\r\n          if(result[fields.url]) {\r\n            html  += '<a class=\"result\" href=\"' + result[fields.url].replace(/\"/g,\"\") + '\">';\r\n          }\r\n          else {\r\n            html  += '<a class=\"result\">';\r\n          }\r\n          if(result[fields.image] !== undefined) {\r\n            html += ''\r\n              + '<div class=\"image\">'\r\n              + ' <img src=\"' + result[fields.image].replace(/\"/g,\"\") + '\">'\r\n              + '</div>'\r\n            ;\r\n          }\r\n          html += '<div class=\"content\">';\r\n          if(result[fields.price] !== undefined) {\r\n            html += '<div class=\"price\">' + escape(result[fields.price], preserveHTML) + '</div>';\r\n          }\r\n          if(result[fields.title] !== undefined) {\r\n            html += '<div class=\"title\">' + escape(result[fields.title], preserveHTML) + '</div>';\r\n          }\r\n          if(result[fields.description] !== undefined) {\r\n            html += '<div class=\"description\">' + escape(result[fields.description], preserveHTML) + '</div>';\r\n          }\r\n          html  += ''\r\n            + '</div>'\r\n          ;\r\n          html += '</a>';\r\n        });\r\n        if(response[fields.action]) {\r\n          if(fields.actionURL === false) {\r\n            html += ''\r\n            + '<div class=\"action\">'\r\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\r\n            + '</div>';\r\n          } else {\r\n            html += ''\r\n            + '<a href=\"' + response[fields.action][fields.actionURL].replace(/\"/g,\"\") + '\" class=\"action\">'\r\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\r\n            + '</a>';\r\n          }\r\n        }\r\n        return html;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Shape\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.shape = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    requestAnimationFrame = window.requestAnimationFrame\r\n      || window.mozRequestAnimationFrame\r\n      || window.webkitRequestAnimationFrame\r\n      || window.msRequestAnimationFrame\r\n      || function(callback) { setTimeout(callback, 0); },\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        moduleSelector = $allModules.selector || '',\r\n        settings       = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.shape.settings, parameters)\r\n          : $.extend({}, $.fn.shape.settings),\r\n\r\n        // internal aliases\r\n        namespace     = settings.namespace,\r\n        selector      = settings.selector,\r\n        error         = settings.error,\r\n        className     = settings.className,\r\n\r\n        // define namespaces for modules\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        // selector cache\r\n        $module       = $(this),\r\n        $sides        = $module.find('>' + selector.sides),\r\n        $side         = $sides.find('>' + selector.side),\r\n\r\n        // private variables\r\n        nextIndex = false,\r\n        $activeSide,\r\n        $nextSide,\r\n\r\n        // standard module\r\n        element       = this,\r\n        instance      = $module.data(moduleNamespace),\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing module for', element);\r\n          module.set.defaultSide();\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module for', element);\r\n          $module\r\n            .removeData(moduleNamespace)\r\n            .off(eventNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          module.verbose('Refreshing selector cache for', element);\r\n          $module = $(element);\r\n          $sides  = $(this).find(selector.sides);\r\n          $side   = $(this).find(selector.side);\r\n        },\r\n\r\n        repaint: function() {\r\n          module.verbose('Forcing repaint event');\r\n          var\r\n            shape          = $sides[0] || document.createElement('div'),\r\n            fakeAssignment = shape.offsetWidth\r\n          ;\r\n        },\r\n\r\n        animate: function(propertyObject, callback) {\r\n          module.verbose('Animating box with properties', propertyObject);\r\n          callback = callback || function(event) {\r\n            module.verbose('Executing animation callback');\r\n            if(event !== undefined) {\r\n              event.stopPropagation();\r\n            }\r\n            module.reset();\r\n            module.set.active();\r\n          };\r\n          settings.beforeChange.call($nextSide[0]);\r\n          if(module.get.transitionEvent()) {\r\n            module.verbose('Starting CSS animation');\r\n            $module\r\n              .addClass(className.animating)\r\n            ;\r\n            $sides\r\n              .css(propertyObject)\r\n              .one(module.get.transitionEvent(), callback)\r\n            ;\r\n            module.set.duration(settings.duration);\r\n            requestAnimationFrame(function() {\r\n              $module\r\n                .addClass(className.animating)\r\n              ;\r\n              $activeSide\r\n                .addClass(className.hidden)\r\n              ;\r\n            });\r\n          }\r\n          else {\r\n            callback();\r\n          }\r\n        },\r\n\r\n        queue: function(method) {\r\n          module.debug('Queueing animation of', method);\r\n          $sides\r\n            .one(module.get.transitionEvent(), function() {\r\n              module.debug('Executing queued animation');\r\n              setTimeout(function(){\r\n                $module.shape(method);\r\n              }, 0);\r\n            })\r\n          ;\r\n        },\r\n\r\n        reset: function() {\r\n          module.verbose('Animating states reset');\r\n          $module\r\n            .removeClass(className.animating)\r\n            .attr('style', '')\r\n            .removeAttr('style')\r\n          ;\r\n          // removeAttr style does not consistently work in safari\r\n          $sides\r\n            .attr('style', '')\r\n            .removeAttr('style')\r\n          ;\r\n          $side\r\n            .attr('style', '')\r\n            .removeAttr('style')\r\n            .removeClass(className.hidden)\r\n          ;\r\n          $nextSide\r\n            .removeClass(className.animating)\r\n            .attr('style', '')\r\n            .removeAttr('style')\r\n          ;\r\n        },\r\n\r\n        is: {\r\n          complete: function() {\r\n            return ($side.filter('.' + className.active)[0] == $nextSide[0]);\r\n          },\r\n          animating: function() {\r\n            return $module.hasClass(className.animating);\r\n          },\r\n          hidden: function() {\r\n            return $module.closest(':hidden').length > 0;\r\n          }\r\n        },\r\n\r\n        set: {\r\n\r\n          defaultSide: function() {\r\n            $activeSide = $side.filter('.' + settings.className.active);\r\n            $nextSide   = ( $activeSide.next(selector.side).length > 0 )\r\n              ? $activeSide.next(selector.side)\r\n              : $side.first()\r\n            ;\r\n            nextIndex = false;\r\n            module.verbose('Active side set to', $activeSide);\r\n            module.verbose('Next side set to', $nextSide);\r\n          },\r\n\r\n          duration: function(duration) {\r\n            duration = duration || settings.duration;\r\n            duration = (typeof duration == 'number')\r\n              ? duration + 'ms'\r\n              : duration\r\n            ;\r\n            module.verbose('Setting animation duration', duration);\r\n            if(settings.duration || settings.duration === 0) {\r\n              $sides.add($side)\r\n                .css({\r\n                  '-webkit-transition-duration': duration,\r\n                  '-moz-transition-duration': duration,\r\n                  '-ms-transition-duration': duration,\r\n                  '-o-transition-duration': duration,\r\n                  'transition-duration': duration\r\n                })\r\n              ;\r\n            }\r\n          },\r\n\r\n          currentStageSize: function() {\r\n            var\r\n              $activeSide = $side.filter('.' + settings.className.active),\r\n              width       = $activeSide.outerWidth(true),\r\n              height      = $activeSide.outerHeight(true)\r\n            ;\r\n            $module\r\n              .css({\r\n                width: width,\r\n                height: height\r\n              })\r\n            ;\r\n          },\r\n\r\n          stageSize: function() {\r\n            var\r\n              $clone      = $module.clone().addClass(className.loading),\r\n              $side       = $clone.find('>' + selector.sides + '>' + selector.side),\r\n              $activeSide = $side.filter('.' + settings.className.active),\r\n              $nextSide   = (nextIndex)\r\n                ? $side.eq(nextIndex)\r\n                : ( $activeSide.next(selector.side).length > 0 )\r\n                  ? $activeSide.next(selector.side)\r\n                  : $side.first(),\r\n              newWidth    = (settings.width === 'next')\r\n                ? $nextSide.outerWidth(true)\r\n                : (settings.width === 'initial')\r\n                  ? $module.width()\r\n                  : settings.width,\r\n              newHeight    = (settings.height === 'next')\r\n                ? $nextSide.outerHeight(true)\r\n                : (settings.height === 'initial')\r\n                  ? $module.height()\r\n                  : settings.height\r\n            ;\r\n            $activeSide.removeClass(className.active);\r\n            $nextSide.addClass(className.active);\r\n            $clone.insertAfter($module);\r\n            $clone.remove();\r\n            if(settings.width !== 'auto') {\r\n              $module.css('width', newWidth + settings.jitter);\r\n              module.verbose('Specifying width during animation', newWidth);\r\n            }\r\n            if(settings.height !== 'auto') {\r\n              $module.css('height', newHeight + settings.jitter);\r\n              module.verbose('Specifying height during animation', newHeight);\r\n            }\r\n          },\r\n\r\n          nextSide: function(selector) {\r\n            nextIndex = selector;\r\n            $nextSide = $side.filter(selector);\r\n            nextIndex = $side.index($nextSide);\r\n            if($nextSide.length === 0) {\r\n              module.set.defaultSide();\r\n              module.error(error.side);\r\n            }\r\n            module.verbose('Next side manually set to', $nextSide);\r\n          },\r\n\r\n          active: function() {\r\n            module.verbose('Setting new side to active', $nextSide);\r\n            $side\r\n              .removeClass(className.active)\r\n            ;\r\n            $nextSide\r\n              .addClass(className.active)\r\n            ;\r\n            settings.onChange.call($nextSide[0]);\r\n            module.set.defaultSide();\r\n          }\r\n        },\r\n\r\n        flip: {\r\n          to: function(type,stage){\r\n            if(module.is.hidden()) {\r\n              module.debug('Module not visible', $nextSide);\r\n              return;\r\n            }\r\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\r\n              module.debug('Side already visible', $nextSide);\r\n              return;\r\n            }\r\n            var\r\n              transform = module.get.transform[type]()\r\n            ;\r\n            if( !module.is.animating()) {\r\n              module.debug('Flipping '+type, $nextSide);\r\n              module.set.stageSize();\r\n              module.stage[stage]();\r\n              module.animate(transform);\r\n            }\r\n            else {\r\n              module.queue('flip '+type);\r\n            }\r\n          },\r\n\r\n          up: function() {\r\n            module.flip.to('up','above');\r\n          },\r\n\r\n          down: function() {\r\n            module.flip.to('down','below');\r\n          },\r\n\r\n          left: function() {\r\n            module.flip.to('left','left');\r\n          },\r\n\r\n          right: function() {\r\n            module.flip.to('right','right');\r\n          },\r\n\r\n          over: function() {\r\n            module.flip.to('over','behind');\r\n          },\r\n\r\n          back: function() {\r\n            module.flip.to('back','behind');\r\n          }\r\n\r\n        },\r\n\r\n        get: {\r\n\r\n          transform: {\r\n            up: function() {\r\n              var\r\n                    translateZ = $activeSide.outerHeight(true) / 2,\r\n                translateY = $nextSide.outerHeight(true) - translateZ\r\n              ;\r\n              return {\r\n                transform: 'translateY(' + translateY + 'px) translateZ(-'+ translateZ + 'px) rotateX(-90deg)'\r\n              };\r\n            },\r\n\r\n            down: function() {\r\n              var\r\n                translate = {\r\n                  z: $activeSide.outerHeight(true) / 2\r\n                }\r\n              ;\r\n              return {\r\n                transform: 'translateY(-' + translate.z + 'px) translateZ(-'+ translate.z + 'px) rotateX(90deg)'\r\n              };\r\n            },\r\n\r\n            left: function() {\r\n              var\r\n                  translateZ = $activeSide.outerWidth(true) / 2,\r\n                  translateX = $nextSide.outerWidth(true) - translateZ\r\n              ;\r\n              return {\r\n                transform: 'translateX(' + translateX + 'px) translateZ(-' + translateZ + 'px) rotateY(90deg)'\r\n              };\r\n            },\r\n\r\n            right: function() {\r\n              var\r\n                translate = {\r\n                  z : $activeSide.outerWidth(true) / 2\r\n                }\r\n              ;\r\n              return {\r\n                transform: 'translateX(-' + translate.z + 'px) translateZ(-' + translate.z + 'px) rotateY(-90deg)'\r\n              };\r\n            },\r\n\r\n            over: function() {\r\n              var\r\n                translate = {\r\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\r\n                }\r\n              ;\r\n              return {\r\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\r\n              };\r\n            },\r\n\r\n            back: function() {\r\n              var\r\n                translate = {\r\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\r\n                }\r\n              ;\r\n              return {\r\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\r\n              };\r\n            }\r\n          },\r\n\r\n          transitionEvent: function() {\r\n            var\r\n              element     = document.createElement('element'),\r\n              transitions = {\r\n                'transition'       :'transitionend',\r\n                'OTransition'      :'oTransitionEnd',\r\n                'MozTransition'    :'transitionend',\r\n                'WebkitTransition' :'webkitTransitionEnd'\r\n              },\r\n              transition\r\n            ;\r\n            for(transition in transitions){\r\n              if( element.style[transition] !== undefined ){\r\n                return transitions[transition];\r\n              }\r\n            }\r\n          },\r\n\r\n          nextSide: function() {\r\n            return ( $activeSide.next(selector.side).length > 0 )\r\n              ? $activeSide.next(selector.side)\r\n              : $side.first()\r\n            ;\r\n          }\r\n\r\n        },\r\n\r\n        stage: {\r\n\r\n          above: function() {\r\n            var\r\n              box = {\r\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\r\n                depth  : {\r\n                  active : ($nextSide.outerHeight(true) / 2),\r\n                  next   : ($activeSide.outerHeight(true) / 2)\r\n                }\r\n              }\r\n            ;\r\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\r\n            $activeSide\r\n              .css({\r\n                'transform' : 'rotateX(0deg)'\r\n              })\r\n            ;\r\n            $nextSide\r\n              .addClass(className.animating)\r\n              .css({\r\n                'top'       : box.origin + 'px',\r\n                'transform' : 'rotateX(90deg) translateZ(' + box.depth.next + 'px) translateY(-' + box.depth.active + 'px)'\r\n              })\r\n            ;\r\n          },\r\n\r\n          below: function() {\r\n            var\r\n              box = {\r\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\r\n                depth  : {\r\n                  active : ($nextSide.outerHeight(true) / 2),\r\n                  next   : ($activeSide.outerHeight(true) / 2)\r\n                }\r\n              }\r\n            ;\r\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\r\n            $activeSide\r\n              .css({\r\n                'transform' : 'rotateX(0deg)'\r\n              })\r\n            ;\r\n            $nextSide\r\n              .addClass(className.animating)\r\n              .css({\r\n                'top'       : box.origin + 'px',\r\n                'transform' : 'rotateX(-90deg) translateZ(' + box.depth.next + 'px) translateY(' + box.depth.active + 'px)'\r\n              })\r\n            ;\r\n          },\r\n\r\n          left: function() {\r\n            var\r\n              height = {\r\n                active : $activeSide.outerWidth(true),\r\n                next   : $nextSide.outerWidth(true)\r\n              },\r\n              box = {\r\n                origin : ( ( height.active - height.next ) / 2),\r\n                depth  : {\r\n                  active : (height.next / 2),\r\n                  next   : (height.active / 2)\r\n                }\r\n              }\r\n            ;\r\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\r\n            $activeSide\r\n              .css({\r\n                'transform' : 'rotateY(0deg)'\r\n              })\r\n            ;\r\n            $nextSide\r\n              .addClass(className.animating)\r\n              .css({\r\n                'left'      : box.origin + 'px',\r\n                'transform' : 'rotateY(-90deg) translateZ(' + box.depth.next + 'px) translateX(-' + box.depth.active + 'px)'\r\n              })\r\n            ;\r\n          },\r\n\r\n          right: function() {\r\n            var\r\n              height = {\r\n                active : $activeSide.outerWidth(true),\r\n                next   : $nextSide.outerWidth(true)\r\n              },\r\n              box = {\r\n                origin : ( ( height.active - height.next ) / 2),\r\n                depth  : {\r\n                  active : (height.next / 2),\r\n                  next   : (height.active / 2)\r\n                }\r\n              }\r\n            ;\r\n            module.verbose('Setting the initial animation position as right', $nextSide, box);\r\n            $activeSide\r\n              .css({\r\n                'transform' : 'rotateY(0deg)'\r\n              })\r\n            ;\r\n            $nextSide\r\n              .addClass(className.animating)\r\n              .css({\r\n                'left'      : box.origin + 'px',\r\n                'transform' : 'rotateY(90deg) translateZ(' + box.depth.next + 'px) translateX(' + box.depth.active + 'px)'\r\n              })\r\n            ;\r\n          },\r\n\r\n          behind: function() {\r\n            var\r\n              height = {\r\n                active : $activeSide.outerWidth(true),\r\n                next   : $nextSide.outerWidth(true)\r\n              },\r\n              box = {\r\n                origin : ( ( height.active - height.next ) / 2),\r\n                depth  : {\r\n                  active : (height.next / 2),\r\n                  next   : (height.active / 2)\r\n                }\r\n              }\r\n            ;\r\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\r\n            $activeSide\r\n              .css({\r\n                'transform' : 'rotateY(0deg)'\r\n              })\r\n            ;\r\n            $nextSide\r\n              .addClass(className.animating)\r\n              .css({\r\n                'left'      : box.origin + 'px',\r\n                'transform' : 'rotateY(-180deg)'\r\n              })\r\n            ;\r\n          }\r\n        },\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        var $inputs = $module.find('input');\r\n        if( $inputs.length > 0) {\r\n          $inputs.blur();\r\n          setTimeout(function(){\r\n            module.invoke(query);\r\n          }, 150);\r\n        } else {\r\n          module.invoke(query);\r\n        }\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.shape.settings = {\r\n\r\n  // module info\r\n  name : 'Shape',\r\n\r\n  // hide all debug content\r\n  silent     : false,\r\n\r\n  // debug content outputted to console\r\n  debug      : false,\r\n\r\n  // verbose debug output\r\n  verbose    : false,\r\n\r\n  // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\r\n  jitter     : 0,\r\n\r\n  // performance data output\r\n  performance: true,\r\n\r\n  // event namespace\r\n  namespace  : 'shape',\r\n\r\n  // width during animation, can be set to 'auto', initial', 'next' or pixel amount\r\n  width: 'initial',\r\n\r\n  // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\r\n  height: 'initial',\r\n\r\n  // callback occurs on side change\r\n  beforeChange : function() {},\r\n  onChange     : function() {},\r\n\r\n  // allow animation to same side\r\n  allowRepeats: false,\r\n\r\n  // animation duration\r\n  duration   : false,\r\n\r\n  // possible errors\r\n  error: {\r\n    side   : 'You tried to switch to a side that does not exist.',\r\n    method : 'The method you called is not defined'\r\n  },\r\n\r\n  // classnames used\r\n  className   : {\r\n    animating : 'animating',\r\n    hidden    : 'hidden',\r\n    loading   : 'loading',\r\n    active    : 'active'\r\n  },\r\n\r\n  // selectors used\r\n  selector    : {\r\n    sides : '.sides',\r\n    side  : '.side'\r\n  }\r\n\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Sidebar\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.sidebar = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n    $window         = $(window),\r\n    $document       = $(document),\r\n    $html           = $('html'),\r\n    $head           = $('head'),\r\n\r\n    moduleSelector  = $allModules.selector || '',\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    requestAnimationFrame = window.requestAnimationFrame\r\n      || window.mozRequestAnimationFrame\r\n      || window.webkitRequestAnimationFrame\r\n      || window.msRequestAnimationFrame\r\n      || function(callback) { setTimeout(callback, 0); },\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.sidebar.settings, parameters)\r\n          : $.extend({}, $.fn.sidebar.settings),\r\n\r\n        selector        = settings.selector,\r\n        className       = settings.className,\r\n        namespace       = settings.namespace,\r\n        regExp          = settings.regExp,\r\n        error           = settings.error,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $module         = $(this),\r\n        $context        = $(settings.context),\r\n\r\n        $sidebars       = $module.children(selector.sidebar),\r\n        $fixed          = $context.children(selector.fixed),\r\n        $pusher         = $context.children(selector.pusher),\r\n        $style,\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        elementNamespace,\r\n        id,\r\n        currentScroll,\r\n        transitionEvent,\r\n\r\n        module\r\n      ;\r\n\r\n      module      = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing sidebar', parameters);\r\n\r\n          module.create.id();\r\n\r\n          transitionEvent = module.get.transitionEvent();\r\n\r\n          // avoids locking rendering if initialized in onReady\r\n          if(settings.delaySetup) {\r\n            requestAnimationFrame(module.setup.layout);\r\n          }\r\n          else {\r\n            module.setup.layout();\r\n          }\r\n\r\n          requestAnimationFrame(function() {\r\n            module.setup.cache();\r\n          });\r\n\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        create: {\r\n          id: function() {\r\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\r\n            elementNamespace = '.' + id;\r\n            module.verbose('Creating unique id for element', id);\r\n          }\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module for', $module);\r\n          $module\r\n            .off(eventNamespace)\r\n            .removeData(moduleNamespace)\r\n          ;\r\n          if(module.is.ios()) {\r\n            module.remove.ios();\r\n          }\r\n          // bound by uuid\r\n          $context.off(elementNamespace);\r\n          $window.off(elementNamespace);\r\n          $document.off(elementNamespace);\r\n        },\r\n\r\n        event: {\r\n          clickaway: function(event) {\r\n            if(settings.closable){\r\n              var\r\n                clickedInPusher = ($pusher.find(event.target).length > 0 || $pusher.is(event.target)),\r\n                clickedContext  = ($context.is(event.target))\r\n              ;\r\n              if(clickedInPusher) {\r\n                module.verbose('User clicked on dimmed page');\r\n                module.hide();\r\n              }\r\n              if(clickedContext) {\r\n                module.verbose('User clicked on dimmable context (scaled out page)');\r\n                module.hide();\r\n              }\r\n            }\r\n          },\r\n          touch: function(event) {\r\n            //event.stopPropagation();\r\n          },\r\n          containScroll: function(event) {\r\n            if(element.scrollTop <= 0)  {\r\n              element.scrollTop = 1;\r\n            }\r\n            if((element.scrollTop + element.offsetHeight) >= element.scrollHeight) {\r\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\r\n            }\r\n          },\r\n          scroll: function(event) {\r\n            if( $(event.target).closest(selector.sidebar).length === 0 ) {\r\n              event.preventDefault();\r\n            }\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          clickaway: function() {\r\n            module.verbose('Adding clickaway events to context', $context);\r\n            $context\r\n              .on('click'    + elementNamespace, module.event.clickaway)\r\n              .on('touchend' + elementNamespace, module.event.clickaway)\r\n            ;\r\n          },\r\n          scrollLock: function() {\r\n            if(settings.scrollLock) {\r\n              module.debug('Disabling page scroll');\r\n              $window\r\n                .on('DOMMouseScroll' + elementNamespace, module.event.scroll)\r\n              ;\r\n            }\r\n            module.verbose('Adding events to contain sidebar scroll');\r\n            $document\r\n              .on('touchmove' + elementNamespace, module.event.touch)\r\n            ;\r\n            $module\r\n              .on('scroll' + eventNamespace, module.event.containScroll)\r\n            ;\r\n          }\r\n        },\r\n        unbind: {\r\n          clickaway: function() {\r\n            module.verbose('Removing clickaway events from context', $context);\r\n            $context.off(elementNamespace);\r\n          },\r\n          scrollLock: function() {\r\n            module.verbose('Removing scroll lock from page');\r\n            $document.off(elementNamespace);\r\n            $window.off(elementNamespace);\r\n            $module.off('scroll' + eventNamespace);\r\n          }\r\n        },\r\n\r\n        add: {\r\n          inlineCSS: function() {\r\n            var\r\n              width     = module.cache.width  || $module.outerWidth(),\r\n              height    = module.cache.height || $module.outerHeight(),\r\n              isRTL     = module.is.rtl(),\r\n              direction = module.get.direction(),\r\n              distance  = {\r\n                left   : width,\r\n                right  : -width,\r\n                top    : height,\r\n                bottom : -height\r\n              },\r\n              style\r\n            ;\r\n\r\n            if(isRTL){\r\n              module.verbose('RTL detected, flipping widths');\r\n              distance.left = -width;\r\n              distance.right = width;\r\n            }\r\n\r\n            style  = '<style>';\r\n\r\n            if(direction === 'left' || direction === 'right') {\r\n              module.debug('Adding CSS rules for animation distance', width);\r\n              style  += ''\r\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\r\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\r\n                + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\r\n                + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\r\n                + ' }'\r\n              ;\r\n            }\r\n            else if(direction === 'top' || direction == 'bottom') {\r\n              style  += ''\r\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\r\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\r\n                + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\r\n                + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\r\n                + ' }'\r\n              ;\r\n            }\r\n\r\n            /* IE is only browser not to create context with transforms */\r\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\r\n            if( module.is.ie() ) {\r\n              if(direction === 'left' || direction === 'right') {\r\n                module.debug('Adding CSS rules for animation distance', width);\r\n                style  += ''\r\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\r\n                  + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\r\n                  + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\r\n                  + ' }'\r\n                ;\r\n              }\r\n              else if(direction === 'top' || direction == 'bottom') {\r\n                style  += ''\r\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\r\n                  + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\r\n                  + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\r\n                  + ' }'\r\n                ;\r\n              }\r\n              /* opposite sides visible forces content overlay */\r\n              style += ''\r\n                + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'\r\n                + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'\r\n                + '   -webkit-transform: translate3d(0, 0, 0);'\r\n                + '           transform: translate3d(0, 0, 0);'\r\n                + ' }'\r\n              ;\r\n            }\r\n            style += '</style>';\r\n            $style = $(style)\r\n              .appendTo($head)\r\n            ;\r\n            module.debug('Adding sizing css to head', $style);\r\n          }\r\n        },\r\n\r\n        refresh: function() {\r\n          module.verbose('Refreshing selector cache');\r\n          $context  = $(settings.context);\r\n          $sidebars = $context.children(selector.sidebar);\r\n          $pusher   = $context.children(selector.pusher);\r\n          $fixed    = $context.children(selector.fixed);\r\n          module.clear.cache();\r\n        },\r\n\r\n        refreshSidebars: function() {\r\n          module.verbose('Refreshing other sidebars');\r\n          $sidebars = $context.children(selector.sidebar);\r\n        },\r\n\r\n        repaint: function() {\r\n          module.verbose('Forcing repaint event');\r\n          element.style.display = 'none';\r\n          var ignored = element.offsetHeight;\r\n          element.scrollTop = element.scrollTop;\r\n          element.style.display = '';\r\n        },\r\n\r\n        setup: {\r\n          cache: function() {\r\n            module.cache = {\r\n              width  : $module.outerWidth(),\r\n              height : $module.outerHeight()\r\n            };\r\n          },\r\n          layout: function() {\r\n            if( $context.children(selector.pusher).length === 0 ) {\r\n              module.debug('Adding wrapper element for sidebar');\r\n              module.error(error.pusher);\r\n              $pusher = $('<div class=\"pusher\" />');\r\n              $context\r\n                .children()\r\n                  .not(selector.omitted)\r\n                  .not($sidebars)\r\n                  .wrapAll($pusher)\r\n              ;\r\n              module.refresh();\r\n            }\r\n            if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\r\n              module.debug('Moved sidebar to correct parent element');\r\n              module.error(error.movedSidebar, element);\r\n              $module.detach().prependTo($context);\r\n              module.refresh();\r\n            }\r\n            module.clear.cache();\r\n            module.set.pushable();\r\n            module.set.direction();\r\n          }\r\n        },\r\n\r\n        attachEvents: function(selector, event) {\r\n          var\r\n            $toggle = $(selector)\r\n          ;\r\n          event = $.isFunction(module[event])\r\n            ? module[event]\r\n            : module.toggle\r\n          ;\r\n          if($toggle.length > 0) {\r\n            module.debug('Attaching sidebar events to element', selector, event);\r\n            $toggle\r\n              .on('click' + eventNamespace, event)\r\n            ;\r\n          }\r\n          else {\r\n            module.error(error.notFound, selector);\r\n          }\r\n        },\r\n\r\n        show: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if(module.is.hidden()) {\r\n            module.refreshSidebars();\r\n            if(settings.overlay)  {\r\n              module.error(error.overlay);\r\n              settings.transition = 'overlay';\r\n            }\r\n            module.refresh();\r\n            if(module.othersActive()) {\r\n              module.debug('Other sidebars currently visible');\r\n              if(settings.exclusive) {\r\n                // if not overlay queue animation after hide\r\n                if(settings.transition != 'overlay') {\r\n                  module.hideOthers(module.show);\r\n                  return;\r\n                }\r\n                else {\r\n                  module.hideOthers();\r\n                }\r\n              }\r\n              else {\r\n                settings.transition = 'overlay';\r\n              }\r\n            }\r\n            module.pushPage(function() {\r\n              callback.call(element);\r\n              settings.onShow.call(element);\r\n            });\r\n            settings.onChange.call(element);\r\n            settings.onVisible.call(element);\r\n          }\r\n          else {\r\n            module.debug('Sidebar is already visible');\r\n          }\r\n        },\r\n\r\n        hide: function(callback) {\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if(module.is.visible() || module.is.animating()) {\r\n            module.debug('Hiding sidebar', callback);\r\n            module.refreshSidebars();\r\n            module.pullPage(function() {\r\n              callback.call(element);\r\n              settings.onHidden.call(element);\r\n            });\r\n            settings.onChange.call(element);\r\n            settings.onHide.call(element);\r\n          }\r\n        },\r\n\r\n        othersAnimating: function() {\r\n          return ($sidebars.not($module).filter('.' + className.animating).length > 0);\r\n        },\r\n        othersVisible: function() {\r\n          return ($sidebars.not($module).filter('.' + className.visible).length > 0);\r\n        },\r\n        othersActive: function() {\r\n          return(module.othersVisible() || module.othersAnimating());\r\n        },\r\n\r\n        hideOthers: function(callback) {\r\n          var\r\n            $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\r\n            sidebarCount   = $otherSidebars.length,\r\n            callbackCount  = 0\r\n          ;\r\n          callback = callback || function(){};\r\n          $otherSidebars\r\n            .sidebar('hide', function() {\r\n              callbackCount++;\r\n              if(callbackCount == sidebarCount) {\r\n                callback();\r\n              }\r\n            })\r\n          ;\r\n        },\r\n\r\n        toggle: function() {\r\n          module.verbose('Determining toggled direction');\r\n          if(module.is.hidden()) {\r\n            module.show();\r\n          }\r\n          else {\r\n            module.hide();\r\n          }\r\n        },\r\n\r\n        pushPage: function(callback) {\r\n          var\r\n            transition = module.get.transition(),\r\n            $transition = (transition === 'overlay' || module.othersActive())\r\n              ? $module\r\n              : $pusher,\r\n            animate,\r\n            dim,\r\n            transitionEnd\r\n          ;\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          if(settings.transition == 'scale down') {\r\n            module.scrollToTop();\r\n          }\r\n          module.set.transition(transition);\r\n          module.repaint();\r\n          animate = function() {\r\n            module.bind.clickaway();\r\n            module.add.inlineCSS();\r\n            module.set.animating();\r\n            module.set.visible();\r\n          };\r\n          dim = function() {\r\n            module.set.dimmed();\r\n          };\r\n          transitionEnd = function(event) {\r\n            if( event.target == $transition[0] ) {\r\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\r\n              module.remove.animating();\r\n              module.bind.scrollLock();\r\n              callback.call(element);\r\n            }\r\n          };\r\n          $transition.off(transitionEvent + elementNamespace);\r\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\r\n          requestAnimationFrame(animate);\r\n          if(settings.dimPage && !module.othersVisible()) {\r\n            requestAnimationFrame(dim);\r\n          }\r\n        },\r\n\r\n        pullPage: function(callback) {\r\n          var\r\n            transition = module.get.transition(),\r\n            $transition = (transition == 'overlay' || module.othersActive())\r\n              ? $module\r\n              : $pusher,\r\n            animate,\r\n            transitionEnd\r\n          ;\r\n          callback = $.isFunction(callback)\r\n            ? callback\r\n            : function(){}\r\n          ;\r\n          module.verbose('Removing context push state', module.get.direction());\r\n\r\n          module.unbind.clickaway();\r\n          module.unbind.scrollLock();\r\n\r\n          animate = function() {\r\n            module.set.transition(transition);\r\n            module.set.animating();\r\n            module.remove.visible();\r\n            if(settings.dimPage && !module.othersVisible()) {\r\n              $pusher.removeClass(className.dimmed);\r\n            }\r\n          };\r\n          transitionEnd = function(event) {\r\n            if( event.target == $transition[0] ) {\r\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\r\n              module.remove.animating();\r\n              module.remove.transition();\r\n              module.remove.inlineCSS();\r\n              if(transition == 'scale down' || (settings.returnScroll && module.is.mobile()) ) {\r\n                module.scrollBack();\r\n              }\r\n              callback.call(element);\r\n            }\r\n          };\r\n          $transition.off(transitionEvent + elementNamespace);\r\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\r\n          requestAnimationFrame(animate);\r\n        },\r\n\r\n        scrollToTop: function() {\r\n          module.verbose('Scrolling to top of page to avoid animation issues');\r\n          currentScroll = $(window).scrollTop();\r\n          $module.scrollTop(0);\r\n          window.scrollTo(0, 0);\r\n        },\r\n\r\n        scrollBack: function() {\r\n          module.verbose('Scrolling back to original page position');\r\n          window.scrollTo(0, currentScroll);\r\n        },\r\n\r\n        clear: {\r\n          cache: function() {\r\n            module.verbose('Clearing cached dimensions');\r\n            module.cache = {};\r\n          }\r\n        },\r\n\r\n        set: {\r\n\r\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\r\n          // (This is no longer necessary in latest iOS)\r\n          ios: function() {\r\n            $html.addClass(className.ios);\r\n          },\r\n\r\n          // container\r\n          pushed: function() {\r\n            $context.addClass(className.pushed);\r\n          },\r\n          pushable: function() {\r\n            $context.addClass(className.pushable);\r\n          },\r\n\r\n          // pusher\r\n          dimmed: function() {\r\n            $pusher.addClass(className.dimmed);\r\n          },\r\n\r\n          // sidebar\r\n          active: function() {\r\n            $module.addClass(className.active);\r\n          },\r\n          animating: function() {\r\n            $module.addClass(className.animating);\r\n          },\r\n          transition: function(transition) {\r\n            transition = transition || module.get.transition();\r\n            $module.addClass(transition);\r\n          },\r\n          direction: function(direction) {\r\n            direction = direction || module.get.direction();\r\n            $module.addClass(className[direction]);\r\n          },\r\n          visible: function() {\r\n            $module.addClass(className.visible);\r\n          },\r\n          overlay: function() {\r\n            $module.addClass(className.overlay);\r\n          }\r\n        },\r\n        remove: {\r\n\r\n          inlineCSS: function() {\r\n            module.debug('Removing inline css styles', $style);\r\n            if($style && $style.length > 0) {\r\n              $style.remove();\r\n            }\r\n          },\r\n\r\n          // ios scroll on html not document\r\n          ios: function() {\r\n            $html.removeClass(className.ios);\r\n          },\r\n\r\n          // context\r\n          pushed: function() {\r\n            $context.removeClass(className.pushed);\r\n          },\r\n          pushable: function() {\r\n            $context.removeClass(className.pushable);\r\n          },\r\n\r\n          // sidebar\r\n          active: function() {\r\n            $module.removeClass(className.active);\r\n          },\r\n          animating: function() {\r\n            $module.removeClass(className.animating);\r\n          },\r\n          transition: function(transition) {\r\n            transition = transition || module.get.transition();\r\n            $module.removeClass(transition);\r\n          },\r\n          direction: function(direction) {\r\n            direction = direction || module.get.direction();\r\n            $module.removeClass(className[direction]);\r\n          },\r\n          visible: function() {\r\n            $module.removeClass(className.visible);\r\n          },\r\n          overlay: function() {\r\n            $module.removeClass(className.overlay);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          direction: function() {\r\n            if($module.hasClass(className.top)) {\r\n              return className.top;\r\n            }\r\n            else if($module.hasClass(className.right)) {\r\n              return className.right;\r\n            }\r\n            else if($module.hasClass(className.bottom)) {\r\n              return className.bottom;\r\n            }\r\n            return className.left;\r\n          },\r\n          transition: function() {\r\n            var\r\n              direction = module.get.direction(),\r\n              transition\r\n            ;\r\n            transition = ( module.is.mobile() )\r\n              ? (settings.mobileTransition == 'auto')\r\n                ? settings.defaultTransition.mobile[direction]\r\n                : settings.mobileTransition\r\n              : (settings.transition == 'auto')\r\n                ? settings.defaultTransition.computer[direction]\r\n                : settings.transition\r\n            ;\r\n            module.verbose('Determined transition', transition);\r\n            return transition;\r\n          },\r\n          transitionEvent: function() {\r\n            var\r\n              element     = document.createElement('element'),\r\n              transitions = {\r\n                'transition'       :'transitionend',\r\n                'OTransition'      :'oTransitionEnd',\r\n                'MozTransition'    :'transitionend',\r\n                'WebkitTransition' :'webkitTransitionEnd'\r\n              },\r\n              transition\r\n            ;\r\n            for(transition in transitions){\r\n              if( element.style[transition] !== undefined ){\r\n                return transitions[transition];\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        is: {\r\n\r\n          ie: function() {\r\n            var\r\n              isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\r\n              isIE   = ('ActiveXObject' in window)\r\n            ;\r\n            return (isIE11 || isIE);\r\n          },\r\n\r\n          ios: function() {\r\n            var\r\n              userAgent      = navigator.userAgent,\r\n              isIOS          = userAgent.match(regExp.ios),\r\n              isMobileChrome = userAgent.match(regExp.mobileChrome)\r\n            ;\r\n            if(isIOS && !isMobileChrome) {\r\n              module.verbose('Browser was found to be iOS', userAgent);\r\n              return true;\r\n            }\r\n            else {\r\n              return false;\r\n            }\r\n          },\r\n          mobile: function() {\r\n            var\r\n              userAgent    = navigator.userAgent,\r\n              isMobile     = userAgent.match(regExp.mobile)\r\n            ;\r\n            if(isMobile) {\r\n              module.verbose('Browser was found to be mobile', userAgent);\r\n              return true;\r\n            }\r\n            else {\r\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\r\n              return false;\r\n            }\r\n          },\r\n          hidden: function() {\r\n            return !module.is.visible();\r\n          },\r\n          visible: function() {\r\n            return $module.hasClass(className.visible);\r\n          },\r\n          // alias\r\n          open: function() {\r\n            return module.is.visible();\r\n          },\r\n          closed: function() {\r\n            return module.is.hidden();\r\n          },\r\n          vertical: function() {\r\n            return $module.hasClass(className.top);\r\n          },\r\n          animating: function() {\r\n            return $context.hasClass(className.animating);\r\n          },\r\n          rtl: function () {\r\n            if(module.cache.rtl === undefined) {\r\n              module.cache.rtl = $module.attr('dir') === 'rtl' || $module.css('direction') === 'rtl';\r\n            }\r\n            return module.cache.rtl;\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      }\r\n    ;\r\n\r\n    if(methodInvoked) {\r\n      if(instance === undefined) {\r\n        module.initialize();\r\n      }\r\n      module.invoke(query);\r\n    }\r\n    else {\r\n      if(instance !== undefined) {\r\n        module.invoke('destroy');\r\n      }\r\n      module.initialize();\r\n    }\r\n  });\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.sidebar.settings = {\r\n\r\n  name              : 'Sidebar',\r\n  namespace         : 'sidebar',\r\n\r\n  silent            : false,\r\n  debug             : false,\r\n  verbose           : false,\r\n  performance       : true,\r\n\r\n  transition        : 'auto',\r\n  mobileTransition  : 'auto',\r\n\r\n  defaultTransition : {\r\n    computer: {\r\n      left   : 'uncover',\r\n      right  : 'uncover',\r\n      top    : 'overlay',\r\n      bottom : 'overlay'\r\n    },\r\n    mobile: {\r\n      left   : 'uncover',\r\n      right  : 'uncover',\r\n      top    : 'overlay',\r\n      bottom : 'overlay'\r\n    }\r\n  },\r\n\r\n  context           : 'body',\r\n  exclusive         : false,\r\n  closable          : true,\r\n  dimPage           : true,\r\n  scrollLock        : false,\r\n  returnScroll      : false,\r\n  delaySetup        : false,\r\n\r\n  duration          : 500,\r\n\r\n  onChange          : function(){},\r\n  onShow            : function(){},\r\n  onHide            : function(){},\r\n\r\n  onHidden          : function(){},\r\n  onVisible         : function(){},\r\n\r\n  className         : {\r\n    active    : 'active',\r\n    animating : 'animating',\r\n    dimmed    : 'dimmed',\r\n    ios       : 'ios',\r\n    pushable  : 'pushable',\r\n    pushed    : 'pushed',\r\n    right     : 'right',\r\n    top       : 'top',\r\n    left      : 'left',\r\n    bottom    : 'bottom',\r\n    visible   : 'visible'\r\n  },\r\n\r\n  selector: {\r\n    fixed   : '.fixed',\r\n    omitted : 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\r\n    pusher  : '.pusher',\r\n    sidebar : '.ui.sidebar'\r\n  },\r\n\r\n  regExp: {\r\n    ios          : /(iPad|iPhone|iPod)/g,\r\n    mobileChrome : /(CriOS)/g,\r\n    mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\r\n  },\r\n\r\n  error   : {\r\n    method       : 'The method you called is not defined.',\r\n    pusher       : 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\r\n    movedSidebar : 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\r\n    overlay      : 'The overlay setting is no longer supported, use animation: overlay',\r\n    notFound     : 'There were no elements that matched the specified selector'\r\n  }\r\n\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Sticky\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.sticky = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings              = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.sticky.settings, parameters)\r\n          : $.extend({}, $.fn.sticky.settings),\r\n\r\n        className             = settings.className,\r\n        namespace             = settings.namespace,\r\n        error                 = settings.error,\r\n\r\n        eventNamespace        = '.' + namespace,\r\n        moduleNamespace       = 'module-' + namespace,\r\n\r\n        $module               = $(this),\r\n        $window               = $(window),\r\n        $scroll               = $(settings.scrollContext),\r\n        $container,\r\n        $context,\r\n\r\n        instance              = $module.data(moduleNamespace),\r\n\r\n        requestAnimationFrame = window.requestAnimationFrame\r\n          || window.mozRequestAnimationFrame\r\n          || window.webkitRequestAnimationFrame\r\n          || window.msRequestAnimationFrame\r\n          || function(callback) { setTimeout(callback, 0); },\r\n\r\n        element         = this,\r\n\r\n        documentObserver,\r\n        observer,\r\n        module\r\n      ;\r\n\r\n      module      = {\r\n\r\n        initialize: function() {\r\n\r\n          module.determineContainer();\r\n          module.determineContext();\r\n          module.verbose('Initializing sticky', settings, $container);\r\n\r\n          module.save.positions();\r\n          module.checkErrors();\r\n          module.bind.events();\r\n\r\n          if(settings.observeChanges) {\r\n            module.observeChanges();\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous instance');\r\n          module.reset();\r\n          if(documentObserver) {\r\n            documentObserver.disconnect();\r\n          }\r\n          if(observer) {\r\n            observer.disconnect();\r\n          }\r\n          $window\r\n            .off('load' + eventNamespace, module.event.load)\r\n            .off('resize' + eventNamespace, module.event.resize)\r\n          ;\r\n          $scroll\r\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\r\n          ;\r\n          $module.removeData(moduleNamespace);\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            documentObserver = new MutationObserver(module.event.documentChanged);\r\n            observer         = new MutationObserver(module.event.changed);\r\n            documentObserver.observe(document, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            observer.observe(element, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            observer.observe($context[0], {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            module.debug('Setting up mutation observer', observer);\r\n          }\r\n        },\r\n\r\n        determineContainer: function() {\r\n          if(settings.container) {\r\n            $container = $(settings.container);\r\n          }\r\n          else {\r\n            $container = $module.offsetParent();\r\n          }\r\n        },\r\n\r\n        determineContext: function() {\r\n          if(settings.context) {\r\n            $context = $(settings.context);\r\n          }\r\n          else {\r\n            $context = $container;\r\n          }\r\n          if($context.length === 0) {\r\n            module.error(error.invalidContext, settings.context, $module);\r\n            return;\r\n          }\r\n        },\r\n\r\n        checkErrors: function() {\r\n          if( module.is.hidden() ) {\r\n            module.error(error.visible, $module);\r\n          }\r\n          if(module.cache.element.height > module.cache.context.height) {\r\n            module.reset();\r\n            module.error(error.elementSize, $module);\r\n            return;\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            $window\r\n              .on('load' + eventNamespace, module.event.load)\r\n              .on('resize' + eventNamespace, module.event.resize)\r\n            ;\r\n            // pub/sub pattern\r\n            $scroll\r\n              .off('scroll' + eventNamespace)\r\n              .on('scroll' + eventNamespace, module.event.scroll)\r\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\r\n            ;\r\n          }\r\n        },\r\n\r\n        event: {\r\n          changed: function(mutations) {\r\n            clearTimeout(module.timer);\r\n            module.timer = setTimeout(function() {\r\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\r\n              module.refresh();\r\n            }, 100);\r\n          },\r\n          documentChanged: function(mutations) {\r\n            [].forEach.call(mutations, function(mutation) {\r\n              if(mutation.removedNodes) {\r\n                [].forEach.call(mutation.removedNodes, function(node) {\r\n                  if(node == element || $(node).find(element).length > 0) {\r\n                    module.debug('Element removed from DOM, tearing down events');\r\n                    module.destroy();\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          },\r\n          load: function() {\r\n            module.verbose('Page contents finished loading');\r\n            requestAnimationFrame(module.refresh);\r\n          },\r\n          resize: function() {\r\n            module.verbose('Window resized');\r\n            requestAnimationFrame(module.refresh);\r\n          },\r\n          scroll: function() {\r\n            requestAnimationFrame(function() {\r\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop() );\r\n            });\r\n          },\r\n          scrollchange: function(event, scrollPosition) {\r\n            module.stick(scrollPosition);\r\n            settings.onScroll.call(element);\r\n          }\r\n        },\r\n\r\n        refresh: function(hardRefresh) {\r\n          module.reset();\r\n          if(!settings.context) {\r\n            module.determineContext();\r\n          }\r\n          if(hardRefresh) {\r\n            module.determineContainer();\r\n          }\r\n          module.save.positions();\r\n          module.stick();\r\n          settings.onReposition.call(element);\r\n        },\r\n\r\n        supports: {\r\n          sticky: function() {\r\n            var\r\n              $element = $('<div/>')\r\n            ;\r\n            $element.addClass(className.supported);\r\n            return($element.css('position').match('sticky'));\r\n          }\r\n        },\r\n\r\n        save: {\r\n          lastScroll: function(scroll) {\r\n            module.lastScroll = scroll;\r\n          },\r\n          elementScroll: function(scroll) {\r\n            module.elementScroll = scroll;\r\n          },\r\n          positions: function() {\r\n            var\r\n              scrollContext = {\r\n                height : $scroll.height()\r\n              },\r\n              element = {\r\n                margin: {\r\n                  top    : parseInt($module.css('margin-top'), 10),\r\n                  bottom : parseInt($module.css('margin-bottom'), 10),\r\n                },\r\n                offset : $module.offset(),\r\n                width  : $module.outerWidth(),\r\n                height : $module.outerHeight()\r\n              },\r\n              context = {\r\n                offset : $context.offset(),\r\n                height : $context.outerHeight()\r\n              }\r\n            ;\r\n            if( !module.is.standardScroll() ) {\r\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\r\n\r\n              scrollContext.top  = $scroll.scrollTop();\r\n              scrollContext.left = $scroll.scrollLeft();\r\n\r\n              element.offset.top  += scrollContext.top;\r\n              context.offset.top  += scrollContext.top;\r\n              element.offset.left += scrollContext.left;\r\n              context.offset.left += scrollContext.left;\r\n            }\r\n            module.cache = {\r\n              fits          : ( (element.height + settings.offset) <= scrollContext.height),\r\n              sameHeight    : (element.height == context.height),\r\n              scrollContext : {\r\n                height : scrollContext.height\r\n              },\r\n              element: {\r\n                margin : element.margin,\r\n                top    : element.offset.top - element.margin.top,\r\n                left   : element.offset.left,\r\n                width  : element.width,\r\n                height : element.height,\r\n                bottom : element.offset.top + element.height\r\n              },\r\n              context: {\r\n                top           : context.offset.top,\r\n                height        : context.height,\r\n                bottom        : context.offset.top + context.height\r\n              }\r\n            };\r\n            module.set.containerSize();\r\n\r\n            module.stick();\r\n            module.debug('Caching element positions', module.cache);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          direction: function(scroll) {\r\n            var\r\n              direction = 'down'\r\n            ;\r\n            scroll = scroll || $scroll.scrollTop();\r\n            if(module.lastScroll !== undefined) {\r\n              if(module.lastScroll < scroll) {\r\n                direction = 'down';\r\n              }\r\n              else if(module.lastScroll > scroll) {\r\n                direction = 'up';\r\n              }\r\n            }\r\n            return direction;\r\n          },\r\n          scrollChange: function(scroll) {\r\n            scroll = scroll || $scroll.scrollTop();\r\n            return (module.lastScroll)\r\n              ? (scroll - module.lastScroll)\r\n              : 0\r\n            ;\r\n          },\r\n          currentElementScroll: function() {\r\n            if(module.elementScroll) {\r\n              return module.elementScroll;\r\n            }\r\n            return ( module.is.top() )\r\n              ? Math.abs(parseInt($module.css('top'), 10))    || 0\r\n              : Math.abs(parseInt($module.css('bottom'), 10)) || 0\r\n            ;\r\n          },\r\n\r\n          elementScroll: function(scroll) {\r\n            scroll = scroll || $scroll.scrollTop();\r\n            var\r\n              element        = module.cache.element,\r\n              scrollContext  = module.cache.scrollContext,\r\n              delta          = module.get.scrollChange(scroll),\r\n              maxScroll      = (element.height - scrollContext.height + settings.offset),\r\n              elementScroll  = module.get.currentElementScroll(),\r\n              possibleScroll = (elementScroll + delta)\r\n            ;\r\n            if(module.cache.fits || possibleScroll < 0) {\r\n              elementScroll = 0;\r\n            }\r\n            else if(possibleScroll > maxScroll ) {\r\n              elementScroll = maxScroll;\r\n            }\r\n            else {\r\n              elementScroll = possibleScroll;\r\n            }\r\n            return elementScroll;\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          lastScroll: function() {\r\n            delete module.lastScroll;\r\n          },\r\n          elementScroll: function(scroll) {\r\n            delete module.elementScroll;\r\n          },\r\n          minimumSize: function() {\r\n            $container\r\n              .css('min-height', '')\r\n            ;\r\n          },\r\n          offset: function() {\r\n            $module.css('margin-top', '');\r\n          }\r\n        },\r\n\r\n        set: {\r\n          offset: function() {\r\n            module.verbose('Setting offset on element', settings.offset);\r\n            $module\r\n              .css('margin-top', settings.offset)\r\n            ;\r\n          },\r\n          containerSize: function() {\r\n            var\r\n              tagName = $container.get(0).tagName\r\n            ;\r\n            if(tagName === 'HTML' || tagName == 'body') {\r\n              // this can trigger for too many reasons\r\n              //module.error(error.container, tagName, $module);\r\n              module.determineContainer();\r\n            }\r\n            else {\r\n              if( Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\r\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\r\n                $container.css({\r\n                  height: module.cache.context.height\r\n                });\r\n              }\r\n            }\r\n          },\r\n          minimumSize: function() {\r\n            var\r\n              element   = module.cache.element\r\n            ;\r\n            $container\r\n              .css('min-height', element.height)\r\n            ;\r\n          },\r\n          scroll: function(scroll) {\r\n            module.debug('Setting scroll on element', scroll);\r\n            if(module.elementScroll == scroll) {\r\n              return;\r\n            }\r\n            if( module.is.top() ) {\r\n              $module\r\n                .css('bottom', '')\r\n                .css('top', -scroll)\r\n              ;\r\n            }\r\n            if( module.is.bottom() ) {\r\n              $module\r\n                .css('top', '')\r\n                .css('bottom', scroll)\r\n              ;\r\n            }\r\n          },\r\n          size: function() {\r\n            if(module.cache.element.height !== 0 && module.cache.element.width !== 0) {\r\n              element.style.setProperty('width',  module.cache.element.width  + 'px', 'important');\r\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\r\n            }\r\n          }\r\n        },\r\n\r\n        is: {\r\n          standardScroll: function() {\r\n            return ($scroll[0] == window);\r\n          },\r\n          top: function() {\r\n            return $module.hasClass(className.top);\r\n          },\r\n          bottom: function() {\r\n            return $module.hasClass(className.bottom);\r\n          },\r\n          initialPosition: function() {\r\n            return (!module.is.fixed() && !module.is.bound());\r\n          },\r\n          hidden: function() {\r\n            return (!$module.is(':visible'));\r\n          },\r\n          bound: function() {\r\n            return $module.hasClass(className.bound);\r\n          },\r\n          fixed: function() {\r\n            return $module.hasClass(className.fixed);\r\n          }\r\n        },\r\n\r\n        stick: function(scroll) {\r\n          var\r\n            cachedPosition = scroll || $scroll.scrollTop(),\r\n            cache          = module.cache,\r\n            fits           = cache.fits,\r\n            sameHeight     = cache.sameHeight,\r\n            element        = cache.element,\r\n            scrollContext  = cache.scrollContext,\r\n            context        = cache.context,\r\n            offset         = (module.is.bottom() && settings.pushing)\r\n              ? settings.bottomOffset\r\n              : settings.offset,\r\n            scroll         = {\r\n              top    : cachedPosition + offset,\r\n              bottom : cachedPosition + offset + scrollContext.height\r\n            },\r\n            elementScroll  = (fits)\r\n              ? 0\r\n              : module.get.elementScroll(scroll.top),\r\n\r\n            // shorthand\r\n            doesntFit      = !fits,\r\n            elementVisible = (element.height !== 0)\r\n          ;\r\n          if(elementVisible && !sameHeight) {\r\n\r\n            if( module.is.initialPosition() ) {\r\n              if(scroll.top >= context.bottom) {\r\n                module.debug('Initial element position is bottom of container');\r\n                module.bindBottom();\r\n              }\r\n              else if(scroll.top > element.top) {\r\n                if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\r\n                  module.debug('Initial element position is bottom of container');\r\n                  module.bindBottom();\r\n                }\r\n                else {\r\n                  module.debug('Initial element position is fixed');\r\n                  module.fixTop();\r\n                }\r\n              }\r\n\r\n            }\r\n            else if( module.is.fixed() ) {\r\n\r\n              // currently fixed top\r\n              if( module.is.top() ) {\r\n                if( scroll.top <= element.top ) {\r\n                  module.debug('Fixed element reached top of container');\r\n                  module.setInitialPosition();\r\n                }\r\n                else if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\r\n                  module.debug('Fixed element reached bottom of container');\r\n                  module.bindBottom();\r\n                }\r\n                // scroll element if larger than screen\r\n                else if(doesntFit) {\r\n                  module.set.scroll(elementScroll);\r\n                  module.save.lastScroll(scroll.top);\r\n                  module.save.elementScroll(elementScroll);\r\n                }\r\n              }\r\n\r\n              // currently fixed bottom\r\n              else if(module.is.bottom() ) {\r\n\r\n                // top edge\r\n                if( (scroll.bottom - element.height) <= element.top) {\r\n                  module.debug('Bottom fixed rail has reached top of container');\r\n                  module.setInitialPosition();\r\n                }\r\n                // bottom edge\r\n                else if(scroll.bottom >= context.bottom) {\r\n                  module.debug('Bottom fixed rail has reached bottom of container');\r\n                  module.bindBottom();\r\n                }\r\n                // scroll element if larger than screen\r\n                else if(doesntFit) {\r\n                  module.set.scroll(elementScroll);\r\n                  module.save.lastScroll(scroll.top);\r\n                  module.save.elementScroll(elementScroll);\r\n                }\r\n\r\n              }\r\n            }\r\n            else if( module.is.bottom() ) {\r\n              if( scroll.top <= element.top ) {\r\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\r\n                module.setInitialPosition();\r\n              }\r\n              else {\r\n                if(settings.pushing) {\r\n                  if(module.is.bound() && scroll.bottom <= context.bottom ) {\r\n                    module.debug('Fixing bottom attached element to bottom of browser.');\r\n                    module.fixBottom();\r\n                  }\r\n                }\r\n                else {\r\n                  if(module.is.bound() && (scroll.top <= context.bottom - element.height) ) {\r\n                    module.debug('Fixing bottom attached element to top of browser.');\r\n                    module.fixTop();\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        bindTop: function() {\r\n          module.debug('Binding element to top of parent container');\r\n          module.remove.offset();\r\n          $module\r\n            .css({\r\n              left         : '',\r\n              top          : '',\r\n              marginBottom : ''\r\n            })\r\n            .removeClass(className.fixed)\r\n            .removeClass(className.bottom)\r\n            .addClass(className.bound)\r\n            .addClass(className.top)\r\n          ;\r\n          settings.onTop.call(element);\r\n          settings.onUnstick.call(element);\r\n        },\r\n        bindBottom: function() {\r\n          module.debug('Binding element to bottom of parent container');\r\n          module.remove.offset();\r\n          $module\r\n            .css({\r\n              left         : '',\r\n              top          : ''\r\n            })\r\n            .removeClass(className.fixed)\r\n            .removeClass(className.top)\r\n            .addClass(className.bound)\r\n            .addClass(className.bottom)\r\n          ;\r\n          settings.onBottom.call(element);\r\n          settings.onUnstick.call(element);\r\n        },\r\n\r\n        setInitialPosition: function() {\r\n          module.debug('Returning to initial position');\r\n          module.unfix();\r\n          module.unbind();\r\n        },\r\n\r\n\r\n        fixTop: function() {\r\n          module.debug('Fixing element to top of page');\r\n          if(settings.setSize) {\r\n            module.set.size();\r\n          }\r\n          module.set.minimumSize();\r\n          module.set.offset();\r\n          $module\r\n            .css({\r\n              left         : module.cache.element.left,\r\n              bottom       : '',\r\n              marginBottom : ''\r\n            })\r\n            .removeClass(className.bound)\r\n            .removeClass(className.bottom)\r\n            .addClass(className.fixed)\r\n            .addClass(className.top)\r\n          ;\r\n          settings.onStick.call(element);\r\n        },\r\n\r\n        fixBottom: function() {\r\n          module.debug('Sticking element to bottom of page');\r\n          if(settings.setSize) {\r\n            module.set.size();\r\n          }\r\n          module.set.minimumSize();\r\n          module.set.offset();\r\n          $module\r\n            .css({\r\n              left         : module.cache.element.left,\r\n              bottom       : '',\r\n              marginBottom : ''\r\n            })\r\n            .removeClass(className.bound)\r\n            .removeClass(className.top)\r\n            .addClass(className.fixed)\r\n            .addClass(className.bottom)\r\n          ;\r\n          settings.onStick.call(element);\r\n        },\r\n\r\n        unbind: function() {\r\n          if( module.is.bound() ) {\r\n            module.debug('Removing container bound position on element');\r\n            module.remove.offset();\r\n            $module\r\n              .removeClass(className.bound)\r\n              .removeClass(className.top)\r\n              .removeClass(className.bottom)\r\n            ;\r\n          }\r\n        },\r\n\r\n        unfix: function() {\r\n          if( module.is.fixed() ) {\r\n            module.debug('Removing fixed position on element');\r\n            module.remove.minimumSize();\r\n            module.remove.offset();\r\n            $module\r\n              .removeClass(className.fixed)\r\n              .removeClass(className.top)\r\n              .removeClass(className.bottom)\r\n            ;\r\n            settings.onUnstick.call(element);\r\n          }\r\n        },\r\n\r\n        reset: function() {\r\n          module.debug('Resetting elements position');\r\n          module.unbind();\r\n          module.unfix();\r\n          module.resetCSS();\r\n          module.remove.offset();\r\n          module.remove.lastScroll();\r\n        },\r\n\r\n        resetCSS: function() {\r\n          $module\r\n            .css({\r\n              width  : '',\r\n              height : ''\r\n            })\r\n          ;\r\n          $container\r\n            .css({\r\n              height: ''\r\n            })\r\n          ;\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            settings[name] = value;\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 0);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.sticky.settings = {\r\n\r\n  name           : 'Sticky',\r\n  namespace      : 'sticky',\r\n\r\n  silent         : false,\r\n  debug          : false,\r\n  verbose        : true,\r\n  performance    : true,\r\n\r\n  // whether to stick in the opposite direction on scroll up\r\n  pushing        : false,\r\n\r\n  context        : false,\r\n  container      : false,\r\n\r\n  // Context to watch scroll events\r\n  scrollContext  : window,\r\n\r\n  // Offset to adjust scroll\r\n  offset         : 0,\r\n\r\n  // Offset to adjust scroll when attached to bottom of screen\r\n  bottomOffset   : 0,\r\n\r\n  // will only set container height if difference between context and container is larger than this number\r\n  jitter         : 5,\r\n\r\n  // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\r\n  setSize        : true,\r\n\r\n  // Whether to automatically observe changes with Mutation Observers\r\n  observeChanges : false,\r\n\r\n  // Called when position is recalculated\r\n  onReposition   : function(){},\r\n\r\n  // Called on each scroll\r\n  onScroll       : function(){},\r\n\r\n  // Called when element is stuck to viewport\r\n  onStick        : function(){},\r\n\r\n  // Called when element is unstuck from viewport\r\n  onUnstick      : function(){},\r\n\r\n  // Called when element reaches top of context\r\n  onTop          : function(){},\r\n\r\n  // Called when element reaches bottom of context\r\n  onBottom       : function(){},\r\n\r\n  error         : {\r\n    container      : 'Sticky element must be inside a relative container',\r\n    visible        : 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\r\n    method         : 'The method you called is not defined.',\r\n    invalidContext : 'Context specified does not exist',\r\n    elementSize    : 'Sticky element is larger than its container, cannot create sticky.'\r\n  },\r\n\r\n  className : {\r\n    bound     : 'bound',\r\n    fixed     : 'fixed',\r\n    supported : 'native',\r\n    top       : 'top',\r\n    bottom    : 'bottom'\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Tab\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isWindow = $.isWindow || function(obj) {\r\n  return obj != null && obj === obj.window;\r\n};\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.tab = function(parameters) {\r\n\r\n  var\r\n    // use window context if none specified\r\n    $allModules     = $.isFunction(this)\r\n        ? $(window)\r\n        : $(this),\r\n\r\n    moduleSelector  = $allModules.selector || '',\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    initializedHistory = false,\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.tab.settings, parameters)\r\n          : $.extend({}, $.fn.tab.settings),\r\n\r\n        className       = settings.className,\r\n        metadata        = settings.metadata,\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n        regExp          = settings.regExp,\r\n\r\n        eventNamespace  = '.' + settings.namespace,\r\n        moduleNamespace = 'module-' + settings.namespace,\r\n\r\n        $module         = $(this),\r\n        $context,\r\n        $tabs,\r\n\r\n        cache           = {},\r\n        firstLoad       = true,\r\n        recursionDepth  = 0,\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        activeTabPath,\r\n        parameterArray,\r\n        module,\r\n\r\n        historyEvent\r\n\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing tab menu item', $module);\r\n          module.fix.callbacks();\r\n          module.determineTabs();\r\n\r\n          module.debug('Determining tabs', settings.context, $tabs);\r\n          // set up automatic routing\r\n          if(settings.auto) {\r\n            module.set.auto();\r\n          }\r\n          module.bind.events();\r\n\r\n          if(settings.history && !initializedHistory) {\r\n            module.initializeHistory();\r\n            initializedHistory = true;\r\n          }\r\n\r\n          if(settings.autoTabActivation && instance === undefined && module.determine.activeTab() == null) {\r\n            module.debug('No active tab detected, setting first tab active', module.get.initialPath());\r\n            module.changeTab(settings.autoTabActivation === true ? module.get.initialPath() : settings.autoTabActivation);\r\n          };\r\n\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function () {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.debug('Destroying tabs', $module);\r\n          $module\r\n            .removeData(moduleNamespace)\r\n            .off(eventNamespace)\r\n          ;\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            // if using $.tab don't add events\r\n            if( !$.isWindow( element ) ) {\r\n              module.debug('Attaching tab activation events to element', $module);\r\n              $module\r\n                .on('click' + eventNamespace, module.event.click)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        determineTabs: function() {\r\n          var\r\n            $reference\r\n          ;\r\n\r\n          // determine tab context\r\n          if(settings.context === 'parent') {\r\n            if($module.closest(selector.ui).length > 0) {\r\n              $reference = $module.closest(selector.ui);\r\n              module.verbose('Using closest UI element as parent', $reference);\r\n            }\r\n            else {\r\n              $reference = $module;\r\n            }\r\n            $context = $reference.parent();\r\n            module.verbose('Determined parent element for creating context', $context);\r\n          }\r\n          else if(settings.context) {\r\n            $context = $(settings.context);\r\n            module.verbose('Using selector for tab context', settings.context, $context);\r\n          }\r\n          else {\r\n            $context = $('body');\r\n          }\r\n          // find tabs\r\n          if(settings.childrenOnly) {\r\n            $tabs = $context.children(selector.tabs);\r\n            module.debug('Searching tab context children for tabs', $context, $tabs);\r\n          }\r\n          else {\r\n            $tabs = $context.find(selector.tabs);\r\n            module.debug('Searching tab context for tabs', $context, $tabs);\r\n          }\r\n        },\r\n\r\n        fix: {\r\n          callbacks: function() {\r\n            if( $.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit) ) {\r\n              if(parameters.onTabLoad) {\r\n                parameters.onLoad = parameters.onTabLoad;\r\n                delete parameters.onTabLoad;\r\n                module.error(error.legacyLoad, parameters.onLoad);\r\n              }\r\n              if(parameters.onTabInit) {\r\n                parameters.onFirstLoad = parameters.onTabInit;\r\n                delete parameters.onTabInit;\r\n                module.error(error.legacyInit, parameters.onFirstLoad);\r\n              }\r\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\r\n            }\r\n          }\r\n        },\r\n\r\n        initializeHistory: function() {\r\n          module.debug('Initializing page state');\r\n          if( $.address === undefined ) {\r\n            module.error(error.state);\r\n            return false;\r\n          }\r\n          else {\r\n            if(settings.historyType == 'state') {\r\n              module.debug('Using HTML5 to manage state');\r\n              if(settings.path !== false) {\r\n                $.address\r\n                  .history(true)\r\n                  .state(settings.path)\r\n                ;\r\n              }\r\n              else {\r\n                module.error(error.path);\r\n                return false;\r\n              }\r\n            }\r\n            $.address\r\n              .bind('change', module.event.history.change)\r\n            ;\r\n          }\r\n        },\r\n\r\n        event: {\r\n          click: function(event) {\r\n            var\r\n              tabPath = $(this).data(metadata.tab)\r\n            ;\r\n            if(tabPath !== undefined) {\r\n              if(settings.history) {\r\n                module.verbose('Updating page state', event);\r\n                $.address.value(tabPath);\r\n              }\r\n              else {\r\n                module.verbose('Changing tab', event);\r\n                module.changeTab(tabPath);\r\n              }\r\n              event.preventDefault();\r\n            }\r\n            else {\r\n              module.debug('No tab specified');\r\n            }\r\n          },\r\n          history: {\r\n            change: function(event) {\r\n              var\r\n                tabPath   = event.pathNames.join('/') || module.get.initialPath(),\r\n                pageTitle = settings.templates.determineTitle(tabPath) || false\r\n              ;\r\n              module.performance.display();\r\n              module.debug('History change event', tabPath, event);\r\n              historyEvent = event;\r\n              if(tabPath !== undefined) {\r\n                module.changeTab(tabPath);\r\n              }\r\n              if(pageTitle) {\r\n                $.address.title(pageTitle);\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        refresh: function() {\r\n          if(activeTabPath) {\r\n            module.debug('Refreshing tab', activeTabPath);\r\n            module.changeTab(activeTabPath);\r\n          }\r\n        },\r\n\r\n        cache: {\r\n\r\n          read: function(cacheKey) {\r\n            return (cacheKey !== undefined)\r\n              ? cache[cacheKey]\r\n              : false\r\n            ;\r\n          },\r\n          add: function(cacheKey, content) {\r\n            cacheKey = cacheKey || activeTabPath;\r\n            module.debug('Adding cached content for', cacheKey);\r\n            cache[cacheKey] = content;\r\n          },\r\n          remove: function(cacheKey) {\r\n            cacheKey = cacheKey || activeTabPath;\r\n            module.debug('Removing cached content for', cacheKey);\r\n            delete cache[cacheKey];\r\n          }\r\n        },\r\n\r\n        escape: {\r\n          string: function(text) {\r\n            text =  String(text);\r\n            return text.replace(regExp.escape, '\\\\$&');\r\n          }\r\n        },\r\n\r\n        set: {\r\n          auto: function() {\r\n            var\r\n              url = (typeof settings.path == 'string')\r\n                ? settings.path.replace(/\\/$/, '') + '/{$tab}'\r\n                : '/{$tab}'\r\n            ;\r\n            module.verbose('Setting up automatic tab retrieval from server', url);\r\n            if($.isPlainObject(settings.apiSettings)) {\r\n              settings.apiSettings.url = url;\r\n            }\r\n            else {\r\n              settings.apiSettings = {\r\n                url: url\r\n              };\r\n            }\r\n          },\r\n          loading: function(tabPath) {\r\n            var\r\n              $tab      = module.get.tabElement(tabPath),\r\n              isLoading = $tab.hasClass(className.loading)\r\n            ;\r\n            if(!isLoading) {\r\n              module.verbose('Setting loading state for', $tab);\r\n              $tab\r\n                .addClass(className.loading)\r\n                .siblings($tabs)\r\n                  .removeClass(className.active + ' ' + className.loading)\r\n              ;\r\n              if($tab.length > 0) {\r\n                settings.onRequest.call($tab[0], tabPath);\r\n              }\r\n            }\r\n          },\r\n          state: function(state) {\r\n            $.address.value(state);\r\n          }\r\n        },\r\n\r\n        changeTab: function(tabPath) {\r\n          var\r\n            pushStateAvailable = (window.history && window.history.pushState),\r\n            shouldIgnoreLoad   = (pushStateAvailable && settings.ignoreFirstLoad && firstLoad),\r\n            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),\r\n            // only add default path if not remote content\r\n            pathArray = (remoteContent && !shouldIgnoreLoad)\r\n              ? module.utilities.pathToArray(tabPath)\r\n              : module.get.defaultPathArray(tabPath)\r\n          ;\r\n          tabPath = module.utilities.arrayToPath(pathArray);\r\n          $.each(pathArray, function(index, tab) {\r\n            var\r\n              currentPathArray   = pathArray.slice(0, index + 1),\r\n              currentPath        = module.utilities.arrayToPath(currentPathArray),\r\n\r\n              isTab              = module.is.tab(currentPath),\r\n              isLastIndex        = (index + 1 == pathArray.length),\r\n\r\n              $tab               = module.get.tabElement(currentPath),\r\n              $anchor,\r\n              nextPathArray,\r\n              nextPath,\r\n              isLastTab\r\n            ;\r\n            module.verbose('Looking for tab', tab);\r\n            if(isTab) {\r\n              module.verbose('Tab was found', tab);\r\n              // scope up\r\n              activeTabPath  = currentPath;\r\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\r\n\r\n              if(isLastIndex) {\r\n                isLastTab = true;\r\n              }\r\n              else {\r\n                nextPathArray = pathArray.slice(0, index + 2);\r\n                nextPath      = module.utilities.arrayToPath(nextPathArray);\r\n                isLastTab     = ( !module.is.tab(nextPath) );\r\n                if(isLastTab) {\r\n                  module.verbose('Tab parameters found', nextPathArray);\r\n                }\r\n              }\r\n              if(isLastTab && remoteContent) {\r\n                if(!shouldIgnoreLoad) {\r\n                  module.activate.navigation(currentPath);\r\n                  module.fetch.content(currentPath, tabPath);\r\n                }\r\n                else {\r\n                  module.debug('Ignoring remote content on first tab load', currentPath);\r\n                  firstLoad = false;\r\n                  module.cache.add(tabPath, $tab.html());\r\n                  module.activate.all(currentPath);\r\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\r\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\r\n                }\r\n                return false;\r\n              }\r\n              else {\r\n                module.debug('Opened local tab', currentPath);\r\n                module.activate.all(currentPath);\r\n                if( !module.cache.read(currentPath) ) {\r\n                  module.cache.add(currentPath, true);\r\n                  module.debug('First time tab loaded calling tab init');\r\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\r\n                }\r\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\r\n              }\r\n\r\n            }\r\n            else if(tabPath.search('/') == -1 && tabPath !== '') {\r\n              // look for in page anchor\r\n              tabPath = module.escape.string(tabPath);\r\n              $anchor     = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\r\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\r\n              $tab        = module.get.tabElement(currentPath);\r\n              // if anchor exists use parent tab\r\n              if($anchor && $anchor.length > 0 && currentPath) {\r\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\r\n                if( !$tab.hasClass(className.active) ) {\r\n                  setTimeout(function() {\r\n                    module.scrollTo($anchor);\r\n                  }, 0);\r\n                }\r\n                module.activate.all(currentPath);\r\n                if( !module.cache.read(currentPath) ) {\r\n                  module.cache.add(currentPath, true);\r\n                  module.debug('First time tab loaded calling tab init');\r\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\r\n                }\r\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              module.error(error.missingTab, $module, $context, currentPath);\r\n              return false;\r\n            }\r\n          });\r\n        },\r\n\r\n        scrollTo: function($element) {\r\n          var\r\n            scrollOffset = ($element && $element.length > 0)\r\n              ? $element.offset().top\r\n              : false\r\n          ;\r\n          if(scrollOffset !== false) {\r\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\r\n            $(document).scrollTop(scrollOffset);\r\n          }\r\n        },\r\n\r\n        update: {\r\n          content: function(tabPath, html, evaluateScripts) {\r\n            var\r\n              $tab = module.get.tabElement(tabPath),\r\n              tab  = $tab[0]\r\n            ;\r\n            evaluateScripts = (evaluateScripts !== undefined)\r\n              ? evaluateScripts\r\n              : settings.evaluateScripts\r\n            ;\r\n            if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\r\n              $tab\r\n                .empty()\r\n                .append($(html).clone(true))\r\n              ;\r\n            }\r\n            else {\r\n              if(evaluateScripts) {\r\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\r\n                $tab.html(html);\r\n              }\r\n              else {\r\n                module.debug('Updating HTML', tabPath, html);\r\n                tab.innerHTML = html;\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        fetch: {\r\n\r\n          content: function(tabPath, fullTabPath) {\r\n            var\r\n              $tab        = module.get.tabElement(tabPath),\r\n              apiSettings = {\r\n                dataType         : 'html',\r\n                encodeParameters : false,\r\n                on               : 'now',\r\n                cache            : settings.alwaysRefresh,\r\n                headers          : {\r\n                  'X-Remote': true\r\n                },\r\n                onSuccess : function(response) {\r\n                  if(settings.cacheType == 'response') {\r\n                    module.cache.add(fullTabPath, response);\r\n                  }\r\n                  module.update.content(tabPath, response);\r\n                  if(tabPath == activeTabPath) {\r\n                    module.debug('Content loaded', tabPath);\r\n                    module.activate.tab(tabPath);\r\n                  }\r\n                  else {\r\n                    module.debug('Content loaded in background', tabPath);\r\n                  }\r\n                  settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\r\n                  settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\r\n\r\n                  if(settings.loadOnce) {\r\n                    module.cache.add(fullTabPath, true);\r\n                  }\r\n                  else if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\r\n                    setTimeout(function() {\r\n                      var\r\n                        $clone = $tab.children().clone(true)\r\n                      ;\r\n                      $clone = $clone.not('script');\r\n                      module.cache.add(fullTabPath, $clone);\r\n                    }, 0);\r\n                  }\r\n                  else {\r\n                    module.cache.add(fullTabPath, $tab.html());\r\n                  }\r\n                },\r\n                urlData: {\r\n                  tab: fullTabPath\r\n                }\r\n              },\r\n              request         = $tab.api('get request') || false,\r\n              existingRequest = ( request && request.state() === 'pending' ),\r\n              requestSettings,\r\n              cachedContent\r\n            ;\r\n\r\n            fullTabPath   = fullTabPath || tabPath;\r\n            cachedContent = module.cache.read(fullTabPath);\r\n\r\n\r\n            if(settings.cache && cachedContent) {\r\n              module.activate.tab(tabPath);\r\n              module.debug('Adding cached content', fullTabPath);\r\n              if(!settings.loadOnce) {\r\n                if(settings.evaluateScripts == 'once') {\r\n                  module.update.content(tabPath, cachedContent, false);\r\n                }\r\n                else {\r\n                  module.update.content(tabPath, cachedContent);\r\n                }\r\n              }\r\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\r\n            }\r\n            else if(existingRequest) {\r\n              module.set.loading(tabPath);\r\n              module.debug('Content is already loading', fullTabPath);\r\n            }\r\n            else if($.api !== undefined) {\r\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\r\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\r\n              module.set.loading(tabPath);\r\n              $tab.api(requestSettings);\r\n            }\r\n            else {\r\n              module.error(error.api);\r\n            }\r\n          }\r\n        },\r\n\r\n        activate: {\r\n          all: function(tabPath) {\r\n            module.activate.tab(tabPath);\r\n            module.activate.navigation(tabPath);\r\n          },\r\n          tab: function(tabPath) {\r\n            var\r\n              $tab          = module.get.tabElement(tabPath),\r\n              $deactiveTabs = (settings.deactivate == 'siblings')\r\n                ? $tab.siblings($tabs)\r\n                : $tabs.not($tab),\r\n              isActive      = $tab.hasClass(className.active)\r\n            ;\r\n            module.verbose('Showing tab content for', $tab);\r\n            if(!isActive) {\r\n              $tab\r\n                .addClass(className.active)\r\n              ;\r\n              $deactiveTabs\r\n                .removeClass(className.active + ' ' + className.loading)\r\n              ;\r\n              if($tab.length > 0) {\r\n                settings.onVisible.call($tab[0], tabPath);\r\n              }\r\n            }\r\n          },\r\n          navigation: function(tabPath) {\r\n            var\r\n              $navigation         = module.get.navElement(tabPath),\r\n              $deactiveNavigation = (settings.deactivate == 'siblings')\r\n                ? $navigation.siblings($allModules)\r\n                : $allModules.not($navigation),\r\n              isActive    = $navigation.hasClass(className.active)\r\n            ;\r\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\r\n            if(!isActive) {\r\n              $navigation\r\n                .addClass(className.active)\r\n              ;\r\n              $deactiveNavigation\r\n                .removeClass(className.active + ' ' + className.loading)\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        deactivate: {\r\n          all: function() {\r\n            module.deactivate.navigation();\r\n            module.deactivate.tabs();\r\n          },\r\n          navigation: function() {\r\n            $allModules\r\n              .removeClass(className.active)\r\n            ;\r\n          },\r\n          tabs: function() {\r\n            $tabs\r\n              .removeClass(className.active + ' ' + className.loading)\r\n            ;\r\n          }\r\n        },\r\n\r\n        is: {\r\n          tab: function(tabName) {\r\n            return (tabName !== undefined)\r\n              ? ( module.get.tabElement(tabName).length > 0 )\r\n              : false\r\n            ;\r\n          }\r\n        },\r\n\r\n        get: {\r\n          initialPath: function() {\r\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\r\n          },\r\n          path: function() {\r\n            return $.address.value();\r\n          },\r\n          // adds default tabs to tab path\r\n          defaultPathArray: function(tabPath) {\r\n            return module.utilities.pathToArray( module.get.defaultPath(tabPath) );\r\n          },\r\n          defaultPath: function(tabPath) {\r\n            var\r\n              $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + module.escape.string(tabPath) + '/\"]').eq(0),\r\n              defaultTab  = $defaultNav.data(metadata.tab) || false\r\n            ;\r\n            if( defaultTab ) {\r\n              module.debug('Found default tab', defaultTab);\r\n              if(recursionDepth < settings.maxDepth) {\r\n                recursionDepth++;\r\n                return module.get.defaultPath(defaultTab);\r\n              }\r\n              module.error(error.recursion);\r\n            }\r\n            else {\r\n              module.debug('No default tabs found for', tabPath, $tabs);\r\n            }\r\n            recursionDepth = 0;\r\n            return tabPath;\r\n          },\r\n          navElement: function(tabPath) {\r\n            tabPath = tabPath || activeTabPath;\r\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\r\n          },\r\n          tabElement: function(tabPath) {\r\n            var\r\n              $fullPathTab,\r\n              $simplePathTab,\r\n              tabPathArray,\r\n              lastTab\r\n            ;\r\n            tabPath        = tabPath || activeTabPath;\r\n            tabPathArray   = module.utilities.pathToArray(tabPath);\r\n            lastTab        = module.utilities.last(tabPathArray);\r\n            $fullPathTab   = $tabs.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\r\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + module.escape.string(lastTab) + '\"]');\r\n            return ($fullPathTab.length > 0)\r\n              ? $fullPathTab\r\n              : $simplePathTab\r\n            ;\r\n          },\r\n          tab: function() {\r\n            return activeTabPath;\r\n          }\r\n        },\r\n\r\n        determine: {\r\n          activeTab: function() {\r\n            var activeTab = null;\r\n\r\n            $tabs.each(function(_index, tab) {\r\n              var $tab = $(tab);\r\n\r\n              if( $tab.hasClass(className.active) ) {\r\n                var\r\n                  tabPath = $(this).data(metadata.tab),\r\n                  $anchor = $allModules.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]')\r\n                ;\r\n\r\n                if( $anchor.hasClass(className.active) ) {\r\n                  activeTab = tabPath;\r\n                }\r\n              }\r\n            });\r\n\r\n            return activeTab;\r\n          }\r\n        },\r\n\r\n        utilities: {\r\n          filterArray: function(keepArray, removeArray) {\r\n            return $.grep(keepArray, function(keepValue) {\r\n              return ( $.inArray(keepValue, removeArray) == -1);\r\n            });\r\n          },\r\n          last: function(array) {\r\n            return Array.isArray(array)\r\n              ? array[ array.length - 1]\r\n              : false\r\n            ;\r\n          },\r\n          pathToArray: function(pathName) {\r\n            if(pathName === undefined) {\r\n              pathName = activeTabPath;\r\n            }\r\n            return typeof pathName == 'string'\r\n              ? pathName.split('/')\r\n              : [pathName]\r\n            ;\r\n          },\r\n          arrayToPath: function(pathArray) {\r\n            return Array.isArray(pathArray)\r\n              ? pathArray.join('/')\r\n              : false\r\n            ;\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n\r\n};\r\n\r\n// shortcut for tabbed content with no defined navigation\r\n$.tab = function() {\r\n  $(window).tab.apply(this, arguments);\r\n};\r\n\r\n$.fn.tab.settings = {\r\n\r\n  name            : 'Tab',\r\n  namespace       : 'tab',\r\n\r\n  silent          : false,\r\n  debug           : false,\r\n  verbose         : false,\r\n  performance     : true,\r\n\r\n  auto            : false,      // uses pjax style endpoints fetching content from same url with remote-content headers\r\n  history         : false,      // use browser history\r\n  historyType     : 'hash',     // #/ or html5 state\r\n  path            : false,      // base path of url\r\n\r\n  context         : false,      // specify a context that tabs must appear inside\r\n  childrenOnly    : false,      // use only tabs that are children of context\r\n  maxDepth        : 25,         // max depth a tab can be nested\r\n\r\n  deactivate      : 'siblings', // whether tabs should deactivate sibling menu elements or all elements initialized together\r\n\r\n  alwaysRefresh   : false,      // load tab content new every tab click\r\n  cache           : true,       // cache the content requests to pull locally\r\n  loadOnce        : false,      // Whether tab data should only be loaded once when using remote content\r\n  cacheType       : 'response', // Whether to cache exact response, or to html cache contents after scripts execute\r\n  ignoreFirstLoad : false,      // don't load remote content on first load\r\n\r\n  apiSettings     : false,      // settings for api call\r\n  evaluateScripts : 'once',     // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\r\n  autoTabActivation: true,      // whether a non existing active tab will auto activate the first available tab\r\n\r\n  onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded\r\n  onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load\r\n  onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible\r\n  onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content\r\n\r\n  templates : {\r\n    determineTitle: function(tabArray) {} // returns page title for path\r\n  },\r\n\r\n  error: {\r\n    api        : 'You attempted to load content without API module',\r\n    method     : 'The method you called is not defined',\r\n    missingTab : 'Activated tab cannot be found. Tabs are case-sensitive.',\r\n    noContent  : 'The tab you specified is missing a content url.',\r\n    path       : 'History enabled, but no path was specified',\r\n    recursion  : 'Max recursive depth reached',\r\n    legacyInit : 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\r\n    legacyLoad : 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\r\n    state      : 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\r\n  },\r\n\r\n  regExp : {\r\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s:=@]/g\r\n  },\r\n\r\n  metadata : {\r\n    tab    : 'tab',\r\n    loaded : 'loaded',\r\n    promise: 'promise'\r\n  },\r\n\r\n  className   : {\r\n    loading : 'loading',\r\n    active  : 'active'\r\n  },\r\n\r\n  selector    : {\r\n    tabs : '.ui.tab',\r\n    ui   : '.ui'\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Toast\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.toast = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.toast.settings, parameters)\r\n          : $.extend({}, $.fn.toast.settings),\r\n\r\n        className        = settings.className,\r\n        selector         = settings.selector,\r\n        error            = settings.error,\r\n        namespace        = settings.namespace,\r\n        fields           = settings.fields,\r\n\r\n        eventNamespace   = '.' + namespace,\r\n        moduleNamespace  = namespace + '-module',\r\n\r\n        $module          = $(this),\r\n        $toastBox,\r\n        $toast,\r\n        $actions,\r\n        $progress,\r\n        $progressBar,\r\n        $animationObject,\r\n        $close,\r\n        $context         = (settings.context)\r\n          ? $(settings.context)\r\n          : $('body'),\r\n\r\n        isToastComponent = $module.hasClass('toast') || $module.hasClass('message') || $module.hasClass('card'),\r\n\r\n        element          = this,\r\n        instance         = isToastComponent ? $module.data(moduleNamespace) : undefined,\r\n\r\n        module\r\n      ;\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing element');\r\n          if (!module.has.container()) {\r\n            module.create.container();\r\n          }\r\n          if(isToastComponent || settings.message !== '' || settings.title !== '' || module.get.iconClass() !== '' || settings.showImage || module.has.configActions()) {\r\n            if(typeof settings.showProgress !== 'string' || [className.top,className.bottom].indexOf(settings.showProgress) === -1 ) {\r\n              settings.showProgress = false;\r\n            }\r\n            module.create.toast();\r\n            if(settings.closeOnClick && (settings.closeIcon || $($toast).find(selector.input).length > 0 || module.has.configActions())){\r\n              settings.closeOnClick = false;\r\n            }\r\n            if(!settings.closeOnClick) {\r\n              $toastBox.addClass(className.unclickable);\r\n            }\r\n            module.bind.events();\r\n          }\r\n          module.instantiate();\r\n          if($toastBox) {\r\n            module.show();\r\n          }\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of toast');\r\n          instance = module;\r\n          $module\r\n              .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          if($toastBox) {\r\n            module.debug('Removing toast', $toastBox);\r\n            module.unbind.events();\r\n            $toastBox.remove();\r\n            $toastBox = undefined;\r\n            $toast = undefined;\r\n            $animationObject = undefined;\r\n            settings.onRemove.call($toastBox, element);\r\n            $progress = undefined;\r\n            $progressBar = undefined;\r\n            $close = undefined;\r\n          }\r\n          $module\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        show: function(callback) {\r\n          callback = callback || function(){};\r\n          module.debug('Showing toast');\r\n          if(settings.onShow.call($toastBox, element) === false) {\r\n            module.debug('onShow callback returned false, cancelling toast animation');\r\n            return;\r\n          }\r\n          module.animate.show(callback);\r\n        },\r\n\r\n        close: function(callback) {\r\n          callback = callback || function(){};\r\n          module.remove.visible();\r\n          module.unbind.events();\r\n          module.animate.close(callback);\r\n\r\n        },\r\n\r\n        create: {\r\n          container: function() {\r\n            module.verbose('Creating container');\r\n            $context.append($('<div/>',{class: settings.position + ' ' + className.container}));\r\n          },\r\n          toast: function() {\r\n            $toastBox = $('<div/>', {class: className.box});\r\n            if (!isToastComponent) {\r\n              module.verbose('Creating toast');\r\n              $toast = $('<div/>');\r\n              var $content = $('<div/>', {class: className.content});\r\n              var iconClass = module.get.iconClass();\r\n              if (iconClass !== '') {\r\n                $toast.append($('<i/>', {class: iconClass + ' ' + className.icon}));\r\n              }\r\n\r\n              if (settings.showImage) {\r\n                $toast.append($('<img>', {\r\n                  class: className.image + ' ' + settings.classImage,\r\n                  src: settings.showImage\r\n                }));\r\n              }\r\n              if (settings.title !== '') {\r\n                $content.append($('<div/>', {\r\n                  class: className.title,\r\n                  text: settings.title\r\n                }));\r\n              }\r\n\r\n              $content.append($('<div/>', {html: module.helpers.escape(settings.message, settings.preserveHTML)}));\r\n\r\n              $toast\r\n                .addClass(settings.class + ' ' + className.toast)\r\n                .append($content)\r\n              ;\r\n              $toast.css('opacity', settings.opacity);\r\n              if (settings.closeIcon) {\r\n                $close = $('<i/>', {class: className.close + ' ' + (typeof settings.closeIcon === 'string' ? settings.closeIcon : '')});\r\n                if($close.hasClass(className.left)) {\r\n                  $toast.prepend($close);\r\n                } else {\r\n                  $toast.append($close);\r\n                }\r\n              }\r\n            } else {\r\n              $toast = settings.cloneModule ? $module.clone().removeAttr('id') : $module;\r\n              $close = $toast.find('> i'+module.helpers.toClass(className.close));\r\n              settings.closeIcon = ($close.length > 0);\r\n            }\r\n            if ($toast.hasClass(className.compact)) {\r\n              settings.compact = true;\r\n            }\r\n            if ($toast.hasClass('card')) {\r\n              settings.compact = false;\r\n            }\r\n            $actions = $toast.find('.actions');\r\n            if (module.has.configActions()) {\r\n              if ($actions.length === 0) {\r\n                $actions = $('<div/>', {class: className.actions + ' ' + (settings.classActions || '')}).appendTo($toast);\r\n              }\r\n              if($toast.hasClass('card') && !$actions.hasClass(className.attached)) {\r\n                $actions.addClass(className.extraContent);\r\n                if($actions.hasClass(className.vertical)) {\r\n                  $actions.removeClass(className.vertical);\r\n                  module.error(error.verticalCard);\r\n                }\r\n              }\r\n              settings.actions.forEach(function (el) {\r\n                var icon = el[fields.icon] ? '<i class=\"' + module.helpers.deQuote(el[fields.icon]) + ' icon\"></i>' : '',\r\n                  text = module.helpers.escape(el[fields.text] || '', settings.preserveHTML),\r\n                  cls = module.helpers.deQuote(el[fields.class] || ''),\r\n                  click = el[fields.click] && $.isFunction(el[fields.click]) ? el[fields.click] : function () {};\r\n                $actions.append($('<button/>', {\r\n                  html: icon + text,\r\n                  class: className.button + ' ' + cls,\r\n                  click: function () {\r\n                    if (click.call(element, $module) === false) {\r\n                      return;\r\n                    }\r\n                    module.close();\r\n                  }\r\n                }));\r\n              });\r\n            }\r\n            if ($actions && $actions.hasClass(className.vertical)) {\r\n                $toast.addClass(className.vertical);\r\n            }\r\n            if($actions.length > 0 && !$actions.hasClass(className.attached)) {\r\n              if ($actions && (!$actions.hasClass(className.basic) || $actions.hasClass(className.left))) {\r\n                $toast.addClass(className.actions);\r\n              }\r\n            }\r\n            if(settings.displayTime === 'auto'){\r\n              settings.displayTime = Math.max(settings.minDisplayTime, $toast.text().split(\" \").length / settings.wordsPerMinute * 60000);\r\n            }\r\n            $toastBox.append($toast);\r\n\r\n            if($actions.length > 0 && $actions.hasClass(className.attached)) {\r\n              $actions.addClass(className.buttons);\r\n              $actions.detach();\r\n              $toast.addClass(className.attached);\r\n              if (!$actions.hasClass(className.vertical)) {\r\n                if ($actions.hasClass(className.top)) {\r\n                  $toastBox.prepend($actions);\r\n                  $toast.addClass(className.bottom);\r\n                } else {\r\n                  $toastBox.append($actions);\r\n                  $toast.addClass(className.top);\r\n                }\r\n              } else {\r\n                $toast.wrap(\r\n                  $('<div/>',{\r\n                    class:className.vertical + ' ' +\r\n                          className.attached + ' ' +\r\n                          (settings.compact ? className.compact : '')\r\n                  })\r\n                );\r\n                if($actions.hasClass(className.left)) {\r\n                  $toast.addClass(className.left).parent().addClass(className.left).prepend($actions);\r\n                } else {\r\n                  $toast.parent().append($actions);\r\n                }\r\n              }\r\n            }\r\n            if($module !== $toast) {\r\n              $module = $toast;\r\n              element = $toast[0];\r\n            }\r\n            if(settings.displayTime > 0) {\r\n              var progressingClass = className.progressing+' '+(settings.pauseOnHover ? className.pausable:'');\r\n              if (!!settings.showProgress) {\r\n                $progress = $('<div/>', {\r\n                  class: className.progress + ' ' + (settings.classProgress || settings.class),\r\n                  'data-percent': ''\r\n                });\r\n                if(!settings.classProgress) {\r\n                  if ($toast.hasClass('toast') && !$toast.hasClass(className.inverted)) {\r\n                    $progress.addClass(className.inverted);\r\n                  } else {\r\n                    $progress.removeClass(className.inverted);\r\n                  }\r\n                }\r\n                $progressBar = $('<div/>', {class: 'bar '+(settings.progressUp ? 'up ' : 'down ')+progressingClass});\r\n                $progress\r\n                    .addClass(settings.showProgress)\r\n                    .append($progressBar);\r\n                if ($progress.hasClass(className.top)) {\r\n                  $toastBox.prepend($progress);\r\n                } else {\r\n                  $toastBox.append($progress);\r\n                }\r\n                $progressBar.css('animation-duration', settings.displayTime / 1000 + 's');\r\n              }\r\n              $animationObject = $('<span/>',{class:'wait '+progressingClass});\r\n              $animationObject.css('animation-duration', settings.displayTime / 1000 + 's');\r\n              $animationObject.appendTo($toast);\r\n            }\r\n            if (settings.compact) {\r\n              $toastBox.addClass(className.compact);\r\n              $toast.addClass(className.compact);\r\n              if($progress) {\r\n                $progress.addClass(className.compact);\r\n              }\r\n            }\r\n            if (settings.newestOnTop) {\r\n              $toastBox.prependTo(module.get.container());\r\n            }\r\n            else {\r\n              $toastBox.appendTo(module.get.container());\r\n            }\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.debug('Binding events to toast');\r\n            if(settings.closeOnClick || settings.closeIcon) {\r\n              (settings.closeIcon ? $close : $toast)\r\n                  .on('click' + eventNamespace, module.event.click)\r\n              ;\r\n            }\r\n            if($animationObject) {\r\n              $animationObject.on('animationend' + eventNamespace, module.close);\r\n            }\r\n            $toastBox\r\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\r\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\r\n            ;\r\n          }\r\n        },\r\n\r\n        unbind: {\r\n          events: function() {\r\n            module.debug('Unbinding events to toast');\r\n            if(settings.closeOnClick || settings.closeIcon) {\r\n              (settings.closeIcon ? $close : $toast)\r\n                  .off('click' + eventNamespace)\r\n              ;\r\n            }\r\n            if($animationObject) {\r\n              $animationObject.off('animationend' + eventNamespace);\r\n            }\r\n            $toastBox\r\n              .off('click' + eventNamespace)\r\n            ;\r\n          }\r\n        },\r\n\r\n        animate: {\r\n          show: function(callback) {\r\n            callback = $.isFunction(callback) ? callback : function(){};\r\n            if(settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\r\n              module.set.visible();\r\n              $toastBox\r\n                .transition({\r\n                  animation  : settings.transition.showMethod + ' in',\r\n                  queue      : false,\r\n                  debug      : settings.debug,\r\n                  verbose    : settings.verbose,\r\n                  duration   : settings.transition.showDuration,\r\n                  onComplete : function() {\r\n                    callback.call($toastBox, element);\r\n                    settings.onVisible.call($toastBox, element);\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n          },\r\n          close: function(callback) {\r\n            callback = $.isFunction(callback) ? callback : function(){};\r\n            module.debug('Closing toast');\r\n            if(settings.onHide.call($toastBox, element) === false) {\r\n              module.debug('onHide callback returned false, cancelling toast animation');\r\n              return;\r\n            }\r\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\r\n              $toastBox\r\n                .transition({\r\n                  animation  : settings.transition.hideMethod + ' out',\r\n                  queue      : false,\r\n                  duration   : settings.transition.hideDuration,\r\n                  debug      : settings.debug,\r\n                  verbose    : settings.verbose,\r\n                  interval   : 50,\r\n\r\n                  onBeforeHide: function(callback){\r\n                      callback = $.isFunction(callback)?callback : function(){};\r\n                      if(settings.transition.closeEasing !== ''){\r\n                          if($toastBox) {\r\n                            $toastBox.css('opacity', 0);\r\n                            $toastBox.wrap('<div/>').parent().slideUp(500, settings.transition.closeEasing, function () {\r\n                              if ($toastBox) {\r\n                                $toastBox.parent().remove();\r\n                                callback.call($toastBox);\r\n                              }\r\n                            });\r\n                          }\r\n                      } else {\r\n                        callback.call($toastBox);\r\n                      }\r\n                  },\r\n                  onComplete : function() {\r\n                    callback.call($toastBox, element);\r\n                    settings.onHidden.call($toastBox, element);\r\n                    module.destroy();\r\n                  }\r\n                })\r\n              ;\r\n            }\r\n            else {\r\n              module.error(error.noTransition);\r\n            }\r\n          },\r\n          pause: function() {\r\n            $animationObject.css('animationPlayState','paused');\r\n            if($progressBar) {\r\n              $progressBar.css('animationPlayState', 'paused');\r\n            }\r\n          },\r\n          continue: function() {\r\n            $animationObject.css('animationPlayState','running');\r\n            if($progressBar) {\r\n              $progressBar.css('animationPlayState', 'running');\r\n            }\r\n          }\r\n        },\r\n\r\n        has: {\r\n          container: function() {\r\n            module.verbose('Determining if there is already a container');\r\n            return ($context.find(module.helpers.toClass(settings.position) + selector.container).length > 0);\r\n          },\r\n          toast: function(){\r\n            return !!module.get.toast();\r\n          },\r\n          toasts: function(){\r\n            return module.get.toasts().length > 0;\r\n          },\r\n          configActions: function () {\r\n            return Array.isArray(settings.actions) && settings.actions.length > 0;\r\n          }\r\n        },\r\n\r\n        get: {\r\n          container: function() {\r\n            return ($context.find(module.helpers.toClass(settings.position) + selector.container)[0]);\r\n          },\r\n          toastBox: function() {\r\n            return $toastBox || null;\r\n          },\r\n          toast: function() {\r\n            return $toast || null;\r\n          },\r\n          toasts: function() {\r\n            return $(module.get.container()).find(selector.box);\r\n          },\r\n          iconClass: function() {\r\n            return typeof settings.showIcon === 'string' ? settings.showIcon : settings.showIcon && settings.icons[settings.class] ? settings.icons[settings.class] : '';\r\n          },\r\n          remainingTime: function() {\r\n            return $animationObject ? $animationObject.css('opacity') * settings.displayTime : 0;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          visible: function() {\r\n            $toast.addClass(className.visible);\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          visible: function() {\r\n            $toast.removeClass(className.visible);\r\n          }\r\n        },\r\n\r\n        event: {\r\n          click: function(event) {\r\n            if($(event.target).closest('a').length === 0) {\r\n              settings.onClick.call($toastBox, element);\r\n              module.close();\r\n            }\r\n          },\r\n          approve: function() {\r\n            if(settings.onApprove.call(element, $module) === false) {\r\n              module.verbose('Approve callback returned false cancelling close');\r\n              return;\r\n            }\r\n            module.close();\r\n          },\r\n          deny: function() {\r\n            if(settings.onDeny.call(element, $module) === false) {\r\n              module.verbose('Deny callback returned false cancelling close');\r\n              return;\r\n            }\r\n            module.close();\r\n          }\r\n        },\r\n\r\n        helpers: {\r\n          toClass: function(selector) {\r\n            var\r\n              classes = selector.split(' '),\r\n              result = ''\r\n            ;\r\n\r\n            classes.forEach(function (element) {\r\n              result += '.' + element;\r\n            });\r\n\r\n            return result;\r\n          },\r\n          deQuote: function(string) {\r\n            return String(string).replace(/\"/g,\"\");\r\n          },\r\n          escape: function(string, preserveHTML) {\r\n            if (preserveHTML){\r\n              return string;\r\n            }\r\n            var\r\n              badChars     = /[<>\"'`]/g,\r\n              shouldEscape = /[&<>\"'`]/,\r\n              escape       = {\r\n                \"<\": \"&lt;\",\r\n                \">\": \"&gt;\",\r\n                '\"': \"&quot;\",\r\n                \"'\": \"&#x27;\",\r\n                \"`\": \"&#x60;\"\r\n              },\r\n              escapedChar  = function(chr) {\r\n                return escape[chr];\r\n              }\r\n            ;\r\n            if(shouldEscape.test(string)) {\r\n              string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\r\n              return string.replace(badChars, escapedChar);\r\n            }\r\n            return string;\r\n          }\r\n        },\r\n\r\n        can: {\r\n          useElement: function(element){\r\n            if ($.fn[element] !== undefined) {\r\n              return true;\r\n            }\r\n            module.error(error.noElement.replace('{element}',element));\r\n            return false;\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n        returnedValue = $module;\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.toast.settings = {\r\n\r\n  name           : 'Toast',\r\n  namespace      : 'toast',\r\n\r\n  silent         : false,\r\n  debug          : false,\r\n  verbose        : false,\r\n  performance    : true,\r\n\r\n  context        : 'body',\r\n\r\n  position       : 'top right',\r\n  class          : 'neutral',\r\n  classProgress  : false,\r\n  classActions   : false,\r\n  classImage     : 'mini',\r\n\r\n  title          : '',\r\n  message        : '',\r\n  displayTime    : 3000, // set to zero to require manually dismissal, otherwise hides on its own\r\n  minDisplayTime : 1000, // minimum displaytime in case displayTime is set to 'auto'\r\n  wordsPerMinute : 120,\r\n  showIcon       : false,\r\n  newestOnTop    : false,\r\n  showProgress   : false,\r\n  pauseOnHover   : true,\r\n  progressUp     : false, //if true, the bar will start at 0% and increase to 100%\r\n  opacity        : 1,\r\n  compact        : true,\r\n  closeIcon      : false,\r\n  closeOnClick   : true,\r\n  cloneModule    : true,\r\n  actions        : false,\r\n  preserveHTML   : true,\r\n  showImage      : false,\r\n\r\n  // transition settings\r\n  transition     : {\r\n    showMethod   : 'scale',\r\n    showDuration : 500,\r\n    hideMethod   : 'scale',\r\n    hideDuration : 500,\r\n    closeEasing  : 'easeOutCubic'  //Set to empty string to stack the closed toast area immediately (old behaviour)\r\n  },\r\n\r\n  error: {\r\n    method       : 'The method you called is not defined.',\r\n    noElement    : 'This module requires ui {element}',\r\n    verticalCard : 'Vertical but not attached actions are not supported for card layout'\r\n  },\r\n\r\n  className      : {\r\n    container    : 'ui toast-container',\r\n    box          : 'floating toast-box',\r\n    progress     : 'ui attached active progress',\r\n    toast        : 'ui toast',\r\n    icon         : 'centered icon',\r\n    visible      : 'visible',\r\n    content      : 'content',\r\n    title        : 'ui header',\r\n    actions      : 'actions',\r\n    extraContent : 'extra content',\r\n    button       : 'ui button',\r\n    buttons      : 'ui buttons',\r\n    close        : 'close icon',\r\n    image        : 'ui image',\r\n    vertical     : 'vertical',\r\n    attached     : 'attached',\r\n    inverted     : 'inverted',\r\n    compact      : 'compact',\r\n    pausable     : 'pausable',\r\n    progressing  : 'progressing',\r\n    top          : 'top',\r\n    bottom       : 'bottom',\r\n    left         : 'left',\r\n    basic        : 'basic',\r\n    unclickable  : 'unclickable'\r\n  },\r\n\r\n  icons          : {\r\n    info         : 'info',\r\n    success      : 'checkmark',\r\n    warning      : 'warning',\r\n    error        : 'times'\r\n  },\r\n\r\n  selector       : {\r\n    container    : '.ui.toast-container',\r\n    box          : '.toast-box',\r\n    toast        : '.ui.toast',\r\n    input        : 'input:not([type=\"hidden\"]), textarea, select, button, .ui.button, ui.dropdown',\r\n    approve      : '.actions .positive, .actions .approve, .actions .ok',\r\n    deny         : '.actions .negative, .actions .deny, .actions .cancel'\r\n  },\r\n\r\n  fields         : {\r\n    class        : 'class',\r\n    text         : 'text',\r\n    icon         : 'icon',\r\n    click        : 'click'\r\n  },\r\n\r\n  // callbacks\r\n  onShow         : function(){},\r\n  onVisible      : function(){},\r\n  onClick        : function(){},\r\n  onHide         : function(){},\r\n  onHidden       : function(){},\r\n  onRemove       : function(){},\r\n  onApprove      : function(){},\r\n  onDeny         : function(){}\r\n};\r\n\r\n$.extend( $.easing, {\r\n    easeOutBounce: function (x, t, b, c, d) {\r\n        if ((t/=d) < (1/2.75)) {\r\n            return c*(7.5625*t*t) + b;\r\n        } else if (t < (2/2.75)) {\r\n            return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\r\n        } else if (t < (2.5/2.75)) {\r\n            return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\r\n        } else {\r\n            return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\r\n        }\r\n    },\r\n    easeOutCubic: function (t) {\r\n      return (--t)*t*t+1;\r\n    }\r\n});\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Transition\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.transition = function() {\r\n  var\r\n    $allModules     = $(this),\r\n    moduleSelector  = $allModules.selector || '',\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    moduleArguments = arguments,\r\n    query           = moduleArguments[0],\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n    methodInvoked   = (typeof query === 'string'),\r\n\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function(index) {\r\n      var\r\n        $module  = $(this),\r\n        element  = this,\r\n\r\n        // set at run time\r\n        settings,\r\n        instance,\r\n\r\n        error,\r\n        className,\r\n        metadata,\r\n        animationEnd,\r\n\r\n        moduleNamespace,\r\n        eventNamespace,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n\r\n          // get full settings\r\n          settings        = module.get.settings.apply(element, moduleArguments);\r\n\r\n          // shorthand\r\n          className       = settings.className;\r\n          error           = settings.error;\r\n          metadata        = settings.metadata;\r\n\r\n          // define namespace\r\n          eventNamespace  = '.' + settings.namespace;\r\n          moduleNamespace = 'module-' + settings.namespace;\r\n          instance        = $module.data(moduleNamespace) || module;\r\n\r\n          // get vendor specific events\r\n          animationEnd    = module.get.animationEndEvent();\r\n\r\n          if(methodInvoked) {\r\n            methodInvoked = module.invoke(query);\r\n          }\r\n\r\n          // method not invoked, lets run an animation\r\n          if(methodInvoked === false) {\r\n            module.verbose('Converted arguments into settings object', settings);\r\n            if(settings.interval) {\r\n              module.delay(settings.animate);\r\n            }\r\n            else  {\r\n              module.animate();\r\n            }\r\n            module.instantiate();\r\n          }\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module for', element);\r\n          $module\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          module.verbose('Refreshing display type on next animation');\r\n          delete module.displayType;\r\n        },\r\n\r\n        forceRepaint: function() {\r\n          module.verbose('Forcing element repaint');\r\n          var\r\n            $parentElement = $module.parent(),\r\n            $nextElement = $module.next()\r\n          ;\r\n          if($nextElement.length === 0) {\r\n            $module.detach().appendTo($parentElement);\r\n          }\r\n          else {\r\n            $module.detach().insertBefore($nextElement);\r\n          }\r\n        },\r\n\r\n        repaint: function() {\r\n          module.verbose('Repainting element');\r\n          var\r\n            fakeAssignment = element.offsetWidth\r\n          ;\r\n        },\r\n\r\n        delay: function(interval) {\r\n          var\r\n            direction = module.get.animationDirection(),\r\n            shouldReverse,\r\n            delay\r\n          ;\r\n          if(!direction) {\r\n            direction = module.can.transition()\r\n              ? module.get.direction()\r\n              : 'static'\r\n            ;\r\n          }\r\n          interval = (interval !== undefined)\r\n            ? interval\r\n            : settings.interval\r\n          ;\r\n          shouldReverse = (settings.reverse == 'auto' && direction == className.outward);\r\n          delay = (shouldReverse || settings.reverse == true)\r\n            ? ($allModules.length - index) * settings.interval\r\n            : index * settings.interval\r\n          ;\r\n          module.debug('Delaying animation by', delay);\r\n          setTimeout(module.animate, delay);\r\n        },\r\n\r\n        animate: function(overrideSettings) {\r\n          settings = overrideSettings || settings;\r\n          if(!module.is.supported()) {\r\n            module.error(error.support);\r\n            return false;\r\n          }\r\n          module.debug('Preparing animation', settings.animation);\r\n          if(module.is.animating()) {\r\n            if(settings.queue) {\r\n              if(!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\r\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\r\n              }\r\n              else {\r\n                module.queue(settings.animation);\r\n              }\r\n              return false;\r\n            }\r\n            else if(!settings.allowRepeats && module.is.occurring()) {\r\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\r\n              return false;\r\n            }\r\n            else {\r\n              module.debug('New animation started, completing previous early', settings.animation);\r\n              instance.complete();\r\n            }\r\n          }\r\n          if( module.can.animate() ) {\r\n            module.set.animating(settings.animation);\r\n          }\r\n          else {\r\n            module.error(error.noAnimation, settings.animation, element);\r\n          }\r\n        },\r\n\r\n        reset: function() {\r\n          module.debug('Resetting animation to beginning conditions');\r\n          module.remove.animationCallbacks();\r\n          module.restore.conditions();\r\n          module.remove.animating();\r\n        },\r\n\r\n        queue: function(animation) {\r\n          module.debug('Queueing animation of', animation);\r\n          module.queuing = true;\r\n          $module\r\n            .one(animationEnd + '.queue' + eventNamespace, function() {\r\n              module.queuing = false;\r\n              module.repaint();\r\n              module.animate.apply(this, settings);\r\n            })\r\n          ;\r\n        },\r\n\r\n        complete: function (event) {\r\n          if(event && event.target === element) {\r\n              event.stopPropagation();\r\n          }\r\n          module.debug('Animation complete', settings.animation);\r\n          module.remove.completeCallback();\r\n          module.remove.failSafe();\r\n          if(!module.is.looping()) {\r\n            if( module.is.outward() ) {\r\n              module.verbose('Animation is outward, hiding element');\r\n              module.restore.conditions();\r\n              module.hide();\r\n            }\r\n            else if( module.is.inward() ) {\r\n              module.verbose('Animation is outward, showing element');\r\n              module.restore.conditions();\r\n              module.show();\r\n            }\r\n            else {\r\n              module.verbose('Static animation completed');\r\n              module.restore.conditions();\r\n              settings.onComplete.call(element);\r\n            }\r\n          }\r\n        },\r\n\r\n        force: {\r\n          visible: function() {\r\n            var\r\n              style          = $module.attr('style'),\r\n              userStyle      = module.get.userStyle(style),\r\n              displayType    = module.get.displayType(),\r\n              overrideStyle  = userStyle + 'display: ' + displayType + ' !important;',\r\n              inlineDisplay  = $module[0].style.display,\r\n              mustStayHidden = !displayType || (inlineDisplay === 'none' && settings.skipInlineHidden) || $module[0].tagName.match(/(script|link|style)/i)\r\n            ;\r\n            if (mustStayHidden){\r\n              module.remove.transition();\r\n              return false;\r\n            }\r\n            module.verbose('Overriding default display to show element', displayType);\r\n            $module\r\n              .attr('style', overrideStyle)\r\n            ;\r\n            return true;\r\n          },\r\n          hidden: function() {\r\n            var\r\n              style          = $module.attr('style'),\r\n              currentDisplay = $module.css('display'),\r\n              emptyStyle     = (style === undefined || style === '')\r\n            ;\r\n            if(currentDisplay !== 'none' && !module.is.hidden()) {\r\n              module.verbose('Overriding default display to hide element');\r\n              $module\r\n                .css('display', 'none')\r\n              ;\r\n            }\r\n            else if(emptyStyle) {\r\n              $module\r\n                .removeAttr('style')\r\n              ;\r\n            }\r\n          }\r\n        },\r\n\r\n        has: {\r\n          direction: function(animation) {\r\n            var\r\n              hasDirection = false\r\n            ;\r\n            animation = animation || settings.animation;\r\n            if(typeof animation === 'string') {\r\n              animation = animation.split(' ');\r\n              $.each(animation, function(index, word){\r\n                if(word === className.inward || word === className.outward) {\r\n                  hasDirection = true;\r\n                }\r\n              });\r\n            }\r\n            return hasDirection;\r\n          },\r\n          inlineDisplay: function() {\r\n            var\r\n              style = $module.attr('style') || ''\r\n            ;\r\n            return Array.isArray(style.match(/display.*?;/, ''));\r\n          }\r\n        },\r\n\r\n        set: {\r\n          animating: function(animation) {\r\n            // remove previous callbacks\r\n            module.remove.completeCallback();\r\n\r\n            // determine exact animation\r\n            animation = animation || settings.animation;\r\n            var animationClass = module.get.animationClass(animation);\r\n\r\n              // save animation class in cache to restore class names\r\n            module.save.animation(animationClass);\r\n\r\n            if(module.force.visible()) {\r\n              module.remove.hidden();\r\n              module.remove.direction();\r\n\r\n              module.start.animation(animationClass);\r\n            }\r\n          },\r\n          duration: function(animationName, duration) {\r\n            duration = duration || settings.duration;\r\n            duration = (typeof duration == 'number')\r\n              ? duration + 'ms'\r\n              : duration\r\n            ;\r\n            if(duration || duration === 0) {\r\n              module.verbose('Setting animation duration', duration);\r\n              $module\r\n                .css({\r\n                  'animation-duration':  duration\r\n                })\r\n              ;\r\n            }\r\n          },\r\n          direction: function(direction) {\r\n            direction = direction || module.get.direction();\r\n            if(direction == className.inward) {\r\n              module.set.inward();\r\n            }\r\n            else {\r\n              module.set.outward();\r\n            }\r\n          },\r\n          looping: function() {\r\n            module.debug('Transition set to loop');\r\n            $module\r\n              .addClass(className.looping)\r\n            ;\r\n          },\r\n          hidden: function() {\r\n            $module\r\n              .addClass(className.transition)\r\n              .addClass(className.hidden)\r\n            ;\r\n          },\r\n          inward: function() {\r\n            module.debug('Setting direction to inward');\r\n            $module\r\n              .removeClass(className.outward)\r\n              .addClass(className.inward)\r\n            ;\r\n          },\r\n          outward: function() {\r\n            module.debug('Setting direction to outward');\r\n            $module\r\n              .removeClass(className.inward)\r\n              .addClass(className.outward)\r\n            ;\r\n          },\r\n          visible: function() {\r\n            $module\r\n              .addClass(className.transition)\r\n              .addClass(className.visible)\r\n            ;\r\n          }\r\n        },\r\n\r\n        start: {\r\n          animation: function(animationClass) {\r\n            animationClass = animationClass || module.get.animationClass();\r\n            module.debug('Starting tween', animationClass);\r\n            $module\r\n              .addClass(animationClass)\r\n              .one(animationEnd + '.complete' + eventNamespace, module.complete)\r\n            ;\r\n            if(settings.useFailSafe) {\r\n              module.add.failSafe();\r\n            }\r\n            module.set.duration(settings.duration);\r\n            settings.onStart.call(element);\r\n          }\r\n        },\r\n\r\n        save: {\r\n          animation: function(animation) {\r\n            if(!module.cache) {\r\n              module.cache = {};\r\n            }\r\n            module.cache.animation = animation;\r\n          },\r\n          displayType: function(displayType) {\r\n            if(displayType !== 'none') {\r\n              $module.data(metadata.displayType, displayType);\r\n            }\r\n          },\r\n          transitionExists: function(animation, exists) {\r\n            $.fn.transition.exists[animation] = exists;\r\n            module.verbose('Saving existence of transition', animation, exists);\r\n          }\r\n        },\r\n\r\n        restore: {\r\n          conditions: function() {\r\n            var\r\n              animation = module.get.currentAnimation()\r\n            ;\r\n            if(animation) {\r\n              $module\r\n                .removeClass(animation)\r\n              ;\r\n              module.verbose('Removing animation class', module.cache);\r\n            }\r\n            module.remove.duration();\r\n          }\r\n        },\r\n\r\n        add: {\r\n          failSafe: function() {\r\n            var\r\n              duration = module.get.duration()\r\n            ;\r\n            module.timer = setTimeout(function() {\r\n              $module.triggerHandler(animationEnd);\r\n            }, duration + settings.failSafeDelay);\r\n            module.verbose('Adding fail safe timer', module.timer);\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          animating: function() {\r\n            $module.removeClass(className.animating);\r\n          },\r\n          animationCallbacks: function() {\r\n            module.remove.queueCallback();\r\n            module.remove.completeCallback();\r\n          },\r\n          queueCallback: function() {\r\n            $module.off('.queue' + eventNamespace);\r\n          },\r\n          completeCallback: function() {\r\n            $module.off('.complete' + eventNamespace);\r\n          },\r\n          display: function() {\r\n            $module.css('display', '');\r\n          },\r\n          direction: function() {\r\n            $module\r\n              .removeClass(className.inward)\r\n              .removeClass(className.outward)\r\n            ;\r\n          },\r\n          duration: function() {\r\n            $module\r\n              .css('animation-duration', '')\r\n            ;\r\n          },\r\n          failSafe: function() {\r\n            module.verbose('Removing fail safe timer', module.timer);\r\n            if(module.timer) {\r\n              clearTimeout(module.timer);\r\n            }\r\n          },\r\n          hidden: function() {\r\n            $module.removeClass(className.hidden);\r\n          },\r\n          visible: function() {\r\n            $module.removeClass(className.visible);\r\n          },\r\n          looping: function() {\r\n            module.debug('Transitions are no longer looping');\r\n            if( module.is.looping() ) {\r\n              module.reset();\r\n              $module\r\n                .removeClass(className.looping)\r\n              ;\r\n            }\r\n          },\r\n          transition: function() {\r\n            $module\r\n              .removeClass(className.transition)\r\n              .removeClass(className.visible)\r\n              .removeClass(className.hidden)\r\n            ;\r\n          }\r\n        },\r\n        get: {\r\n          settings: function(animation, duration, onComplete) {\r\n            // single settings object\r\n            if(typeof animation == 'object') {\r\n              return $.extend(true, {}, $.fn.transition.settings, animation);\r\n            }\r\n            // all arguments provided\r\n            else if(typeof onComplete == 'function') {\r\n              return $.extend({}, $.fn.transition.settings, {\r\n                animation  : animation,\r\n                onComplete : onComplete,\r\n                duration   : duration\r\n              });\r\n            }\r\n            // only duration provided\r\n            else if(typeof duration == 'string' || typeof duration == 'number') {\r\n              return $.extend({}, $.fn.transition.settings, {\r\n                animation : animation,\r\n                duration  : duration\r\n              });\r\n            }\r\n            // duration is actually settings object\r\n            else if(typeof duration == 'object') {\r\n              return $.extend({}, $.fn.transition.settings, duration, {\r\n                animation : animation\r\n              });\r\n            }\r\n            // duration is actually callback\r\n            else if(typeof duration == 'function') {\r\n              return $.extend({}, $.fn.transition.settings, {\r\n                animation  : animation,\r\n                onComplete : duration\r\n              });\r\n            }\r\n            // only animation provided\r\n            else {\r\n              return $.extend({}, $.fn.transition.settings, {\r\n                animation : animation\r\n              });\r\n            }\r\n          },\r\n          animationClass: function(animation) {\r\n            var\r\n              animationClass = animation || settings.animation,\r\n              directionClass = (module.can.transition() && !module.has.direction())\r\n                ? module.get.direction() + ' '\r\n                : ''\r\n            ;\r\n            return className.animating + ' '\r\n              + className.transition + ' '\r\n              + directionClass\r\n              + animationClass\r\n            ;\r\n          },\r\n          currentAnimation: function() {\r\n            return (module.cache && module.cache.animation !== undefined)\r\n              ? module.cache.animation\r\n              : false\r\n            ;\r\n          },\r\n          currentDirection: function() {\r\n            return module.is.inward()\r\n              ? className.inward\r\n              : className.outward\r\n            ;\r\n          },\r\n          direction: function() {\r\n            return module.is.hidden() || !module.is.visible()\r\n              ? className.inward\r\n              : className.outward\r\n            ;\r\n          },\r\n          animationDirection: function(animation) {\r\n            var\r\n              direction\r\n            ;\r\n            animation = animation || settings.animation;\r\n            if(typeof animation === 'string') {\r\n              animation = animation.split(' ');\r\n              // search animation name for out/in class\r\n              $.each(animation, function(index, word){\r\n                if(word === className.inward) {\r\n                  direction = className.inward;\r\n                }\r\n                else if(word === className.outward) {\r\n                  direction = className.outward;\r\n                }\r\n              });\r\n            }\r\n            // return found direction\r\n            if(direction) {\r\n              return direction;\r\n            }\r\n            return false;\r\n          },\r\n          duration: function(duration) {\r\n            duration = duration || settings.duration;\r\n            if(duration === false) {\r\n              duration = $module.css('animation-duration') || 0;\r\n            }\r\n            return (typeof duration === 'string')\r\n              ? (duration.indexOf('ms') > -1)\r\n                ? parseFloat(duration)\r\n                : parseFloat(duration) * 1000\r\n              : duration\r\n            ;\r\n          },\r\n          displayType: function(shouldDetermine) {\r\n            shouldDetermine = (shouldDetermine !== undefined)\r\n              ? shouldDetermine\r\n              : true\r\n            ;\r\n            if(settings.displayType) {\r\n              return settings.displayType;\r\n            }\r\n            if(shouldDetermine && $module.data(metadata.displayType) === undefined) {\r\n              var currentDisplay = $module.css('display');\r\n              if(currentDisplay === '' || currentDisplay === 'none'){\r\n              // create fake element to determine display state\r\n                module.can.transition(true);\r\n              } else {\r\n                module.save.displayType(currentDisplay);\r\n              }\r\n            }\r\n            return $module.data(metadata.displayType);\r\n          },\r\n          userStyle: function(style) {\r\n            style = style || $module.attr('style') || '';\r\n            return style.replace(/display.*?;/, '');\r\n          },\r\n          transitionExists: function(animation) {\r\n            return $.fn.transition.exists[animation];\r\n          },\r\n          animationStartEvent: function() {\r\n            var\r\n              element     = document.createElement('div'),\r\n              animations  = {\r\n                'animation'       :'animationstart',\r\n                'OAnimation'      :'oAnimationStart',\r\n                'MozAnimation'    :'mozAnimationStart',\r\n                'WebkitAnimation' :'webkitAnimationStart'\r\n              },\r\n              animation\r\n            ;\r\n            for(animation in animations){\r\n              if( element.style[animation] !== undefined ){\r\n                return animations[animation];\r\n              }\r\n            }\r\n            return false;\r\n          },\r\n          animationEndEvent: function() {\r\n            var\r\n              element     = document.createElement('div'),\r\n              animations  = {\r\n                'animation'       :'animationend',\r\n                'OAnimation'      :'oAnimationEnd',\r\n                'MozAnimation'    :'mozAnimationEnd',\r\n                'WebkitAnimation' :'webkitAnimationEnd'\r\n              },\r\n              animation\r\n            ;\r\n            for(animation in animations){\r\n              if( element.style[animation] !== undefined ){\r\n                return animations[animation];\r\n              }\r\n            }\r\n            return false;\r\n          }\r\n\r\n        },\r\n\r\n        can: {\r\n          transition: function(forced) {\r\n            var\r\n              animation         = settings.animation,\r\n              transitionExists  = module.get.transitionExists(animation),\r\n              displayType       = module.get.displayType(false),\r\n              elementClass,\r\n              tagName,\r\n              $clone,\r\n              currentAnimation,\r\n              inAnimation,\r\n              directionExists\r\n            ;\r\n            if( transitionExists === undefined || forced) {\r\n              module.verbose('Determining whether animation exists');\r\n              elementClass = $module.attr('class');\r\n              tagName      = $module.prop('tagName');\r\n\r\n              $clone = $('<' + tagName + ' />').addClass( elementClass ).insertAfter($module);\r\n              currentAnimation = $clone\r\n                .addClass(animation)\r\n                .removeClass(className.inward)\r\n                .removeClass(className.outward)\r\n                .addClass(className.animating)\r\n                .addClass(className.transition)\r\n                .css('animationName')\r\n              ;\r\n              inAnimation = $clone\r\n                .addClass(className.inward)\r\n                .css('animationName')\r\n              ;\r\n              if(!displayType) {\r\n                displayType = $clone\r\n                  .attr('class', elementClass)\r\n                  .removeAttr('style')\r\n                  .removeClass(className.hidden)\r\n                  .removeClass(className.visible)\r\n                  .show()\r\n                  .css('display')\r\n                ;\r\n                module.verbose('Determining final display state', displayType);\r\n                module.save.displayType(displayType);\r\n              }\r\n\r\n              $clone.remove();\r\n              if(currentAnimation != inAnimation) {\r\n                module.debug('Direction exists for animation', animation);\r\n                directionExists = true;\r\n              }\r\n              else if(currentAnimation == 'none' || !currentAnimation) {\r\n                module.debug('No animation defined in css', animation);\r\n                return;\r\n              }\r\n              else {\r\n                module.debug('Static animation found', animation, displayType);\r\n                directionExists = false;\r\n              }\r\n              module.save.transitionExists(animation, directionExists);\r\n            }\r\n            return (transitionExists !== undefined)\r\n              ? transitionExists\r\n              : directionExists\r\n            ;\r\n          },\r\n          animate: function() {\r\n            // can transition does not return a value if animation does not exist\r\n            return (module.can.transition() !== undefined);\r\n          }\r\n        },\r\n\r\n        is: {\r\n          animating: function() {\r\n            return $module.hasClass(className.animating);\r\n          },\r\n          inward: function() {\r\n            return $module.hasClass(className.inward);\r\n          },\r\n          outward: function() {\r\n            return $module.hasClass(className.outward);\r\n          },\r\n          looping: function() {\r\n            return $module.hasClass(className.looping);\r\n          },\r\n          occurring: function(animation) {\r\n            animation = animation || settings.animation;\r\n            animation = '.' + animation.replace(' ', '.');\r\n            return ( $module.filter(animation).length > 0 );\r\n          },\r\n          visible: function() {\r\n            return $module.is(':visible');\r\n          },\r\n          hidden: function() {\r\n            return $module.css('visibility') === 'hidden';\r\n          },\r\n          supported: function() {\r\n            return(animationEnd !== false);\r\n          }\r\n        },\r\n\r\n        hide: function() {\r\n          module.verbose('Hiding element');\r\n          if( module.is.animating() ) {\r\n            module.reset();\r\n          }\r\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\r\n          module.remove.display();\r\n          module.remove.visible();\r\n          if($.isFunction(settings.onBeforeHide)){\r\n            settings.onBeforeHide.call(element,function(){\r\n                module.hideNow();\r\n            });\r\n          } else {\r\n              module.hideNow();\r\n          }\r\n\r\n        },\r\n\r\n        hideNow: function() {\r\n            module.set.hidden();\r\n            module.force.hidden();\r\n            settings.onHide.call(element);\r\n            settings.onComplete.call(element);\r\n            // module.repaint();\r\n        },\r\n\r\n        show: function(display) {\r\n          module.verbose('Showing element', display);\r\n          if(module.force.visible()) {\r\n            module.remove.hidden();\r\n            module.set.visible();\r\n            settings.onShow.call(element);\r\n            settings.onComplete.call(element);\r\n            // module.repaint();\r\n          }\r\n        },\r\n\r\n        toggle: function() {\r\n          if( module.is.visible() ) {\r\n            module.hide();\r\n          }\r\n          else {\r\n            module.show();\r\n          }\r\n        },\r\n\r\n        stop: function() {\r\n          module.debug('Stopping current animation');\r\n          $module.triggerHandler(animationEnd);\r\n        },\r\n\r\n        stopAll: function() {\r\n          module.debug('Stopping all animation');\r\n          module.remove.queueCallback();\r\n          $module.triggerHandler(animationEnd);\r\n        },\r\n\r\n        clear: {\r\n          queue: function() {\r\n            module.debug('Clearing animation queue');\r\n            module.remove.queueCallback();\r\n          }\r\n        },\r\n\r\n        enable: function() {\r\n          module.verbose('Starting animation');\r\n          $module.removeClass(className.disabled);\r\n        },\r\n\r\n        disable: function() {\r\n          module.debug('Stopping animation');\r\n          $module.addClass(className.disabled);\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if($allModules.length > 1) {\r\n              title += ' ' + '(' + $allModules.length + ')';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        // modified for transition to return invoke success\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return (found !== undefined)\r\n            ? found\r\n            : false\r\n          ;\r\n        }\r\n      };\r\n      module.initialize();\r\n    })\r\n  ;\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n// Records if CSS transition is available\r\n$.fn.transition.exists = {};\r\n\r\n$.fn.transition.settings = {\r\n\r\n  // module info\r\n  name          : 'Transition',\r\n\r\n  // hide all output from this component regardless of other settings\r\n  silent        : false,\r\n\r\n  // debug content outputted to console\r\n  debug         : false,\r\n\r\n  // verbose debug output\r\n  verbose       : false,\r\n\r\n  // performance data output\r\n  performance   : true,\r\n\r\n  // event namespace\r\n  namespace     : 'transition',\r\n\r\n  // delay between animations in group\r\n  interval      : 0,\r\n\r\n  // whether group animations should be reversed\r\n  reverse       : 'auto',\r\n\r\n  // animation callback event\r\n  onStart       : function() {},\r\n  onComplete    : function() {},\r\n  onShow        : function() {},\r\n  onHide        : function() {},\r\n\r\n  // whether timeout should be used to ensure callback fires in cases animationend does not\r\n  useFailSafe   : true,\r\n\r\n  // delay in ms for fail safe\r\n  failSafeDelay : 100,\r\n\r\n  // whether EXACT animation can occur twice in a row\r\n  allowRepeats  : false,\r\n\r\n  // Override final display type on visible\r\n  displayType   : false,\r\n\r\n  // animation duration\r\n  animation     : 'fade',\r\n  duration      : false,\r\n\r\n  // new animations will occur after previous ones\r\n  queue         : true,\r\n\r\n// whether initially inline hidden objects should be skipped for transition\r\n  skipInlineHidden: false,\r\n\r\n  metadata : {\r\n    displayType: 'display'\r\n  },\r\n\r\n  className   : {\r\n    animating  : 'animating',\r\n    disabled   : 'disabled',\r\n    hidden     : 'hidden',\r\n    inward     : 'in',\r\n    loading    : 'loading',\r\n    looping    : 'looping',\r\n    outward    : 'out',\r\n    transition : 'transition',\r\n    visible    : 'visible'\r\n  },\r\n\r\n  // possible errors\r\n  error: {\r\n    noAnimation : 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\r\n    repeated    : 'That animation is already occurring, cancelling repeated animation',\r\n    method      : 'The method you called is not defined',\r\n    support     : 'This browser does not support CSS animations'\r\n  }\r\n\r\n};\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - API\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isWindow = $.isWindow || function(obj) {\r\n  return obj != null && obj === obj.window;\r\n};\r\n\r\n  window = (typeof window != 'undefined' && window.Math == Math)\r\n    ? window\r\n    : (typeof self != 'undefined' && self.Math == Math)\r\n      ? self\r\n      : Function('return this')()\r\n;\r\n\r\n$.api = $.fn.api = function(parameters) {\r\n\r\n  var\r\n    // use window context if none specified\r\n    $allModules     = $.isFunction(this)\r\n        ? $(window)\r\n        : $(this),\r\n    moduleSelector = $allModules.selector || '',\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\r\n          : $.extend({}, $.fn.api.settings),\r\n\r\n        // internal aliases\r\n        namespace       = settings.namespace,\r\n        metadata        = settings.metadata,\r\n        selector        = settings.selector,\r\n        error           = settings.error,\r\n        className       = settings.className,\r\n\r\n        // define namespaces for modules\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        // element that creates request\r\n        $module         = $(this),\r\n        $form           = $module.closest(selector.form),\r\n\r\n        // context used for state\r\n        $context        = (settings.stateContext)\r\n          ? $(settings.stateContext)\r\n          : $module,\r\n\r\n        // request details\r\n        ajaxSettings,\r\n        requestSettings,\r\n        url,\r\n        data,\r\n        requestStartTime,\r\n\r\n        // standard module\r\n        element         = this,\r\n        context         = $context[0],\r\n        instance        = $module.data(moduleNamespace),\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          if(!methodInvoked) {\r\n            module.bind.events();\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, instance)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module for', element);\r\n          $module\r\n            .removeData(moduleNamespace)\r\n            .off(eventNamespace)\r\n          ;\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            var\r\n              triggerEvent = module.get.event()\r\n            ;\r\n            if( triggerEvent ) {\r\n              module.verbose('Attaching API events to element', triggerEvent);\r\n              $module\r\n                .on(triggerEvent + eventNamespace, module.event.trigger)\r\n              ;\r\n            }\r\n            else if(settings.on == 'now') {\r\n              module.debug('Querying API endpoint immediately');\r\n              module.query();\r\n            }\r\n          }\r\n        },\r\n\r\n        decode: {\r\n          json: function(response) {\r\n            if(response !== undefined && typeof response == 'string') {\r\n              try {\r\n               response = JSON.parse(response);\r\n              }\r\n              catch(e) {\r\n                // isnt json string\r\n              }\r\n            }\r\n            return response;\r\n          }\r\n        },\r\n\r\n        read: {\r\n          cachedResponse: function(url) {\r\n            var\r\n              response\r\n            ;\r\n            if(window.Storage === undefined) {\r\n              module.error(error.noStorage);\r\n              return;\r\n            }\r\n            response = sessionStorage.getItem(url);\r\n            module.debug('Using cached response', url, response);\r\n            response = module.decode.json(response);\r\n            return response;\r\n          }\r\n        },\r\n        write: {\r\n          cachedResponse: function(url, response) {\r\n            if(response && response === '') {\r\n              module.debug('Response empty, not caching', response);\r\n              return;\r\n            }\r\n            if(window.Storage === undefined) {\r\n              module.error(error.noStorage);\r\n              return;\r\n            }\r\n            if( $.isPlainObject(response) ) {\r\n              response = JSON.stringify(response);\r\n            }\r\n            sessionStorage.setItem(url, response);\r\n            module.verbose('Storing cached response for url', url, response);\r\n          }\r\n        },\r\n\r\n        query: function() {\r\n\r\n          if(module.is.disabled()) {\r\n            module.debug('Element is disabled API request aborted');\r\n            return;\r\n          }\r\n\r\n          if(module.is.loading()) {\r\n            if(settings.interruptRequests) {\r\n              module.debug('Interrupting previous request');\r\n              module.abort();\r\n            }\r\n            else {\r\n              module.debug('Cancelling request, previous request is still pending');\r\n              return;\r\n            }\r\n          }\r\n\r\n          // pass element metadata to url (value, text)\r\n          if(settings.defaultData) {\r\n            $.extend(true, settings.urlData, module.get.defaultData());\r\n          }\r\n\r\n          // Add form content\r\n          if(settings.serializeForm) {\r\n            settings.data = module.add.formData(settings.data);\r\n          }\r\n\r\n          // call beforesend and get any settings changes\r\n          requestSettings = module.get.settings();\r\n\r\n          // check if before send cancelled request\r\n          if(requestSettings === false) {\r\n            module.cancelled = true;\r\n            module.error(error.beforeSend);\r\n            return;\r\n          }\r\n          else {\r\n            module.cancelled = false;\r\n          }\r\n\r\n          // get url\r\n          url = module.get.templatedURL();\r\n\r\n          if(!url && !module.is.mocked()) {\r\n            module.error(error.missingURL);\r\n            return;\r\n          }\r\n\r\n          // replace variables\r\n          url = module.add.urlData( url );\r\n          // missing url parameters\r\n          if( !url && !module.is.mocked()) {\r\n            return;\r\n          }\r\n\r\n          requestSettings.url = settings.base + url;\r\n\r\n          // look for jQuery ajax parameters in settings\r\n          ajaxSettings = $.extend(true, {}, settings, {\r\n            type       : settings.method || settings.type,\r\n            data       : data,\r\n            url        : settings.base + url,\r\n            beforeSend : settings.beforeXHR,\r\n            success    : function() {},\r\n            failure    : function() {},\r\n            complete   : function() {}\r\n          });\r\n\r\n          module.debug('Querying URL', ajaxSettings.url);\r\n          module.verbose('Using AJAX settings', ajaxSettings);\r\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\r\n            module.debug('Response returned from local cache');\r\n            module.request = module.create.request();\r\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\r\n            return;\r\n          }\r\n\r\n          if( !settings.throttle ) {\r\n            module.debug('Sending request', data, ajaxSettings.method);\r\n            module.send.request();\r\n          }\r\n          else {\r\n            if(!settings.throttleFirstRequest && !module.timer) {\r\n              module.debug('Sending request', data, ajaxSettings.method);\r\n              module.send.request();\r\n              module.timer = setTimeout(function(){}, settings.throttle);\r\n            }\r\n            else {\r\n              module.debug('Throttling request', settings.throttle);\r\n              clearTimeout(module.timer);\r\n              module.timer = setTimeout(function() {\r\n                if(module.timer) {\r\n                  delete module.timer;\r\n                }\r\n                module.debug('Sending throttled request', data, ajaxSettings.method);\r\n                module.send.request();\r\n              }, settings.throttle);\r\n            }\r\n          }\r\n\r\n        },\r\n\r\n        should: {\r\n          removeError: function() {\r\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\r\n          }\r\n        },\r\n\r\n        is: {\r\n          disabled: function() {\r\n            return ($module.filter(selector.disabled).length > 0);\r\n          },\r\n          expectingJSON: function() {\r\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\r\n          },\r\n          form: function() {\r\n            return $module.is('form') || $context.is('form');\r\n          },\r\n          mocked: function() {\r\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\r\n          },\r\n          input: function() {\r\n            return $module.is('input');\r\n          },\r\n          loading: function() {\r\n            return (module.request)\r\n              ? (module.request.state() == 'pending')\r\n              : false\r\n            ;\r\n          },\r\n          abortedRequest: function(xhr) {\r\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\r\n              module.verbose('XHR request determined to be aborted');\r\n              return true;\r\n            }\r\n            else {\r\n              module.verbose('XHR request was not aborted');\r\n              return false;\r\n            }\r\n          },\r\n          validResponse: function(response) {\r\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\r\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\r\n              return true;\r\n            }\r\n            module.debug('Checking JSON returned success', settings.successTest, response);\r\n            if( settings.successTest(response) ) {\r\n              module.debug('Response passed success test', response);\r\n              return true;\r\n            }\r\n            else {\r\n              module.debug('Response failed success test', response);\r\n              return false;\r\n            }\r\n          }\r\n        },\r\n\r\n        was: {\r\n          cancelled: function() {\r\n            return (module.cancelled || false);\r\n          },\r\n          succesful: function() {\r\n            module.verbose('This behavior will be deleted due to typo. Use \"was successful\" instead.');\r\n            return module.was.successful();\r\n          },\r\n          successful: function() {\r\n            return (module.request && module.request.state() == 'resolved');\r\n          },\r\n          failure: function() {\r\n            return (module.request && module.request.state() == 'rejected');\r\n          },\r\n          complete: function() {\r\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\r\n          }\r\n        },\r\n\r\n        add: {\r\n          urlData: function(url, urlData) {\r\n            var\r\n              requiredVariables,\r\n              optionalVariables\r\n            ;\r\n            if(url) {\r\n              requiredVariables = url.match(settings.regExp.required);\r\n              optionalVariables = url.match(settings.regExp.optional);\r\n              urlData           = urlData || settings.urlData;\r\n              if(requiredVariables) {\r\n                module.debug('Looking for required URL variables', requiredVariables);\r\n                $.each(requiredVariables, function(index, templatedString) {\r\n                  var\r\n                    // allow legacy {$var} style\r\n                    variable = (templatedString.indexOf('$') !== -1)\r\n                      ? templatedString.substr(2, templatedString.length - 3)\r\n                      : templatedString.substr(1, templatedString.length - 2),\r\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\r\n                      ? urlData[variable]\r\n                      : ($module.data(variable) !== undefined)\r\n                        ? $module.data(variable)\r\n                        : ($context.data(variable) !== undefined)\r\n                          ? $context.data(variable)\r\n                          : urlData[variable]\r\n                  ;\r\n                  // remove value\r\n                  if(value === undefined) {\r\n                    module.error(error.requiredParameter, variable, url);\r\n                    url = false;\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    module.verbose('Found required variable', variable, value);\r\n                    value = (settings.encodeParameters)\r\n                      ? module.get.urlEncodedValue(value)\r\n                      : value\r\n                    ;\r\n                    url = url.replace(templatedString, value);\r\n                  }\r\n                });\r\n              }\r\n              if(optionalVariables) {\r\n                module.debug('Looking for optional URL variables', requiredVariables);\r\n                $.each(optionalVariables, function(index, templatedString) {\r\n                  var\r\n                    // allow legacy {/$var} style\r\n                    variable = (templatedString.indexOf('$') !== -1)\r\n                      ? templatedString.substr(3, templatedString.length - 4)\r\n                      : templatedString.substr(2, templatedString.length - 3),\r\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\r\n                      ? urlData[variable]\r\n                      : ($module.data(variable) !== undefined)\r\n                        ? $module.data(variable)\r\n                        : ($context.data(variable) !== undefined)\r\n                          ? $context.data(variable)\r\n                          : urlData[variable]\r\n                  ;\r\n                  // optional replacement\r\n                  if(value !== undefined) {\r\n                    module.verbose('Optional variable Found', variable, value);\r\n                    url = url.replace(templatedString, value);\r\n                  }\r\n                  else {\r\n                    module.verbose('Optional variable not found', variable);\r\n                    // remove preceding slash if set\r\n                    if(url.indexOf('/' + templatedString) !== -1) {\r\n                      url = url.replace('/' + templatedString, '');\r\n                    }\r\n                    else {\r\n                      url = url.replace(templatedString, '');\r\n                    }\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            return url;\r\n          },\r\n          formData: function(data) {\r\n            var\r\n              canSerialize = ($.fn.serializeObject !== undefined),\r\n              formData     = (canSerialize)\r\n                ? $form.serializeObject()\r\n                : $form.serialize(),\r\n              hasOtherData\r\n            ;\r\n            data         = data || settings.data;\r\n            hasOtherData = $.isPlainObject(data);\r\n\r\n            if(hasOtherData) {\r\n              if(canSerialize) {\r\n                module.debug('Extending existing data with form data', data, formData);\r\n                data = $.extend(true, {}, data, formData);\r\n              }\r\n              else {\r\n                module.error(error.missingSerialize);\r\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\r\n                data = formData;\r\n              }\r\n            }\r\n            else {\r\n              module.debug('Adding form data', formData);\r\n              data = formData;\r\n            }\r\n            return data;\r\n          }\r\n        },\r\n\r\n        send: {\r\n          request: function() {\r\n            module.set.loading();\r\n            module.request = module.create.request();\r\n            if( module.is.mocked() ) {\r\n              module.mockedXHR = module.create.mockedXHR();\r\n            }\r\n            else {\r\n              module.xhr = module.create.xhr();\r\n            }\r\n            settings.onRequest.call(context, module.request, module.xhr);\r\n          }\r\n        },\r\n\r\n        event: {\r\n          trigger: function(event) {\r\n            module.query();\r\n            if(event.type == 'submit' || event.type == 'click') {\r\n              event.preventDefault();\r\n            }\r\n          },\r\n          xhr: {\r\n            always: function() {\r\n              // nothing special\r\n            },\r\n            done: function(response, textStatus, xhr) {\r\n              var\r\n                context            = this,\r\n                elapsedTime        = (new Date().getTime() - requestStartTime),\r\n                timeLeft           = (settings.loadingDuration - elapsedTime),\r\n                translatedResponse = ( $.isFunction(settings.onResponse) )\r\n                  ? module.is.expectingJSON() && !settings.rawResponse\r\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\r\n                    : settings.onResponse.call(context, response)\r\n                  : false\r\n              ;\r\n              timeLeft = (timeLeft > 0)\r\n                ? timeLeft\r\n                : 0\r\n              ;\r\n              if(translatedResponse) {\r\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\r\n                response = translatedResponse;\r\n              }\r\n              if(timeLeft > 0) {\r\n                module.debug('Response completed early delaying state change by', timeLeft);\r\n              }\r\n              setTimeout(function() {\r\n                if( module.is.validResponse(response) ) {\r\n                  module.request.resolveWith(context, [response, xhr]);\r\n                }\r\n                else {\r\n                  module.request.rejectWith(context, [xhr, 'invalid']);\r\n                }\r\n              }, timeLeft);\r\n            },\r\n            fail: function(xhr, status, httpMessage) {\r\n              var\r\n                context     = this,\r\n                elapsedTime = (new Date().getTime() - requestStartTime),\r\n                timeLeft    = (settings.loadingDuration - elapsedTime)\r\n              ;\r\n              timeLeft = (timeLeft > 0)\r\n                ? timeLeft\r\n                : 0\r\n              ;\r\n              if(timeLeft > 0) {\r\n                module.debug('Response completed early delaying state change by', timeLeft);\r\n              }\r\n              setTimeout(function() {\r\n                if( module.is.abortedRequest(xhr) ) {\r\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\r\n                }\r\n                else {\r\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\r\n                }\r\n              }, timeLeft);\r\n            }\r\n          },\r\n          request: {\r\n            done: function(response, xhr) {\r\n              module.debug('Successful API Response', response);\r\n              if(settings.cache === 'local' && url) {\r\n                module.write.cachedResponse(url, response);\r\n                module.debug('Saving server response locally', module.cache);\r\n              }\r\n              settings.onSuccess.call(context, response, $module, xhr);\r\n            },\r\n            complete: function(firstParameter, secondParameter) {\r\n              var\r\n                xhr,\r\n                response\r\n              ;\r\n              // have to guess callback parameters based on request success\r\n              if( module.was.successful() ) {\r\n                response = firstParameter;\r\n                xhr      = secondParameter;\r\n              }\r\n              else {\r\n                xhr      = firstParameter;\r\n                response = module.get.responseFromXHR(xhr);\r\n              }\r\n              module.remove.loading();\r\n              settings.onComplete.call(context, response, $module, xhr);\r\n            },\r\n            fail: function(xhr, status, httpMessage) {\r\n              var\r\n                // pull response from xhr if available\r\n                response     = module.get.responseFromXHR(xhr),\r\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\r\n              ;\r\n              if(status == 'aborted') {\r\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\r\n                settings.onAbort.call(context, status, $module, xhr);\r\n                return true;\r\n              }\r\n              else if(status == 'invalid') {\r\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\r\n              }\r\n              else if(status == 'error') {\r\n                if(xhr !== undefined) {\r\n                  module.debug('XHR produced a server error', status, httpMessage);\r\n                  // make sure we have an error to display to console\r\n                  if( (xhr.status < 200 || xhr.status >= 300) && httpMessage !== undefined && httpMessage !== '') {\r\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\r\n                  }\r\n                  settings.onError.call(context, errorMessage, $module, xhr);\r\n                }\r\n              }\r\n\r\n              if(settings.errorDuration && status !== 'aborted') {\r\n                module.debug('Adding error state');\r\n                module.set.error();\r\n                if( module.should.removeError() ) {\r\n                  setTimeout(module.remove.error, settings.errorDuration);\r\n                }\r\n              }\r\n              module.debug('API Request failed', errorMessage, xhr);\r\n              settings.onFailure.call(context, response, $module, xhr);\r\n            }\r\n          }\r\n        },\r\n\r\n        create: {\r\n\r\n          request: function() {\r\n            // api request promise\r\n            return $.Deferred()\r\n              .always(module.event.request.complete)\r\n              .done(module.event.request.done)\r\n              .fail(module.event.request.fail)\r\n            ;\r\n          },\r\n\r\n          mockedXHR: function () {\r\n            var\r\n              // xhr does not simulate these properties of xhr but must return them\r\n              textStatus     = false,\r\n              status         = false,\r\n              httpMessage    = false,\r\n              responder      = settings.mockResponse      || settings.response,\r\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\r\n              asyncCallback,\r\n              response,\r\n              mockedXHR\r\n            ;\r\n\r\n            mockedXHR = $.Deferred()\r\n              .always(module.event.xhr.complete)\r\n              .done(module.event.xhr.done)\r\n              .fail(module.event.xhr.fail)\r\n            ;\r\n\r\n            if(responder) {\r\n              if( $.isFunction(responder) ) {\r\n                module.debug('Using specified synchronous callback', responder);\r\n                response = responder.call(context, requestSettings);\r\n              }\r\n              else {\r\n                module.debug('Using settings specified response', responder);\r\n                response = responder;\r\n              }\r\n              // simulating response\r\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\r\n            }\r\n            else if( $.isFunction(asyncResponder) ) {\r\n              asyncCallback = function(response) {\r\n                module.debug('Async callback returned response', response);\r\n\r\n                if(response) {\r\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\r\n                }\r\n                else {\r\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\r\n                }\r\n              };\r\n              module.debug('Using specified async response callback', asyncResponder);\r\n              asyncResponder.call(context, requestSettings, asyncCallback);\r\n            }\r\n            return mockedXHR;\r\n          },\r\n\r\n          xhr: function() {\r\n            var\r\n              xhr\r\n            ;\r\n            // ajax request promise\r\n            xhr = $.ajax(ajaxSettings)\r\n              .always(module.event.xhr.always)\r\n              .done(module.event.xhr.done)\r\n              .fail(module.event.xhr.fail)\r\n            ;\r\n            module.verbose('Created server request', xhr, ajaxSettings);\r\n            return xhr;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          error: function() {\r\n            module.verbose('Adding error state to element', $context);\r\n            $context.addClass(className.error);\r\n          },\r\n          loading: function() {\r\n            module.verbose('Adding loading state to element', $context);\r\n            $context.addClass(className.loading);\r\n            requestStartTime = new Date().getTime();\r\n          }\r\n        },\r\n\r\n        remove: {\r\n          error: function() {\r\n            module.verbose('Removing error state from element', $context);\r\n            $context.removeClass(className.error);\r\n          },\r\n          loading: function() {\r\n            module.verbose('Removing loading state from element', $context);\r\n            $context.removeClass(className.loading);\r\n          }\r\n        },\r\n\r\n        get: {\r\n          responseFromXHR: function(xhr) {\r\n            return $.isPlainObject(xhr)\r\n              ? (module.is.expectingJSON())\r\n                ? module.decode.json(xhr.responseText)\r\n                : xhr.responseText\r\n              : false\r\n            ;\r\n          },\r\n          errorFromRequest: function(response, status, httpMessage) {\r\n            return ($.isPlainObject(response) && response.error !== undefined)\r\n              ? response.error // use json error message\r\n              : (settings.error[status] !== undefined) // use server error message\r\n                ? settings.error[status]\r\n                : httpMessage\r\n            ;\r\n          },\r\n          request: function() {\r\n            return module.request || false;\r\n          },\r\n          xhr: function() {\r\n            return module.xhr || false;\r\n          },\r\n          settings: function() {\r\n            var\r\n              runSettings\r\n            ;\r\n            runSettings = settings.beforeSend.call($module, settings);\r\n            if(runSettings) {\r\n              if(runSettings.success !== undefined) {\r\n                module.debug('Legacy success callback detected', runSettings);\r\n                module.error(error.legacyParameters, runSettings.success);\r\n                runSettings.onSuccess = runSettings.success;\r\n              }\r\n              if(runSettings.failure !== undefined) {\r\n                module.debug('Legacy failure callback detected', runSettings);\r\n                module.error(error.legacyParameters, runSettings.failure);\r\n                runSettings.onFailure = runSettings.failure;\r\n              }\r\n              if(runSettings.complete !== undefined) {\r\n                module.debug('Legacy complete callback detected', runSettings);\r\n                module.error(error.legacyParameters, runSettings.complete);\r\n                runSettings.onComplete = runSettings.complete;\r\n              }\r\n            }\r\n            if(runSettings === undefined) {\r\n              module.error(error.noReturnedValue);\r\n            }\r\n            if(runSettings === false) {\r\n              return runSettings;\r\n            }\r\n            return (runSettings !== undefined)\r\n              ? $.extend(true, {}, runSettings)\r\n              : $.extend(true, {}, settings)\r\n            ;\r\n          },\r\n          urlEncodedValue: function(value) {\r\n            var\r\n              decodedValue   = window.decodeURIComponent(value),\r\n              encodedValue   = window.encodeURIComponent(value),\r\n              alreadyEncoded = (decodedValue !== value)\r\n            ;\r\n            if(alreadyEncoded) {\r\n              module.debug('URL value is already encoded, avoiding double encoding', value);\r\n              return value;\r\n            }\r\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\r\n            return encodedValue;\r\n          },\r\n          defaultData: function() {\r\n            var\r\n              data = {}\r\n            ;\r\n            if( !$.isWindow(element) ) {\r\n              if( module.is.input() ) {\r\n                data.value = $module.val();\r\n              }\r\n              else if( module.is.form() ) {\r\n\r\n              }\r\n              else {\r\n                data.text = $module.text();\r\n              }\r\n            }\r\n            return data;\r\n          },\r\n          event: function() {\r\n            if( $.isWindow(element) || settings.on == 'now' ) {\r\n              module.debug('API called without element, no events attached');\r\n              return false;\r\n            }\r\n            else if(settings.on == 'auto') {\r\n              if( $module.is('input') ) {\r\n                return (element.oninput !== undefined)\r\n                  ? 'input'\r\n                  : (element.onpropertychange !== undefined)\r\n                    ? 'propertychange'\r\n                    : 'keyup'\r\n                ;\r\n              }\r\n              else if( $module.is('form') ) {\r\n                return 'submit';\r\n              }\r\n              else {\r\n                return 'click';\r\n              }\r\n            }\r\n            else {\r\n              return settings.on;\r\n            }\r\n          },\r\n          templatedURL: function(action) {\r\n            action = action || $module.data(metadata.action) || settings.action || false;\r\n            url    = $module.data(metadata.url) || settings.url || false;\r\n            if(url) {\r\n              module.debug('Using specified url', url);\r\n              return url;\r\n            }\r\n            if(action) {\r\n              module.debug('Looking up url for action', action, settings.api);\r\n              if(settings.api[action] === undefined && !module.is.mocked()) {\r\n                module.error(error.missingAction, settings.action, settings.api);\r\n                return;\r\n              }\r\n              url = settings.api[action];\r\n            }\r\n            else if( module.is.form() ) {\r\n              url = $module.attr('action') || $context.attr('action') || false;\r\n              module.debug('No url or action specified, defaulting to form action', url);\r\n            }\r\n            return url;\r\n          }\r\n        },\r\n\r\n        abort: function() {\r\n          var\r\n            xhr = module.get.xhr()\r\n          ;\r\n          if( xhr && xhr.state() !== 'resolved') {\r\n            module.debug('Cancelling API request');\r\n            xhr.abort();\r\n          }\r\n        },\r\n\r\n        // reset state\r\n        reset: function() {\r\n          module.remove.error();\r\n          module.remove.loading();\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                //'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.api.settings = {\r\n\r\n  name              : 'API',\r\n  namespace         : 'api',\r\n\r\n  debug             : false,\r\n  verbose           : false,\r\n  performance       : true,\r\n\r\n  // object containing all templates endpoints\r\n  api               : {},\r\n\r\n  // whether to cache responses\r\n  cache             : true,\r\n\r\n  // whether new requests should abort previous requests\r\n  interruptRequests : true,\r\n\r\n  // event binding\r\n  on                : 'auto',\r\n\r\n  // context for applying state classes\r\n  stateContext      : false,\r\n\r\n  // duration for loading state\r\n  loadingDuration   : 0,\r\n\r\n  // whether to hide errors after a period of time\r\n  hideError         : 'auto',\r\n\r\n  // duration for error state\r\n  errorDuration     : 2000,\r\n\r\n  // whether parameters should be encoded with encodeURIComponent\r\n  encodeParameters  : true,\r\n\r\n  // API action to use\r\n  action            : false,\r\n\r\n  // templated URL to use\r\n  url               : false,\r\n\r\n  // base URL to apply to all endpoints\r\n  base              : '',\r\n\r\n  // data that will\r\n  urlData           : {},\r\n\r\n  // whether to add default data to url data\r\n  defaultData          : true,\r\n\r\n  // whether to serialize closest form\r\n  serializeForm        : false,\r\n\r\n  // how long to wait before request should occur\r\n  throttle             : 0,\r\n\r\n  // whether to throttle first request or only repeated\r\n  throttleFirstRequest : true,\r\n\r\n  // standard ajax settings\r\n  method            : 'get',\r\n  data              : {},\r\n  dataType          : 'json',\r\n\r\n  // mock response\r\n  mockResponse      : false,\r\n  mockResponseAsync : false,\r\n\r\n  // aliases for mock\r\n  response          : false,\r\n  responseAsync     : false,\r\n\r\n// whether onResponse should work with response value without force converting into an object\r\n  rawResponse       : false,\r\n\r\n  // callbacks before request\r\n  beforeSend  : function(settings) { return settings; },\r\n  beforeXHR   : function(xhr) {},\r\n  onRequest   : function(promise, xhr) {},\r\n\r\n  // after request\r\n  onResponse  : false, // function(response) { },\r\n\r\n  // response was successful, if JSON passed validation\r\n  onSuccess   : function(response, $module) {},\r\n\r\n  // request finished without aborting\r\n  onComplete  : function(response, $module) {},\r\n\r\n  // failed JSON success test\r\n  onFailure   : function(response, $module) {},\r\n\r\n  // server error\r\n  onError     : function(errorMessage, $module) {},\r\n\r\n  // request aborted\r\n  onAbort     : function(errorMessage, $module) {},\r\n\r\n  successTest : false,\r\n\r\n  // errors\r\n  error : {\r\n    beforeSend        : 'The before send function has aborted the request',\r\n    error             : 'There was an error with your request',\r\n    exitConditions    : 'API Request Aborted. Exit conditions met',\r\n    JSONParse         : 'JSON could not be parsed during error handling',\r\n    legacyParameters  : 'You are using legacy API success callback names',\r\n    method            : 'The method you called is not defined',\r\n    missingAction     : 'API action used but no url was defined',\r\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\r\n    missingURL        : 'No URL specified for api event',\r\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\r\n    noStorage         : 'Caching responses locally requires session storage',\r\n    parseError        : 'There was an error parsing your request',\r\n    requiredParameter : 'Missing a required URL parameter: ',\r\n    statusMessage     : 'Server gave an error: ',\r\n    timeout           : 'Your request timed out'\r\n  },\r\n\r\n  regExp  : {\r\n    required : /\\{\\$*[A-z0-9]+\\}/g,\r\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\r\n  },\r\n\r\n  className: {\r\n    loading : 'loading',\r\n    error   : 'error'\r\n  },\r\n\r\n  selector: {\r\n    disabled : '.disabled',\r\n    form      : 'form'\r\n  },\r\n\r\n  metadata: {\r\n    action  : 'action',\r\n    url     : 'url'\r\n  }\r\n};\r\n\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - State\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n\"use strict\";\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.state = function(parameters) {\r\n  var\r\n    $allModules     = $(this),\r\n\r\n    moduleSelector  = $allModules.selector || '',\r\n\r\n    time            = new Date().getTime(),\r\n    performance     = [],\r\n\r\n    query           = arguments[0],\r\n    methodInvoked   = (typeof query == 'string'),\r\n    queryArguments  = [].slice.call(arguments, 1),\r\n\r\n    returnedValue\r\n  ;\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings          = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.state.settings, parameters)\r\n          : $.extend({}, $.fn.state.settings),\r\n\r\n        error           = settings.error,\r\n        metadata        = settings.metadata,\r\n        className       = settings.className,\r\n        namespace       = settings.namespace,\r\n        states          = settings.states,\r\n        text            = settings.text,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = namespace + '-module',\r\n\r\n        $module         = $(this),\r\n\r\n        element         = this,\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        module\r\n      ;\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.verbose('Initializing module');\r\n\r\n          // allow module to guess desired state based on element\r\n          if(settings.automatic) {\r\n            module.add.defaults();\r\n          }\r\n\r\n          // bind events with delegated events\r\n          if(settings.context && moduleSelector !== '') {\r\n            $(settings.context)\r\n              .on(moduleSelector, 'mouseenter' + eventNamespace, module.change.text)\r\n              .on(moduleSelector, 'mouseleave' + eventNamespace, module.reset.text)\r\n              .on(moduleSelector, 'click'      + eventNamespace, module.toggle.state)\r\n            ;\r\n          }\r\n          else {\r\n            $module\r\n              .on('mouseenter' + eventNamespace, module.change.text)\r\n              .on('mouseleave' + eventNamespace, module.reset.text)\r\n              .on('click'      + eventNamespace, module.toggle.state)\r\n            ;\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.verbose('Storing instance of module', module);\r\n          instance = module;\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module', instance);\r\n          $module\r\n            .off(eventNamespace)\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        refresh: function() {\r\n          module.verbose('Refreshing selector cache');\r\n          $module = $(element);\r\n        },\r\n\r\n        add: {\r\n          defaults: function() {\r\n            var\r\n              userStates = parameters && $.isPlainObject(parameters.states)\r\n                ? parameters.states\r\n                : {}\r\n            ;\r\n            $.each(settings.defaults, function(type, typeStates) {\r\n              if( module.is[type] !== undefined && module.is[type]() ) {\r\n                module.verbose('Adding default states', type, element);\r\n                $.extend(settings.states, typeStates, userStates);\r\n              }\r\n            });\r\n          }\r\n        },\r\n\r\n        is: {\r\n\r\n          active: function() {\r\n            return $module.hasClass(className.active);\r\n          },\r\n          loading: function() {\r\n            return $module.hasClass(className.loading);\r\n          },\r\n          inactive: function() {\r\n            return !( $module.hasClass(className.active) );\r\n          },\r\n          state: function(state) {\r\n            if(className[state] === undefined) {\r\n              return false;\r\n            }\r\n            return $module.hasClass( className[state] );\r\n          },\r\n\r\n          enabled: function() {\r\n            return !( $module.is(settings.filter.active) );\r\n          },\r\n          disabled: function() {\r\n            return ( $module.is(settings.filter.active) );\r\n          },\r\n          textEnabled: function() {\r\n            return !( $module.is(settings.filter.text) );\r\n          },\r\n\r\n          // definitions for automatic type detection\r\n          button: function() {\r\n            return $module.is('.button:not(a, .submit)');\r\n          },\r\n          input: function() {\r\n            return $module.is('input');\r\n          },\r\n          progress: function() {\r\n            return $module.is('.ui.progress');\r\n          }\r\n        },\r\n\r\n        allow: function(state) {\r\n          module.debug('Now allowing state', state);\r\n          states[state] = true;\r\n        },\r\n        disallow: function(state) {\r\n          module.debug('No longer allowing', state);\r\n          states[state] = false;\r\n        },\r\n\r\n        allows: function(state) {\r\n          return states[state] || false;\r\n        },\r\n\r\n        enable: function() {\r\n          $module.removeClass(className.disabled);\r\n        },\r\n\r\n        disable: function() {\r\n          $module.addClass(className.disabled);\r\n        },\r\n\r\n        setState: function(state) {\r\n          if(module.allows(state)) {\r\n            $module.addClass( className[state] );\r\n          }\r\n        },\r\n\r\n        removeState: function(state) {\r\n          if(module.allows(state)) {\r\n            $module.removeClass( className[state] );\r\n          }\r\n        },\r\n\r\n        toggle: {\r\n          state: function() {\r\n            var\r\n              apiRequest,\r\n              requestCancelled\r\n            ;\r\n            if( module.allows('active') && module.is.enabled() ) {\r\n              module.refresh();\r\n              if($.fn.api !== undefined) {\r\n                apiRequest       = $module.api('get request');\r\n                requestCancelled = $module.api('was cancelled');\r\n                if( requestCancelled ) {\r\n                  module.debug('API Request cancelled by beforesend');\r\n                  settings.activateTest   = function(){ return false; };\r\n                  settings.deactivateTest = function(){ return false; };\r\n                }\r\n                else if(apiRequest) {\r\n                  module.listenTo(apiRequest);\r\n                  return;\r\n                }\r\n              }\r\n              module.change.state();\r\n            }\r\n          }\r\n        },\r\n\r\n        listenTo: function(apiRequest) {\r\n          module.debug('API request detected, waiting for state signal', apiRequest);\r\n          if(apiRequest) {\r\n            if(text.loading) {\r\n              module.update.text(text.loading);\r\n            }\r\n            $.when(apiRequest)\r\n              .then(function() {\r\n                if(apiRequest.state() == 'resolved') {\r\n                  module.debug('API request succeeded');\r\n                  settings.activateTest   = function(){ return true; };\r\n                  settings.deactivateTest = function(){ return true; };\r\n                }\r\n                else {\r\n                  module.debug('API request failed');\r\n                  settings.activateTest   = function(){ return false; };\r\n                  settings.deactivateTest = function(){ return false; };\r\n                }\r\n                module.change.state();\r\n              })\r\n            ;\r\n          }\r\n        },\r\n\r\n        // checks whether active/inactive state can be given\r\n        change: {\r\n\r\n          state: function() {\r\n            module.debug('Determining state change direction');\r\n            // inactive to active change\r\n            if( module.is.inactive() ) {\r\n              module.activate();\r\n            }\r\n            else {\r\n              module.deactivate();\r\n            }\r\n            if(settings.sync) {\r\n              module.sync();\r\n            }\r\n            settings.onChange.call(element);\r\n          },\r\n\r\n          text: function() {\r\n            if( module.is.textEnabled() ) {\r\n              if(module.is.disabled() ) {\r\n                module.verbose('Changing text to disabled text', text.hover);\r\n                module.update.text(text.disabled);\r\n              }\r\n              else if( module.is.active() ) {\r\n                if(text.hover) {\r\n                  module.verbose('Changing text to hover text', text.hover);\r\n                  module.update.text(text.hover);\r\n                }\r\n                else if(text.deactivate) {\r\n                  module.verbose('Changing text to deactivating text', text.deactivate);\r\n                  module.update.text(text.deactivate);\r\n                }\r\n              }\r\n              else {\r\n                if(text.hover) {\r\n                  module.verbose('Changing text to hover text', text.hover);\r\n                  module.update.text(text.hover);\r\n                }\r\n                else if(text.activate){\r\n                  module.verbose('Changing text to activating text', text.activate);\r\n                  module.update.text(text.activate);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n        },\r\n\r\n        activate: function() {\r\n          if( settings.activateTest.call(element) ) {\r\n            module.debug('Setting state to active');\r\n            $module\r\n              .addClass(className.active)\r\n            ;\r\n            module.update.text(text.active);\r\n            settings.onActivate.call(element);\r\n          }\r\n        },\r\n\r\n        deactivate: function() {\r\n          if( settings.deactivateTest.call(element) ) {\r\n            module.debug('Setting state to inactive');\r\n            $module\r\n              .removeClass(className.active)\r\n            ;\r\n            module.update.text(text.inactive);\r\n            settings.onDeactivate.call(element);\r\n          }\r\n        },\r\n\r\n        sync: function() {\r\n          module.verbose('Syncing other buttons to current state');\r\n          if( module.is.active() ) {\r\n            $allModules\r\n              .not($module)\r\n                .state('activate');\r\n          }\r\n          else {\r\n            $allModules\r\n              .not($module)\r\n                .state('deactivate')\r\n            ;\r\n          }\r\n        },\r\n\r\n        get: {\r\n          text: function() {\r\n            return (settings.selector.text)\r\n              ? $module.find(settings.selector.text).text()\r\n              : $module.html()\r\n            ;\r\n          },\r\n          textFor: function(state) {\r\n            return text[state] || false;\r\n          }\r\n        },\r\n\r\n        flash: {\r\n          text: function(text, duration, callback) {\r\n            var\r\n              previousText = module.get.text()\r\n            ;\r\n            module.debug('Flashing text message', text, duration);\r\n            text     = text     || settings.text.flash;\r\n            duration = duration || settings.flashDuration;\r\n            callback = callback || function() {};\r\n            module.update.text(text);\r\n            setTimeout(function(){\r\n              module.update.text(previousText);\r\n              callback.call(element);\r\n            }, duration);\r\n          }\r\n        },\r\n\r\n        reset: {\r\n          // on mouseout sets text to previous value\r\n          text: function() {\r\n            var\r\n              activeText   = text.active   || $module.data(metadata.storedText),\r\n              inactiveText = text.inactive || $module.data(metadata.storedText)\r\n            ;\r\n            if( module.is.textEnabled() ) {\r\n              if( module.is.active() && activeText) {\r\n                module.verbose('Resetting active text', activeText);\r\n                module.update.text(activeText);\r\n              }\r\n              else if(inactiveText) {\r\n                module.verbose('Resetting inactive text', activeText);\r\n                module.update.text(inactiveText);\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        update: {\r\n          text: function(text) {\r\n            var\r\n              currentText = module.get.text()\r\n            ;\r\n            if(text && text !== currentText) {\r\n              module.debug('Updating text', text);\r\n              if(settings.selector.text) {\r\n                $module\r\n                  .data(metadata.storedText, text)\r\n                  .find(settings.selector.text)\r\n                    .text(text)\r\n                ;\r\n              }\r\n              else {\r\n                $module\r\n                  .data(metadata.storedText, text)\r\n                  .html(text)\r\n                ;\r\n              }\r\n            }\r\n            else {\r\n              module.debug('Text is already set, ignoring update', text);\r\n            }\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          module.debug('Changing setting', name, value);\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            if($.isPlainObject(settings[name])) {\r\n              $.extend(true, settings[name], value);\r\n            }\r\n            else {\r\n              settings[name] = value;\r\n            }\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.state.settings = {\r\n\r\n  // module info\r\n  name           : 'State',\r\n\r\n  // debug output\r\n  debug          : false,\r\n\r\n  // verbose debug output\r\n  verbose        : false,\r\n\r\n  // namespace for events\r\n  namespace      : 'state',\r\n\r\n  // debug data includes performance\r\n  performance    : true,\r\n\r\n  // callback occurs on state change\r\n  onActivate     : function() {},\r\n  onDeactivate   : function() {},\r\n  onChange       : function() {},\r\n\r\n  // state test functions\r\n  activateTest   : function() { return true; },\r\n  deactivateTest : function() { return true; },\r\n\r\n  // whether to automatically map default states\r\n  automatic      : true,\r\n\r\n  // activate / deactivate changes all elements instantiated at same time\r\n  sync           : false,\r\n\r\n  // default flash text duration, used for temporarily changing text of an element\r\n  flashDuration  : 1000,\r\n\r\n  // selector filter\r\n  filter     : {\r\n    text   : '.loading, .disabled',\r\n    active : '.disabled'\r\n  },\r\n\r\n  context    : false,\r\n\r\n  // error\r\n  error: {\r\n    beforeSend : 'The before send function has cancelled state change',\r\n    method     : 'The method you called is not defined.'\r\n  },\r\n\r\n  // metadata\r\n  metadata: {\r\n    promise    : 'promise',\r\n    storedText : 'stored-text'\r\n  },\r\n\r\n  // change class on state\r\n  className: {\r\n    active   : 'active',\r\n    disabled : 'disabled',\r\n    error    : 'error',\r\n    loading  : 'loading',\r\n    success  : 'success',\r\n    warning  : 'warning'\r\n  },\r\n\r\n  selector: {\r\n    // selector for text node\r\n    text: false\r\n  },\r\n\r\n  defaults : {\r\n    input: {\r\n      disabled : true,\r\n      loading  : true,\r\n      active   : true\r\n    },\r\n    button: {\r\n      disabled : true,\r\n      loading  : true,\r\n      active   : true,\r\n    },\r\n    progress: {\r\n      active   : true,\r\n      success  : true,\r\n      warning  : true,\r\n      error    : true\r\n    }\r\n  },\r\n\r\n  states     : {\r\n    active   : true,\r\n    disabled : true,\r\n    error    : true,\r\n    loading  : true,\r\n    success  : true,\r\n    warning  : true\r\n  },\r\n\r\n  text     : {\r\n    disabled   : false,\r\n    flash      : false,\r\n    hover      : false,\r\n    active     : false,\r\n    inactive   : false,\r\n    activate   : false,\r\n    deactivate : false\r\n  }\r\n\r\n};\r\n\r\n\r\n\r\n})( jQuery, window, document );\r\n\n/*!\r\n * # Fomantic-UI - Visibility\r\n * http://github.com/fomantic/Fomantic-UI/\r\n *\r\n *\r\n * Released under the MIT license\r\n * http://opensource.org/licenses/MIT\r\n *\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n'use strict';\r\n\r\n$.isFunction = $.isFunction || function(obj) {\r\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nwindow = (typeof window != 'undefined' && window.Math == Math)\r\n  ? window\r\n  : (typeof self != 'undefined' && self.Math == Math)\r\n    ? self\r\n    : Function('return this')()\r\n;\r\n\r\n$.fn.visibility = function(parameters) {\r\n  var\r\n    $allModules    = $(this),\r\n    moduleSelector = $allModules.selector || '',\r\n\r\n    time           = new Date().getTime(),\r\n    performance    = [],\r\n\r\n    query          = arguments[0],\r\n    methodInvoked  = (typeof query == 'string'),\r\n    queryArguments = [].slice.call(arguments, 1),\r\n    returnedValue,\r\n\r\n    moduleCount    = $allModules.length,\r\n    loadedCount    = 0\r\n  ;\r\n\r\n  $allModules\r\n    .each(function() {\r\n      var\r\n        settings        = ( $.isPlainObject(parameters) )\r\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\r\n          : $.extend({}, $.fn.visibility.settings),\r\n\r\n        className       = settings.className,\r\n        namespace       = settings.namespace,\r\n        error           = settings.error,\r\n        metadata        = settings.metadata,\r\n\r\n        eventNamespace  = '.' + namespace,\r\n        moduleNamespace = 'module-' + namespace,\r\n\r\n        $window         = $(window),\r\n\r\n        $module         = $(this),\r\n        $context        = $(settings.context),\r\n\r\n        $placeholder,\r\n\r\n        instance        = $module.data(moduleNamespace),\r\n\r\n        requestAnimationFrame = window.requestAnimationFrame\r\n          || window.mozRequestAnimationFrame\r\n          || window.webkitRequestAnimationFrame\r\n          || window.msRequestAnimationFrame\r\n          || function(callback) { setTimeout(callback, 0); },\r\n\r\n        element         = this,\r\n        disabled        = false,\r\n\r\n        contextObserver,\r\n        observer,\r\n        module\r\n      ;\r\n\r\n      module = {\r\n\r\n        initialize: function() {\r\n          module.debug('Initializing', settings);\r\n\r\n          module.setup.cache();\r\n\r\n          if( module.should.trackChanges() ) {\r\n\r\n            if(settings.type == 'image') {\r\n              module.setup.image();\r\n            }\r\n            if(settings.type == 'fixed') {\r\n              module.setup.fixed();\r\n            }\r\n\r\n            if(settings.observeChanges) {\r\n              module.observeChanges();\r\n            }\r\n            module.bind.events();\r\n          }\r\n\r\n          module.save.position();\r\n          if( !module.is.visible() ) {\r\n            module.error(error.visible, $module);\r\n          }\r\n\r\n          if(settings.initialCheck) {\r\n            module.checkVisibility();\r\n          }\r\n          module.instantiate();\r\n        },\r\n\r\n        instantiate: function() {\r\n          module.debug('Storing instance', module);\r\n          $module\r\n            .data(moduleNamespace, module)\r\n          ;\r\n          instance = module;\r\n        },\r\n\r\n        destroy: function() {\r\n          module.verbose('Destroying previous module');\r\n          if(observer) {\r\n            observer.disconnect();\r\n          }\r\n          if(contextObserver) {\r\n            contextObserver.disconnect();\r\n          }\r\n          $window\r\n            .off('load'   + eventNamespace, module.event.load)\r\n            .off('resize' + eventNamespace, module.event.resize)\r\n          ;\r\n          $context\r\n            .off('scroll'       + eventNamespace, module.event.scroll)\r\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\r\n          ;\r\n          if(settings.type == 'fixed') {\r\n            module.resetFixed();\r\n            module.remove.placeholder();\r\n          }\r\n          $module\r\n            .off(eventNamespace)\r\n            .removeData(moduleNamespace)\r\n          ;\r\n        },\r\n\r\n        observeChanges: function() {\r\n          if('MutationObserver' in window) {\r\n            contextObserver = new MutationObserver(module.event.contextChanged);\r\n            observer        = new MutationObserver(module.event.changed);\r\n            contextObserver.observe(document, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            observer.observe(element, {\r\n              childList : true,\r\n              subtree   : true\r\n            });\r\n            module.debug('Setting up mutation observer', observer);\r\n          }\r\n        },\r\n\r\n        bind: {\r\n          events: function() {\r\n            module.verbose('Binding visibility events to scroll and resize');\r\n            if(settings.refreshOnLoad) {\r\n              $window\r\n                .on('load'   + eventNamespace, module.event.load)\r\n              ;\r\n            }\r\n            $window\r\n              .on('resize' + eventNamespace, module.event.resize)\r\n            ;\r\n            // pub/sub pattern\r\n            $context\r\n              .off('scroll'      + eventNamespace)\r\n              .on('scroll'       + eventNamespace, module.event.scroll)\r\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\r\n            ;\r\n          }\r\n        },\r\n\r\n        event: {\r\n          changed: function(mutations) {\r\n            module.verbose('DOM tree modified, updating visibility calculations');\r\n            module.timer = setTimeout(function() {\r\n              module.verbose('DOM tree modified, updating sticky menu');\r\n              module.refresh();\r\n            }, 100);\r\n          },\r\n          contextChanged: function(mutations) {\r\n            [].forEach.call(mutations, function(mutation) {\r\n              if(mutation.removedNodes) {\r\n                [].forEach.call(mutation.removedNodes, function(node) {\r\n                  if(node == element || $(node).find(element).length > 0) {\r\n                    module.debug('Element removed from DOM, tearing down events');\r\n                    module.destroy();\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          },\r\n          resize: function() {\r\n            module.debug('Window resized');\r\n            if(settings.refreshOnResize) {\r\n              requestAnimationFrame(module.refresh);\r\n            }\r\n          },\r\n          load: function() {\r\n            module.debug('Page finished loading');\r\n            requestAnimationFrame(module.refresh);\r\n          },\r\n          // publishes scrollchange event on one scroll\r\n          scroll: function() {\r\n            if(settings.throttle) {\r\n              clearTimeout(module.timer);\r\n              module.timer = setTimeout(function() {\r\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\r\n              }, settings.throttle);\r\n            }\r\n            else {\r\n              requestAnimationFrame(function() {\r\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\r\n              });\r\n            }\r\n          },\r\n          // subscribes to scrollchange\r\n          scrollchange: function(event, scrollPosition) {\r\n            module.checkVisibility(scrollPosition);\r\n          },\r\n        },\r\n\r\n        precache: function(images, callback) {\r\n          if (!(images instanceof Array)) {\r\n            images = [images];\r\n          }\r\n          var\r\n            imagesLength  = images.length,\r\n            loadedCounter = 0,\r\n            cache         = [],\r\n            cacheImage    = document.createElement('img'),\r\n            handleLoad    = function() {\r\n              loadedCounter++;\r\n              if (loadedCounter >= images.length) {\r\n                if ($.isFunction(callback)) {\r\n                  callback();\r\n                }\r\n              }\r\n            }\r\n          ;\r\n          while (imagesLength--) {\r\n            cacheImage         = document.createElement('img');\r\n            cacheImage.onload  = handleLoad;\r\n            cacheImage.onerror = handleLoad;\r\n            cacheImage.src     = images[imagesLength];\r\n            cache.push(cacheImage);\r\n          }\r\n        },\r\n\r\n        enableCallbacks: function() {\r\n          module.debug('Allowing callbacks to occur');\r\n          disabled = false;\r\n        },\r\n\r\n        disableCallbacks: function() {\r\n          module.debug('Disabling all callbacks temporarily');\r\n          disabled = true;\r\n        },\r\n\r\n        should: {\r\n          trackChanges: function() {\r\n            if(methodInvoked) {\r\n              module.debug('One time query, no need to bind events');\r\n              return false;\r\n            }\r\n            module.debug('Callbacks being attached');\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setup: {\r\n          cache: function() {\r\n            module.cache = {\r\n              occurred : {},\r\n              screen   : {},\r\n              element  : {},\r\n            };\r\n          },\r\n          image: function() {\r\n            var\r\n              src = $module.data(metadata.src)\r\n            ;\r\n            if(src) {\r\n              module.verbose('Lazy loading image', src);\r\n              settings.once           = true;\r\n              settings.observeChanges = false;\r\n\r\n              // show when top visible\r\n              settings.onOnScreen = function() {\r\n                module.debug('Image on screen', element);\r\n                module.precache(src, function() {\r\n                  module.set.image(src, function() {\r\n                    loadedCount++;\r\n                    if(loadedCount == moduleCount) {\r\n                      settings.onAllLoaded.call(this);\r\n                    }\r\n                    settings.onLoad.call(this);\r\n                  });\r\n                });\r\n              };\r\n            }\r\n          },\r\n          fixed: function() {\r\n            module.debug('Setting up fixed');\r\n            settings.once           = false;\r\n            settings.observeChanges = false;\r\n            settings.initialCheck   = true;\r\n            settings.refreshOnLoad  = true;\r\n            if(!parameters.transition) {\r\n              settings.transition = false;\r\n            }\r\n            module.create.placeholder();\r\n            module.debug('Added placeholder', $placeholder);\r\n            settings.onTopPassed = function() {\r\n              module.debug('Element passed, adding fixed position', $module);\r\n              module.show.placeholder();\r\n              module.set.fixed();\r\n              if(settings.transition) {\r\n                if($.fn.transition !== undefined) {\r\n                  $module.transition(settings.transition, settings.duration);\r\n                }\r\n              }\r\n            };\r\n            settings.onTopPassedReverse = function() {\r\n              module.debug('Element returned to position, removing fixed', $module);\r\n              module.hide.placeholder();\r\n              module.remove.fixed();\r\n            };\r\n          }\r\n        },\r\n\r\n        create: {\r\n          placeholder: function() {\r\n            module.verbose('Creating fixed position placeholder');\r\n            $placeholder = $module\r\n              .clone(false)\r\n              .css('display', 'none')\r\n              .addClass(className.placeholder)\r\n              .insertAfter($module)\r\n            ;\r\n          }\r\n        },\r\n\r\n        show: {\r\n          placeholder: function() {\r\n            module.verbose('Showing placeholder');\r\n            $placeholder\r\n              .css('display', 'block')\r\n              .css('visibility', 'hidden')\r\n            ;\r\n          }\r\n        },\r\n        hide: {\r\n          placeholder: function() {\r\n            module.verbose('Hiding placeholder');\r\n            $placeholder\r\n              .css('display', 'none')\r\n              .css('visibility', '')\r\n            ;\r\n          }\r\n        },\r\n\r\n        set: {\r\n          fixed: function() {\r\n            module.verbose('Setting element to fixed position');\r\n            $module\r\n              .addClass(className.fixed)\r\n              .css({\r\n                position : 'fixed',\r\n                top      : settings.offset + 'px',\r\n                left     : 'auto',\r\n                zIndex   : settings.zIndex\r\n              })\r\n            ;\r\n            settings.onFixed.call(element);\r\n          },\r\n          image: function(src, callback) {\r\n            $module\r\n              .attr('src', src)\r\n            ;\r\n            if(settings.transition) {\r\n              if( $.fn.transition !== undefined) {\r\n                if($module.hasClass(className.visible)) {\r\n                  module.debug('Transition already occurred on this image, skipping animation');\r\n                  return;\r\n                }\r\n                $module.transition(settings.transition, settings.duration, callback);\r\n              }\r\n              else {\r\n                $module.fadeIn(settings.duration, callback);\r\n              }\r\n            }\r\n            else {\r\n              $module.show();\r\n            }\r\n          }\r\n        },\r\n\r\n        is: {\r\n          onScreen: function() {\r\n            var\r\n              calculations   = module.get.elementCalculations()\r\n            ;\r\n            return calculations.onScreen;\r\n          },\r\n          offScreen: function() {\r\n            var\r\n              calculations   = module.get.elementCalculations()\r\n            ;\r\n            return calculations.offScreen;\r\n          },\r\n          visible: function() {\r\n            if(module.cache && module.cache.element) {\r\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\r\n            }\r\n            return false;\r\n          },\r\n          verticallyScrollableContext: function() {\r\n            var\r\n              overflowY = ($context.get(0) !== window)\r\n                ? $context.css('overflow-y')\r\n                : false\r\n            ;\r\n            return (overflowY == 'auto' || overflowY == 'scroll');\r\n          },\r\n          horizontallyScrollableContext: function() {\r\n            var\r\n              overflowX = ($context.get(0) !== window)\r\n                ? $context.css('overflow-x')\r\n                : false\r\n            ;\r\n            return (overflowX == 'auto' || overflowX == 'scroll');\r\n          }\r\n        },\r\n\r\n        refresh: function() {\r\n          module.debug('Refreshing constants (width/height)');\r\n          if(settings.type == 'fixed') {\r\n            module.resetFixed();\r\n          }\r\n          module.reset();\r\n          module.save.position();\r\n          if(settings.checkOnRefresh) {\r\n            module.checkVisibility();\r\n          }\r\n          settings.onRefresh.call(element);\r\n        },\r\n\r\n        resetFixed: function () {\r\n          module.remove.fixed();\r\n          module.remove.occurred();\r\n        },\r\n\r\n        reset: function() {\r\n          module.verbose('Resetting all cached values');\r\n          if( $.isPlainObject(module.cache) ) {\r\n            module.cache.screen = {};\r\n            module.cache.element = {};\r\n          }\r\n        },\r\n\r\n        checkVisibility: function(scroll) {\r\n          module.verbose('Checking visibility of element', module.cache.element);\r\n\r\n          if( !disabled && module.is.visible() ) {\r\n\r\n            // save scroll position\r\n            module.save.scroll(scroll);\r\n\r\n            // update calculations derived from scroll\r\n            module.save.calculations();\r\n\r\n            // percentage\r\n            module.passed();\r\n\r\n            // reverse (must be first)\r\n            module.passingReverse();\r\n            module.topVisibleReverse();\r\n            module.bottomVisibleReverse();\r\n            module.topPassedReverse();\r\n            module.bottomPassedReverse();\r\n\r\n            // one time\r\n            module.onScreen();\r\n            module.offScreen();\r\n            module.passing();\r\n            module.topVisible();\r\n            module.bottomVisible();\r\n            module.topPassed();\r\n            module.bottomPassed();\r\n\r\n            // on update callback\r\n            if(settings.onUpdate) {\r\n              settings.onUpdate.call(element, module.get.elementCalculations());\r\n            }\r\n          }\r\n        },\r\n\r\n        passed: function(amount, newCallback) {\r\n          var\r\n            calculations   = module.get.elementCalculations()\r\n          ;\r\n          // assign callback\r\n          if(amount && newCallback) {\r\n            settings.onPassed[amount] = newCallback;\r\n          }\r\n          else if(amount !== undefined) {\r\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\r\n          }\r\n          else if(calculations.passing) {\r\n            $.each(settings.onPassed, function(amount, callback) {\r\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\r\n                module.execute(callback, amount);\r\n              }\r\n              else if(!settings.once) {\r\n                module.remove.occurred(callback);\r\n              }\r\n            });\r\n          }\r\n        },\r\n\r\n        onScreen: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onOnScreen,\r\n            callbackName = 'onScreen'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for onScreen', newCallback);\r\n            settings.onOnScreen = newCallback;\r\n          }\r\n          if(calculations.onScreen) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback !== undefined) {\r\n            return calculations.onOnScreen;\r\n          }\r\n        },\r\n\r\n        offScreen: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onOffScreen,\r\n            callbackName = 'offScreen'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for offScreen', newCallback);\r\n            settings.onOffScreen = newCallback;\r\n          }\r\n          if(calculations.offScreen) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback !== undefined) {\r\n            return calculations.onOffScreen;\r\n          }\r\n        },\r\n\r\n        passing: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onPassing,\r\n            callbackName = 'passing'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for passing', newCallback);\r\n            settings.onPassing = newCallback;\r\n          }\r\n          if(calculations.passing) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback !== undefined) {\r\n            return calculations.passing;\r\n          }\r\n        },\r\n\r\n\r\n        topVisible: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onTopVisible,\r\n            callbackName = 'topVisible'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for top visible', newCallback);\r\n            settings.onTopVisible = newCallback;\r\n          }\r\n          if(calculations.topVisible) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return calculations.topVisible;\r\n          }\r\n        },\r\n\r\n        bottomVisible: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onBottomVisible,\r\n            callbackName = 'bottomVisible'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for bottom visible', newCallback);\r\n            settings.onBottomVisible = newCallback;\r\n          }\r\n          if(calculations.bottomVisible) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return calculations.bottomVisible;\r\n          }\r\n        },\r\n\r\n        topPassed: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onTopPassed,\r\n            callbackName = 'topPassed'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for top passed', newCallback);\r\n            settings.onTopPassed = newCallback;\r\n          }\r\n          if(calculations.topPassed) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return calculations.topPassed;\r\n          }\r\n        },\r\n\r\n        bottomPassed: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onBottomPassed,\r\n            callbackName = 'bottomPassed'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for bottom passed', newCallback);\r\n            settings.onBottomPassed = newCallback;\r\n          }\r\n          if(calculations.bottomPassed) {\r\n            module.execute(callback, callbackName);\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return calculations.bottomPassed;\r\n          }\r\n        },\r\n\r\n        passingReverse: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onPassingReverse,\r\n            callbackName = 'passingReverse'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for passing reverse', newCallback);\r\n            settings.onPassingReverse = newCallback;\r\n          }\r\n          if(!calculations.passing) {\r\n            if(module.get.occurred('passing')) {\r\n              module.execute(callback, callbackName);\r\n            }\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback !== undefined) {\r\n            return !calculations.passing;\r\n          }\r\n        },\r\n\r\n\r\n        topVisibleReverse: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onTopVisibleReverse,\r\n            callbackName = 'topVisibleReverse'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for top visible reverse', newCallback);\r\n            settings.onTopVisibleReverse = newCallback;\r\n          }\r\n          if(!calculations.topVisible) {\r\n            if(module.get.occurred('topVisible')) {\r\n              module.execute(callback, callbackName);\r\n            }\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return !calculations.topVisible;\r\n          }\r\n        },\r\n\r\n        bottomVisibleReverse: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onBottomVisibleReverse,\r\n            callbackName = 'bottomVisibleReverse'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for bottom visible reverse', newCallback);\r\n            settings.onBottomVisibleReverse = newCallback;\r\n          }\r\n          if(!calculations.bottomVisible) {\r\n            if(module.get.occurred('bottomVisible')) {\r\n              module.execute(callback, callbackName);\r\n            }\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return !calculations.bottomVisible;\r\n          }\r\n        },\r\n\r\n        topPassedReverse: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onTopPassedReverse,\r\n            callbackName = 'topPassedReverse'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for top passed reverse', newCallback);\r\n            settings.onTopPassedReverse = newCallback;\r\n          }\r\n          if(!calculations.topPassed) {\r\n            if(module.get.occurred('topPassed')) {\r\n              module.execute(callback, callbackName);\r\n            }\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return !calculations.onTopPassed;\r\n          }\r\n        },\r\n\r\n        bottomPassedReverse: function(newCallback) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            callback     = newCallback || settings.onBottomPassedReverse,\r\n            callbackName = 'bottomPassedReverse'\r\n          ;\r\n          if(newCallback) {\r\n            module.debug('Adding callback for bottom passed reverse', newCallback);\r\n            settings.onBottomPassedReverse = newCallback;\r\n          }\r\n          if(!calculations.bottomPassed) {\r\n            if(module.get.occurred('bottomPassed')) {\r\n              module.execute(callback, callbackName);\r\n            }\r\n          }\r\n          else if(!settings.once) {\r\n            module.remove.occurred(callbackName);\r\n          }\r\n          if(newCallback === undefined) {\r\n            return !calculations.bottomPassed;\r\n          }\r\n        },\r\n\r\n        execute: function(callback, callbackName) {\r\n          var\r\n            calculations = module.get.elementCalculations(),\r\n            screen       = module.get.screenCalculations()\r\n          ;\r\n          callback = callback || false;\r\n          if(callback) {\r\n            if(settings.continuous) {\r\n              module.debug('Callback being called continuously', callbackName, calculations);\r\n              callback.call(element, calculations, screen);\r\n            }\r\n            else if(!module.get.occurred(callbackName)) {\r\n              module.debug('Conditions met', callbackName, calculations);\r\n              callback.call(element, calculations, screen);\r\n            }\r\n          }\r\n          module.save.occurred(callbackName);\r\n        },\r\n\r\n        remove: {\r\n          fixed: function() {\r\n            module.debug('Removing fixed position');\r\n            $module\r\n              .removeClass(className.fixed)\r\n              .css({\r\n                position : '',\r\n                top      : '',\r\n                left     : '',\r\n                zIndex   : ''\r\n              })\r\n            ;\r\n            settings.onUnfixed.call(element);\r\n          },\r\n          placeholder: function() {\r\n            module.debug('Removing placeholder content');\r\n            if($placeholder) {\r\n              $placeholder.remove();\r\n            }\r\n          },\r\n          occurred: function(callback) {\r\n            if(callback) {\r\n              var\r\n                occurred = module.cache.occurred\r\n              ;\r\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\r\n                module.debug('Callback can now be called again', callback);\r\n                module.cache.occurred[callback] = false;\r\n              }\r\n            }\r\n            else {\r\n              module.cache.occurred = {};\r\n            }\r\n          }\r\n        },\r\n\r\n        save: {\r\n          calculations: function() {\r\n            module.verbose('Saving all calculations necessary to determine positioning');\r\n            module.save.direction();\r\n            module.save.screenCalculations();\r\n            module.save.elementCalculations();\r\n          },\r\n          occurred: function(callback) {\r\n            if(callback) {\r\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\r\n                module.verbose('Saving callback occurred', callback);\r\n                module.cache.occurred[callback] = true;\r\n              }\r\n            }\r\n          },\r\n          scroll: function(scrollPosition) {\r\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\r\n            module.cache.scroll = scrollPosition;\r\n          },\r\n          direction: function() {\r\n            var\r\n              scroll     = module.get.scroll(),\r\n              lastScroll = module.get.lastScroll(),\r\n              direction\r\n            ;\r\n            if(scroll > lastScroll && lastScroll) {\r\n              direction = 'down';\r\n            }\r\n            else if(scroll < lastScroll && lastScroll) {\r\n              direction = 'up';\r\n            }\r\n            else {\r\n              direction = 'static';\r\n            }\r\n            module.cache.direction = direction;\r\n            return module.cache.direction;\r\n          },\r\n          elementPosition: function() {\r\n            var\r\n              element = module.cache.element,\r\n              screen  = module.get.screenSize()\r\n            ;\r\n            module.verbose('Saving element position');\r\n            // (quicker than $.extend)\r\n            element.fits          = (element.height < screen.height);\r\n            element.offset        = $module.offset();\r\n            element.width         = $module.outerWidth();\r\n            element.height        = $module.outerHeight();\r\n            // compensate for scroll in context\r\n            if(module.is.verticallyScrollableContext()) {\r\n              element.offset.top += $context.scrollTop() - $context.offset().top;\r\n            }\r\n            if(module.is.horizontallyScrollableContext()) {\r\n              element.offset.left += $context.scrollLeft() - $context.offset().left;\r\n            }\r\n            // store\r\n            module.cache.element = element;\r\n            return element;\r\n          },\r\n          elementCalculations: function() {\r\n            var\r\n              screen     = module.get.screenCalculations(),\r\n              element    = module.get.elementPosition()\r\n            ;\r\n            // offset\r\n            if(settings.includeMargin) {\r\n              element.margin        = {};\r\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\r\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\r\n              element.top    = element.offset.top - element.margin.top;\r\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\r\n            }\r\n            else {\r\n              element.top    = element.offset.top;\r\n              element.bottom = element.offset.top + element.height;\r\n            }\r\n\r\n            // visibility\r\n            element.topPassed        = (screen.top >= element.top);\r\n            element.bottomPassed     = (screen.top >= element.bottom);\r\n            element.topVisible       = (screen.bottom >= element.top) && !element.topPassed;\r\n            element.bottomVisible    = (screen.bottom >= element.bottom) && !element.bottomPassed;\r\n            element.pixelsPassed     = 0;\r\n            element.percentagePassed = 0;\r\n\r\n            // meta calculations\r\n            element.onScreen  = ((element.topVisible || element.passing) && !element.bottomPassed);\r\n            element.passing   = (element.topPassed && !element.bottomPassed);\r\n            element.offScreen = (!element.onScreen);\r\n\r\n            // passing calculations\r\n            if(element.passing) {\r\n              element.pixelsPassed     = (screen.top - element.top);\r\n              element.percentagePassed = (screen.top - element.top) / element.height;\r\n            }\r\n            module.cache.element = element;\r\n            module.verbose('Updated element calculations', element);\r\n            return element;\r\n          },\r\n          screenCalculations: function() {\r\n            var\r\n              scroll = module.get.scroll()\r\n            ;\r\n            module.save.direction();\r\n            module.cache.screen.top    = scroll;\r\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\r\n            return module.cache.screen;\r\n          },\r\n          screenSize: function() {\r\n            module.verbose('Saving window position');\r\n            module.cache.screen = {\r\n              height: $context.height()\r\n            };\r\n          },\r\n          position: function() {\r\n            module.save.screenSize();\r\n            module.save.elementPosition();\r\n          }\r\n        },\r\n\r\n        get: {\r\n          pixelsPassed: function(amount) {\r\n            var\r\n              element = module.get.elementCalculations()\r\n            ;\r\n            if(amount.search('%') > -1) {\r\n              return ( element.height * (parseInt(amount, 10) / 100) );\r\n            }\r\n            return parseInt(amount, 10);\r\n          },\r\n          occurred: function(callback) {\r\n            return (module.cache.occurred !== undefined)\r\n              ? module.cache.occurred[callback] || false\r\n              : false\r\n            ;\r\n          },\r\n          direction: function() {\r\n            if(module.cache.direction === undefined) {\r\n              module.save.direction();\r\n            }\r\n            return module.cache.direction;\r\n          },\r\n          elementPosition: function() {\r\n            if(module.cache.element === undefined) {\r\n              module.save.elementPosition();\r\n            }\r\n            return module.cache.element;\r\n          },\r\n          elementCalculations: function() {\r\n            if(module.cache.element === undefined) {\r\n              module.save.elementCalculations();\r\n            }\r\n            return module.cache.element;\r\n          },\r\n          screenCalculations: function() {\r\n            if(module.cache.screen === undefined) {\r\n              module.save.screenCalculations();\r\n            }\r\n            return module.cache.screen;\r\n          },\r\n          screenSize: function() {\r\n            if(module.cache.screen === undefined) {\r\n              module.save.screenSize();\r\n            }\r\n            return module.cache.screen;\r\n          },\r\n          scroll: function() {\r\n            if(module.cache.scroll === undefined) {\r\n              module.save.scroll();\r\n            }\r\n            return module.cache.scroll;\r\n          },\r\n          lastScroll: function() {\r\n            if(module.cache.screen === undefined) {\r\n              module.debug('First scroll event, no last scroll could be found');\r\n              return false;\r\n            }\r\n            return module.cache.screen.top;\r\n          }\r\n        },\r\n\r\n        setting: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, settings, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            settings[name] = value;\r\n          }\r\n          else {\r\n            return settings[name];\r\n          }\r\n        },\r\n        internal: function(name, value) {\r\n          if( $.isPlainObject(name) ) {\r\n            $.extend(true, module, name);\r\n          }\r\n          else if(value !== undefined) {\r\n            module[name] = value;\r\n          }\r\n          else {\r\n            return module[name];\r\n          }\r\n        },\r\n        debug: function() {\r\n          if(!settings.silent && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.debug.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        verbose: function() {\r\n          if(!settings.silent && settings.verbose && settings.debug) {\r\n            if(settings.performance) {\r\n              module.performance.log(arguments);\r\n            }\r\n            else {\r\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\r\n              module.verbose.apply(console, arguments);\r\n            }\r\n          }\r\n        },\r\n        error: function() {\r\n          if(!settings.silent) {\r\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\r\n            module.error.apply(console, arguments);\r\n          }\r\n        },\r\n        performance: {\r\n          log: function(message) {\r\n            var\r\n              currentTime,\r\n              executionTime,\r\n              previousTime\r\n            ;\r\n            if(settings.performance) {\r\n              currentTime   = new Date().getTime();\r\n              previousTime  = time || currentTime;\r\n              executionTime = currentTime - previousTime;\r\n              time          = currentTime;\r\n              performance.push({\r\n                'Name'           : message[0],\r\n                'Arguments'      : [].slice.call(message, 1) || '',\r\n                'Element'        : element,\r\n                'Execution Time' : executionTime\r\n              });\r\n            }\r\n            clearTimeout(module.performance.timer);\r\n            module.performance.timer = setTimeout(module.performance.display, 500);\r\n          },\r\n          display: function() {\r\n            var\r\n              title = settings.name + ':',\r\n              totalTime = 0\r\n            ;\r\n            time = false;\r\n            clearTimeout(module.performance.timer);\r\n            $.each(performance, function(index, data) {\r\n              totalTime += data['Execution Time'];\r\n            });\r\n            title += ' ' + totalTime + 'ms';\r\n            if(moduleSelector) {\r\n              title += ' \\'' + moduleSelector + '\\'';\r\n            }\r\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\r\n              console.groupCollapsed(title);\r\n              if(console.table) {\r\n                console.table(performance);\r\n              }\r\n              else {\r\n                $.each(performance, function(index, data) {\r\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\r\n                });\r\n              }\r\n              console.groupEnd();\r\n            }\r\n            performance = [];\r\n          }\r\n        },\r\n        invoke: function(query, passedArguments, context) {\r\n          var\r\n            object = instance,\r\n            maxDepth,\r\n            found,\r\n            response\r\n          ;\r\n          passedArguments = passedArguments || queryArguments;\r\n          context         = element         || context;\r\n          if(typeof query == 'string' && object !== undefined) {\r\n            query    = query.split(/[\\. ]/);\r\n            maxDepth = query.length - 1;\r\n            $.each(query, function(depth, value) {\r\n              var camelCaseValue = (depth != maxDepth)\r\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\r\n                : query\r\n              ;\r\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\r\n                object = object[camelCaseValue];\r\n              }\r\n              else if( object[camelCaseValue] !== undefined ) {\r\n                found = object[camelCaseValue];\r\n                return false;\r\n              }\r\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\r\n                object = object[value];\r\n              }\r\n              else if( object[value] !== undefined ) {\r\n                found = object[value];\r\n                return false;\r\n              }\r\n              else {\r\n                module.error(error.method, query);\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n          if ( $.isFunction( found ) ) {\r\n            response = found.apply(context, passedArguments);\r\n          }\r\n          else if(found !== undefined) {\r\n            response = found;\r\n          }\r\n          if(Array.isArray(returnedValue)) {\r\n            returnedValue.push(response);\r\n          }\r\n          else if(returnedValue !== undefined) {\r\n            returnedValue = [returnedValue, response];\r\n          }\r\n          else if(response !== undefined) {\r\n            returnedValue = response;\r\n          }\r\n          return found;\r\n        }\r\n      };\r\n\r\n      if(methodInvoked) {\r\n        if(instance === undefined) {\r\n          module.initialize();\r\n        }\r\n        instance.save.scroll();\r\n        instance.save.calculations();\r\n        module.invoke(query);\r\n      }\r\n      else {\r\n        if(instance !== undefined) {\r\n          instance.invoke('destroy');\r\n        }\r\n        module.initialize();\r\n      }\r\n    })\r\n  ;\r\n\r\n  return (returnedValue !== undefined)\r\n    ? returnedValue\r\n    : this\r\n  ;\r\n};\r\n\r\n$.fn.visibility.settings = {\r\n\r\n  name                   : 'Visibility',\r\n  namespace              : 'visibility',\r\n\r\n  debug                  : false,\r\n  verbose                : false,\r\n  performance            : true,\r\n\r\n  // whether to use mutation observers to follow changes\r\n  observeChanges         : true,\r\n\r\n  // check position immediately on init\r\n  initialCheck           : true,\r\n\r\n  // whether to refresh calculations after all page images load\r\n  refreshOnLoad          : true,\r\n\r\n  // whether to refresh calculations after page resize event\r\n  refreshOnResize        : true,\r\n\r\n  // should call callbacks on refresh event (resize, etc)\r\n  checkOnRefresh         : true,\r\n\r\n  // callback should only occur one time\r\n  once                   : true,\r\n\r\n  // callback should fire continuously whe evaluates to true\r\n  continuous             : false,\r\n\r\n  // offset to use with scroll top\r\n  offset                 : 0,\r\n\r\n  // whether to include margin in elements position\r\n  includeMargin          : false,\r\n\r\n  // scroll context for visibility checks\r\n  context                : window,\r\n\r\n  // visibility check delay in ms (defaults to animationFrame)\r\n  throttle               : false,\r\n\r\n  // special visibility type (image, fixed)\r\n  type                   : false,\r\n\r\n  // z-index to use with visibility 'fixed'\r\n  zIndex                 : '10',\r\n\r\n  // image only animation settings\r\n  transition             : 'fade in',\r\n  duration               : 1000,\r\n\r\n  // array of callbacks for percentage\r\n  onPassed               : {},\r\n\r\n  // standard callbacks\r\n  onOnScreen             : false,\r\n  onOffScreen            : false,\r\n  onPassing              : false,\r\n  onTopVisible           : false,\r\n  onBottomVisible        : false,\r\n  onTopPassed            : false,\r\n  onBottomPassed         : false,\r\n\r\n  // reverse callbacks\r\n  onPassingReverse       : false,\r\n  onTopVisibleReverse    : false,\r\n  onBottomVisibleReverse : false,\r\n  onTopPassedReverse     : false,\r\n  onBottomPassedReverse  : false,\r\n\r\n  // special callbacks for image\r\n  onLoad                 : function() {},\r\n  onAllLoaded            : function() {},\r\n\r\n  // special callbacks for fixed position\r\n  onFixed                : function() {},\r\n  onUnfixed              : function() {},\r\n\r\n  // utility callbacks\r\n  onUpdate               : false, // disabled by default for performance\r\n  onRefresh              : function(){},\r\n\r\n  metadata : {\r\n    src: 'src'\r\n  },\r\n\r\n  className: {\r\n    fixed       : 'fixed',\r\n    placeholder : 'constraint',\r\n    visible     : 'visible'\r\n  },\r\n\r\n  error : {\r\n    method  : 'The method you called is not defined.',\r\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\r\n  }\r\n\r\n};\r\n\r\n})( jQuery, window, document );\r\n"],"sourceRoot":""}